"use strict";(self.webpackChunkunidex=self.webpackChunkunidex||[]).push([[5408],{5408:(e,t,n)=>{n.r(t),n.d(t,{AppKitModal:()=>Jn,W3mModal:()=>Qn,W3mModalBase:()=>$n,W3mRouterContainer:()=>ro});var o=n(7528),r=n(7022),i=n(8117),a=n(6440),s=n(1769),c=n(3264),l=n(2661),d=n(6132),u=n(7321),p=n(5015),w=n(6496),m=n(1139),h=n(4274),v=n(7994);const g={isUnsupportedChainView:()=>"UnsupportedChain"===m.I.state.view||"SwitchNetwork"===m.I.state.view&&m.I.state.history.includes("UnsupportedChain"),async safeClose(){if(this.isUnsupportedChainView())return void d.W.shake();await v.U.isSIWXCloseDisabled()?d.W.shake():("DataCapture"!==m.I.state.view&&"DataCaptureOtpConfirm"!==m.I.state.view||h.x.disconnect(),d.W.close())}};var y=n(6141),f=n(7258),k=n(7038),b=n(9379),A=n(4551),T=n(6844),x=n(268),S=n(9979),C=n(1798),P=n(205),F=n(4657),I=n(3801);const E={getGasPriceInEther:(e,t)=>Number(t*e)/1e18,getGasPriceInUSD(e,t,n){const o=E.getGasPriceInEther(t,n);return x.S.bigNumber(e).times(o).toNumber()},getPriceImpact(e){let{sourceTokenAmount:t,sourceTokenPriceInUSD:n,toTokenPriceInUSD:o,toTokenAmount:r}=e;const i=x.S.bigNumber(t).times(n),a=x.S.bigNumber(r).times(o);return i.minus(a).div(i).times(100).toNumber()},getMaxSlippage(e,t){const n=x.S.bigNumber(e).div(100);return x.S.multiply(t,n).toNumber()},getProviderFee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.0085;return x.S.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas(e,t){const n=t||"0";return!!x.S.bigNumber(e).eq(0)||x.S.bigNumber(x.S.bigNumber(n)).gt(e)},isInsufficientSourceTokenForSwap(e,t,n){var o;const r=null===n||void 0===n||null===(o=n.find(e=>e.address===t))||void 0===o||null===(o=o.quantity)||void 0===o?void 0:o.numeric;return x.S.bigNumber(r||"0").lt(e)}};var W=n(8882),D=n(595),N=n(3542),R=n(5618),O=n(9323);const q=15e4;Error;const B={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:F.oU.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},U=(0,A.BX)((0,b.A)({},B)),M={state:U,subscribe:e=>(0,A.B1)(U,()=>e(U)),subscribeKey:(e,t)=>(0,T.u$)(U,e,t),getParams(){var e,t,n,o,r,i,a,s,l;const d=u.W.state.activeChain,w=null!==(e=D.U.getCaipAddress(d))&&void 0!==e?e:u.W.state.activeCaipAddress,m=k.w.getPlainAddress(w),h=(0,P.K1)(),v=p.a.getConnectorId(u.W.state.activeChain);if(!m)throw new Error("No address found to swap the tokens from.");const g=!(null!==(t=U.toToken)&&void 0!==t&&t.address)||!(null!==(n=U.toToken)&&void 0!==n&&n.decimals),y=!(null!==(o=U.sourceToken)&&void 0!==o&&o.address)||!(null!==(r=U.sourceToken)&&void 0!==r&&r.decimals)||!x.S.bigNumber(U.sourceTokenAmount).gt(0),f=!U.sourceTokenAmount;return{networkAddress:h,fromAddress:m,fromCaipAddress:w,sourceTokenAddress:null===(i=U.sourceToken)||void 0===i?void 0:i.address,toTokenAddress:null===(a=U.toToken)||void 0===a?void 0:a.address,toTokenAmount:U.toTokenAmount,toTokenDecimals:null===(s=U.toToken)||void 0===s?void 0:s.decimals,sourceTokenAmount:U.sourceTokenAmount,sourceTokenDecimals:null===(l=U.sourceToken)||void 0===l?void 0:l.decimals,invalidToToken:g,invalidSourceToken:y,invalidSourceTokenAmount:f,availableToSwap:w&&!g&&!y&&!f,isAuthConnector:v===c.o.CONNECTOR_ID.AUTH}},setSourceToken(e){if(!e)return U.sourceToken=e,U.sourceTokenAmount="",void(U.sourceTokenPriceInUSD=0);U.sourceToken=e,z.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){U.sourceTokenAmount=e},setToToken(e){if(!e)return U.toToken=e,U.toTokenAmount="",void(U.toTokenPriceInUSD=0);U.toToken=e,z.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){U.toTokenAmount=e?x.S.toFixed(e,6):""},async setTokenPrice(e,t){let n=U.tokensPriceMap[e]||0;n||(U.loadingPrices=!0,n=await z.getAddressPrice(e)),"sourceToken"===t?U.sourceTokenPriceInUSD=n:"toToken"===t&&(U.toTokenPriceInUSD=n),U.loadingPrices&&(U.loadingPrices=!1),z.getParams().availableToSwap&&z.swapTokens()},switchTokens(){if(U.initializing||!U.initialized)return;const e=U.toToken?(0,b.A)({},U.toToken):void 0,t=U.sourceToken?(0,b.A)({},U.sourceToken):void 0,n=e&&""===U.toTokenAmount?"1":U.toTokenAmount;z.setSourceToken(e),z.setToToken(t),z.setSourceTokenAmount(n),z.setToTokenAmount(""),z.swapTokens()},resetState(){U.myTokensWithBalance=B.myTokensWithBalance,U.tokensPriceMap=B.tokensPriceMap,U.initialized=B.initialized,U.initializing=B.initializing,U.sourceToken=B.sourceToken,U.sourceTokenAmount=B.sourceTokenAmount,U.sourceTokenPriceInUSD=B.sourceTokenPriceInUSD,U.toToken=B.toToken,U.toTokenAmount=B.toTokenAmount,U.toTokenPriceInUSD=B.toTokenPriceInUSD,U.networkPrice=B.networkPrice,U.networkTokenSymbol=B.networkTokenSymbol,U.networkBalanceInUSD=B.networkBalanceInUSD,U.inputError=B.inputError},resetValues(){var e;const{networkAddress:t}=z.getParams(),n=null===(e=U.tokens)||void 0===e?void 0:e.find(e=>e.address===t);z.setSourceToken(n),z.setToToken(void 0)},getApprovalLoadingState:()=>U.loadingApprovalTransaction,clearError(){U.transactionError=void 0},async initializeState(){if(!U.initializing){if(U.initializing=!0,!U.initialized)try{await z.fetchTokens(),U.initialized=!0}catch(e){U.initialized=!1,f.P.showError("Failed to initialize swap"),m.I.goBack()}U.initializing=!1}},async fetchTokens(){var e;const{networkAddress:t}=z.getParams();await z.getNetworkTokenPrice(),await z.getMyTokensWithBalance();const n=null===(e=U.myTokensWithBalance)||void 0===e?void 0:e.find(e=>e.address===t);n&&(U.networkTokenSymbol=n.symbol,z.setSourceToken(n),z.setSourceTokenAmount("0"))},async getTokenList(){var e;const t=null===(e=u.W.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId;if(U.caipNetworkId!==t||!U.tokens)try{U.tokensLoading=!0;const e=await I.s.getTokenList(t);U.tokens=e,U.caipNetworkId=t,U.popularTokens=e.sort((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0),U.suggestedTokens=e.filter(e=>!!F.oU.SWAP_SUGGESTED_TOKENS.includes(e.symbol))}catch(n){U.tokens=[],U.popularTokens=[],U.suggestedTokens=[]}finally{U.tokensLoading=!1}},async getAddressPrice(e){var t,n;const o=U.tokensPriceMap[e];if(o)return o;const r=await R.T.fetchTokenPrice({addresses:[e]}),i=(null===r||void 0===r?void 0:r.fungibles)||[],a=[...U.tokens||[],...U.myTokensWithBalance||[]],s=null===a||void 0===a||null===(t=a.find(t=>t.address===e))||void 0===t?void 0:t.symbol,c=(null===(n=i.find(e=>e.symbol.toLowerCase()===(null===s||void 0===s?void 0:s.toLowerCase())))||void 0===n?void 0:n.price)||0,l=parseFloat(c.toString());return U.tokensPriceMap[e]=l,l},async getNetworkTokenPrice(){var e;const{networkAddress:t}=z.getParams(),n=null===(e=(await R.T.fetchTokenPrice({addresses:[t]}).catch(()=>(f.P.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)||void 0===e?void 0:e[0],o=(null===n||void 0===n?void 0:n.price.toString())||"0";U.tokensPriceMap[t]=parseFloat(o),U.networkTokenSymbol=(null===n||void 0===n?void 0:n.symbol)||"",U.networkPrice=o},async getMyTokensWithBalance(e){const t=await C.Z.getMyTokensWithBalance(e),n=I.s.mapBalancesToSwapTokens(t);n&&(await z.getInitialGasPrice(),z.setBalances(n))},setBalances(e){const{networkAddress:t}=z.getParams(),n=u.W.state.activeCaipNetwork;if(!n)return;const o=e.find(e=>e.address===t);e.forEach(e=>{U.tokensPriceMap[e.address]=e.price||0}),U.myTokensWithBalance=e.filter(e=>e.address.startsWith(n.caipNetworkId)),U.networkBalanceInUSD=o?x.S.multiply(o.quantity.numeric,o.price).toString():"0"},async getInitialGasPrice(){var e,t,n;const o=await I.s.fetchGasPrice();if(!o)return{gasPrice:null,gasPriceInUSD:null};switch(null===(e=u.W.state)||void 0===e||null===(e=e.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace){case c.o.CHAIN.SOLANA:return U.gasFee=null!==(t=o.standard)&&void 0!==t?t:"0",U.gasPriceInUSD=x.S.multiply(o.standard,U.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(U.gasFee),gasPriceInUSD:Number(U.gasPriceInUSD)};case c.o.CHAIN.EVM:default:const e=null!==(n=o.standard)&&void 0!==n?n:"0",r=BigInt(e),i=BigInt(q),a=E.getGasPriceInUSD(U.networkPrice,i,r);return U.gasFee=e,U.gasPriceInUSD=a,{gasPrice:r,gasPriceInUSD:a}}},async swapTokens(){const e=D.U.state.address,t=U.sourceToken,n=U.toToken,o=x.S.bigNumber(U.sourceTokenAmount).gt(0);if(o||z.setToTokenAmount(""),!n||!t||U.loadingPrices||!o)return;U.loadingQuote=!0;const r=x.S.bigNumber(U.sourceTokenAmount).times(10**t.decimals).round(0);try{var i;const o=await R.T.fetchSwapQuote({userAddress:e,from:t.address,to:n.address,gasPrice:U.gasFee,amount:r.toString()});U.loadingQuote=!1;const a=null===o||void 0===o||null===(i=o.quotes)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.toAmount;if(!a)return void N.h.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");const s=x.S.bigNumber(a).div(10**n.decimals).toString();z.setToTokenAmount(s);z.hasInsufficientToken(U.sourceTokenAmount,t.address)?U.inputError="Insufficient balance":(U.inputError=void 0,z.setTransactionDetails())}catch(a){U.loadingQuote=!1,U.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=z.getParams(),n=U.sourceToken,o=U.toToken;if(e&&t&&n&&o&&!U.loadingQuote)try{U.loadingBuildTransaction=!0;let t;return t=await I.s.fetchSwapAllowance({userAddress:e,tokenAddress:n.address,sourceTokenAmount:U.sourceTokenAmount,sourceTokenDecimals:n.decimals})?await z.createSwapTransaction():await z.createAllowanceTransaction(),U.loadingBuildTransaction=!1,U.fetchError=!1,t}catch(r){return m.I.goBack(),f.P.showError("Failed to check allowance"),U.loadingBuildTransaction=!1,U.approvalTransaction=void 0,U.swapTransaction=void 0,void(U.fetchError=!0)}},async createAllowanceTransaction(){const{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:n}=z.getParams();if(e&&n){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const o=await R.T.generateApproveCalldata({from:t,to:n,userAddress:e}),r=k.w.getPlainAddress(o.tx.from);if(!r)throw new Error("SwapController:createAllowanceTransaction - address is required");const i={data:o.tx.data,to:r,gasPrice:BigInt(o.tx.eip155.gasPrice),value:BigInt(o.tx.value),toAmount:U.toTokenAmount};return U.swapTransaction=void 0,U.approvalTransaction={data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount},{data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount}}catch(o){return m.I.goBack(),f.P.showError("Failed to create approval transaction"),U.approvalTransaction=void 0,U.swapTransaction=void 0,void(U.fetchError=!0)}}},async createSwapTransaction(){var e;const{networkAddress:t,fromCaipAddress:n,sourceTokenAmount:o}=z.getParams(),r=U.sourceToken,i=U.toToken;if(!n||!o||!r||!i)return;const a=null===(e=h.x.parseUnits(o,r.decimals))||void 0===e?void 0:e.toString();try{const e=await R.T.generateSwapCalldata({userAddress:n,from:r.address,to:i.address,amount:a,disableEstimate:!0}),o=r.address===t,s=BigInt(e.tx.eip155.gas),c=BigInt(e.tx.eip155.gasPrice),l=k.w.getPlainAddress(e.tx.to);if(!l)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:e.tx.data,to:l,gas:s,gasPrice:c,value:o?BigInt(null!==a&&void 0!==a?a:"0"):BigInt("0"),toAmount:U.toTokenAmount};return U.gasPriceInUSD=E.getGasPriceInUSD(U.networkPrice,s,c),U.approvalTransaction=void 0,U.swapTransaction=d,d}catch(s){return m.I.goBack(),f.P.showError("Failed to create transaction"),U.approvalTransaction=void 0,U.swapTransaction=void 0,void(U.fetchError=!0)}},onEmbeddedWalletApprovalSuccess(){f.P.showLoading("Approve limit increase in your wallet"),m.I.replace("SwapPreview")},async sendTransactionForApproval(e){const{fromAddress:t,isAuthConnector:n}=z.getParams();U.loadingApprovalTransaction=!0;n?m.I.pushTransactionStack({onSuccess:z.onEmbeddedWalletApprovalSuccess}):f.P.showLoading("Approve limit increase in your wallet");try{await h.x.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:c.o.CHAIN.EVM}),await z.swapTokens(),await z.getTransaction(),U.approvalTransaction=void 0,U.loadingApprovalTransaction=!1}catch(a){var o,r,i;const e=a;U.transactionError=null===e||void 0===e?void 0:e.displayMessage,U.loadingApprovalTransaction=!1,f.P.showError((null===e||void 0===e?void 0:e.displayMessage)||"Transaction error"),O.E.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(null===e||void 0===e?void 0:e.displayMessage)||(null===e||void 0===e?void 0:e.message)||"Unknown",network:(null===(o=u.W.state.activeCaipNetwork)||void 0===o?void 0:o.caipNetworkId)||"",swapFromToken:(null===(r=z.state.sourceToken)||void 0===r?void 0:r.symbol)||"",swapToToken:(null===(i=z.state.toToken)||void 0===i?void 0:i.symbol)||"",swapFromAmount:z.state.sourceTokenAmount||"",swapToAmount:z.state.toTokenAmount||"",isSmartAccount:(0,P.lj)(c.o.CHAIN.EVM)===S.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){var t,n,o,r;if(!e)return;const{fromAddress:i,toTokenAmount:a,isAuthConnector:s}=z.getParams();U.loadingTransaction=!0;const l="Swapping ".concat(null===(t=U.sourceToken)||void 0===t?void 0:t.symbol," to ").concat(x.S.formatNumberToLocalString(a,3)," ").concat(null===(n=U.toToken)||void 0===n?void 0:n.symbol),d="Swapped ".concat(null===(o=U.sourceToken)||void 0===o?void 0:o.symbol," to ").concat(x.S.formatNumberToLocalString(a,3)," ").concat(null===(r=U.toToken)||void 0===r?void 0:r.symbol);s?m.I.pushTransactionStack({onSuccess(){m.I.replace("Account"),f.P.showLoading(l),M.resetState()}}):f.P.showLoading("Confirm transaction in your wallet");try{var p,w,v,g,y;const t=[null===(p=U.sourceToken)||void 0===p?void 0:p.address,null===(w=U.toToken)||void 0===w?void 0:w.address].join(","),n=await h.x.sendTransaction({address:i,to:e.to,data:e.data,value:e.value,chainNamespace:c.o.CHAIN.EVM});return U.loadingTransaction=!1,f.P.showSuccess(d),O.E.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:(null===(v=u.W.state.activeCaipNetwork)||void 0===v?void 0:v.caipNetworkId)||"",swapFromToken:(null===(g=z.state.sourceToken)||void 0===g?void 0:g.symbol)||"",swapToToken:(null===(y=z.state.toToken)||void 0===y?void 0:y.symbol)||"",swapFromAmount:z.state.sourceTokenAmount||"",swapToAmount:z.state.toTokenAmount||"",isSmartAccount:(0,P.lj)(c.o.CHAIN.EVM)===S.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),M.resetState(),s||m.I.replace("Account"),M.getMyTokensWithBalance(t),n}catch(T){var k,b,A;const e=T;return U.transactionError=null===e||void 0===e?void 0:e.displayMessage,U.loadingTransaction=!1,f.P.showError((null===e||void 0===e?void 0:e.displayMessage)||"Transaction error"),void O.E.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(null===e||void 0===e?void 0:e.displayMessage)||(null===e||void 0===e?void 0:e.message)||"Unknown",network:(null===(k=u.W.state.activeCaipNetwork)||void 0===k?void 0:k.caipNetworkId)||"",swapFromToken:(null===(b=z.state.sourceToken)||void 0===b?void 0:b.symbol)||"",swapToToken:(null===(A=z.state.toToken)||void 0===A?void 0:A.symbol)||"",swapFromAmount:z.state.sourceTokenAmount||"",swapToAmount:z.state.toTokenAmount||"",isSmartAccount:(0,P.lj)(c.o.CHAIN.EVM)===S.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}})}},hasInsufficientToken:(e,t)=>E.isInsufficientSourceTokenForSwap(e,t,U.myTokensWithBalance),setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=z.getParams();e&&t&&(U.gasPriceInUSD=E.getGasPriceInUSD(U.networkPrice,BigInt(U.gasFee),BigInt(q)),U.priceImpact=E.getPriceImpact({sourceTokenAmount:U.sourceTokenAmount,sourceTokenPriceInUSD:U.sourceTokenPriceInUSD,toTokenPriceInUSD:U.toTokenPriceInUSD,toTokenAmount:U.toTokenAmount}),U.maxSlippage=E.getMaxSlippage(U.slippage,U.toTokenAmount),U.providerFee=E.getProviderFee(U.sourceTokenAmount))}},z=(0,W.X)(M);var H,j=n(282),L=n(9446),_=n(7845),V=n(9406);const K=(0,V.AH)(H||(H=(0,o.A)(["\n  :host {\n    display: block;\n    border-radius: clamp(0px, ",", 44px);\n    box-shadow: 0 0 0 1px ",";\n    background-color: ",";\n    overflow: hidden;\n  }\n"])),e=>{let{borderRadius:t}=e;return t[8]},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary});var Z,G=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let Y=class extends r.WF{render(){return(0,r.qy)(Z||(Z=(0,o.A)(["<slot></slot>"])))}};Y.styles=[L.W5,K],Y=G([(0,_.E)("wui-card")],Y);var X;n(4107),n(618),n(9819),n(2574);const $=(0,V.AH)(X||(X=(0,o.A)(["\n  :host {\n    width: 100%;\n  }\n\n  :host > wui-flex {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: ",";\n    padding: ",";\n    border-radius: ",";\n    border: 1px solid ",";\n    box-sizing: border-box;\n    background-color: ",";\n    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);\n    color: ",";\n  }\n\n  :host > wui-flex[data-type='info'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='success'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='warning'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n  :host > wui-flex[data-type='error'] {\n    .icon-box {\n      background-color: ",";\n\n      wui-icon {\n        color: ",";\n      }\n    }\n  }\n\n  wui-flex {\n    width: 100%;\n  }\n\n  wui-text {\n    word-break: break-word;\n    flex: 1;\n  }\n\n  .close {\n    cursor: pointer;\n    color: ",";\n  }\n\n  .icon-box {\n    height: 40px;\n    width: 40px;\n    border-radius: ",";\n    background-color: var(--local-icon-bg-value);\n  }\n"])),e=>{let{spacing:t}=e;return t[2]},e=>{let{spacing:t}=e;return t[3]},e=>{let{borderRadius:t}=e;return t[6]},e=>{let{tokens:t}=e;return t.theme.borderPrimary},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary},e=>{let{tokens:t}=e;return t.theme.textPrimary},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.theme.iconDefault},e=>{let{tokens:t}=e;return t.core.backgroundSuccess},e=>{let{tokens:t}=e;return t.core.borderSuccess},e=>{let{tokens:t}=e;return t.core.backgroundWarning},e=>{let{tokens:t}=e;return t.core.borderWarning},e=>{let{tokens:t}=e;return t.core.backgroundError},e=>{let{tokens:t}=e;return t.core.borderError},e=>{let{tokens:t}=e;return t.theme.iconDefault},e=>{let{borderRadius:t}=e;return t[2]});var Q,J=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const ee={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let te=class extends r.WF{constructor(){super(...arguments),this.message="",this.type="info"}render(){return(0,r.qy)(Q||(Q=(0,o.A)(["\n      <wui-flex\n        data-type=",'\n        flexDirection="row"\n        justifyContent="space-between"\n        alignItems="center"\n        gap="2"\n      >\n        <wui-flex columnGap="2" flexDirection="row" alignItems="center">\n          <wui-flex\n            flexDirection="row"\n            alignItems="center"\n            justifyContent="center"\n            class="icon-box"\n          >\n            <wui-icon color="inherit" size="md" name=','></wui-icon>\n          </wui-flex>\n          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"\n            >','</wui-text\n          >\n        </wui-flex>\n        <wui-icon\n          class="close"\n          color="inherit"\n          size="sm"\n          name="close"\n          @click=',"\n        ></wui-icon>\n      </wui-flex>\n    "])),(0,a.J)(this.type),ee[this.type],this.message,this.onClose)}onClose(){N.h.close()}};var ne;te.styles=[L.W5,$],J([(0,i.MZ)()],te.prototype,"message",void 0),J([(0,i.MZ)()],te.prototype,"type",void 0),te=J([(0,_.E)("wui-alertbar")],te);const oe=(0,j.AH)(ne||(ne=(0,o.A)(["\n  :host {\n    display: block;\n    position: absolute;\n    top: ",";\n    left: ",";\n    right: ",";\n    opacity: 0;\n    pointer-events: none;\n  }\n"])),e=>{let{spacing:t}=e;return t[3]},e=>{let{spacing:t}=e;return t[4]},e=>{let{spacing:t}=e;return t[4]});var re,ie=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const ae={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let se=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.open=N.h.state.open,this.onOpen(!0),this.unsubscribe.push(N.h.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=N.h.state,n=ae[t];return(0,r.qy)(re||(re=(0,o.A)(["\n      <wui-alertbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n        type=","\n      ></wui-alertbar>\n    "])),e,null===n||void 0===n?void 0:n.backgroundColor,null===n||void 0===n?void 0:n.iconColor,null===n||void 0===n?void 0:n.icon,t)}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};se.styles=oe,ie([(0,i.wk)()],se.prototype,"open",void 0),se=ie([(0,j.EM)("w3m-alertbar")],se);var ce,le=n(1348),de=n(6596);const ue=(0,V.AH)(ce||(ce=(0,o.A)(["\n  button {\n    background-color: transparent;\n    padding: ",";\n  }\n\n  button:focus-visible {\n    box-shadow: 0 0 0 4px ",";\n  }\n\n  button[data-variant='accent']:hover:enabled,\n  button[data-variant='accent']:focus-visible {\n    background-color: ",";\n  }\n\n  button[data-variant='primary']:hover:enabled,\n  button[data-variant='primary']:focus-visible,\n  button[data-variant='secondary']:hover:enabled,\n  button[data-variant='secondary']:focus-visible {\n    background-color: ",";\n  }\n\n  button[data-size='xs'] > wui-icon {\n    width: 8px;\n    height: 8px;\n  }\n\n  button[data-size='sm'] > wui-icon {\n    width: 12px;\n    height: 12px;\n  }\n\n  button[data-size='xs'],\n  button[data-size='sm'] {\n    border-radius: ",";\n  }\n\n  button[data-size='md'],\n  button[data-size='lg'] {\n    border-radius: ",";\n  }\n\n  button[data-size='md'] > wui-icon {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='lg'] > wui-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  button:disabled {\n    background-color: transparent;\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  button:hover:not(:disabled) {\n    background-color: var(--wui-color-accent-glass-015);\n  }\n\n  button:focus-visible:not(:disabled) {\n    background-color: var(--wui-color-accent-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n"])),e=>{let{spacing:t}=e;return t[1]},e=>{let{tokens:t}=e;return t.core.foregroundAccent020},e=>{let{tokens:t}=e;return t.core.foregroundAccent010},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{borderRadius:t}=e;return t[1]},e=>{let{borderRadius:t}=e;return t[2]});var pe,we=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let me=class extends r.WF{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){return(0,r.qy)(pe||(pe=(0,o.A)(["\n      <button data-variant="," ?disabled="," data-size=",">\n        <wui-icon\n          color=","\n          size=","\n          name=","\n        ></wui-icon>\n      </button>\n    "])),this.variant,this.disabled,this.size,{accent:"accent-primary",primary:"inverse",secondary:"default"}[this.variant]||this.iconColor,this.size,this.icon)}};me.styles=[L.W5,L.fD,ue],we([(0,i.MZ)()],me.prototype,"size",void 0),we([(0,i.MZ)({type:Boolean})],me.prototype,"disabled",void 0),we([(0,i.MZ)()],me.prototype,"icon",void 0),we([(0,i.MZ)()],me.prototype,"iconColor",void 0),we([(0,i.MZ)()],me.prototype,"variant",void 0),me=we([(0,_.E)("wui-icon-link")],me);var he;n(1056);const ve=(0,V.AH)(he||(he=(0,o.A)(["\n  button {\n    display: block;\n    display: flex;\n    align-items: center;\n    padding: ",";\n    transition: background-color ","\n      ",";\n    will-change: background-color;\n    border-radius: ",";\n  }\n\n  wui-image {\n    border-radius: 100%;\n  }\n\n  wui-text {\n    padding-left: ",";\n  }\n\n  .left-icon-container,\n  .right-icon-container {\n    width: 24px;\n    height: 24px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  wui-icon {\n    color: ",";\n  }\n\n  /* -- Sizes --------------------------------------------------- */\n  button[data-size='lg'] {\n    height: 32px;\n  }\n\n  button[data-size='md'] {\n    height: 28px;\n  }\n\n  button[data-size='sm'] {\n    height: 24px;\n  }\n\n  button[data-size='lg'] wui-image {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='md'] wui-image {\n    width: 20px;\n    height: 20px;\n  }\n\n  button[data-size='sm'] wui-image {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='lg'] .left-icon-container {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='md'] .left-icon-container {\n    width: 20px;\n    height: 20px;\n  }\n\n  button[data-size='sm'] .left-icon-container {\n    width: 16px;\n    height: 16px;\n  }\n\n  /* -- Variants --------------------------------------------------------- */\n  button[data-type='filled-dropdown'] {\n    background-color: ",";\n  }\n\n  button[data-type='text-dropdown'] {\n    background-color: transparent;\n  }\n\n  /* -- Focus states --------------------------------------------------- */\n  button:focus-visible:enabled {\n    background-color: ",";\n    box-shadow: 0 0 0 4px ",";\n  }\n\n  /* -- Hover & Active states ----------------------------------------------------------- */\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled,\n    button:active:enabled {\n      background-color: ",";\n    }\n  }\n\n  /* -- Disabled states --------------------------------------------------- */\n  button:disabled {\n    background-color: ",";\n    opacity: 0.5;\n  }\n"])),e=>{let{spacing:t}=e;return t[1]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{borderRadius:t}=e;return t[32]},e=>{let{spacing:t}=e;return t[1]},e=>{let{tokens:t}=e;return t.theme.iconDefault},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.core.foregroundAccent040},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary});var ge,ye,fe,ke,be=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Ae={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Te={lg:"lg",md:"md",sm:"sm"};let xe=class extends r.WF{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return(0,r.qy)(ge||(ge=(0,o.A)(["<button ?disabled="," data-size="," data-type=",">\n      "," ",'\n      <wui-flex class="right-icon-container">\n        <wui-icon name="chevronBottom"></wui-icon>\n      </wui-flex>\n    </button>'])),this.disabled,this.size,this.type,this.imageTemplate(),this.textTemplate())}textTemplate(){const e=Ae[this.size];return this.text?(0,r.qy)(ye||(ye=(0,o.A)(['<wui-text color="primary" variant=',">","</wui-text>"])),e,this.text):null}imageTemplate(){if(this.imageSrc)return(0,r.qy)(fe||(fe=(0,o.A)(["<wui-image src=",' alt="select visual"></wui-image>'])),this.imageSrc);const e=Te[this.size];return(0,r.qy)(ke||(ke=(0,o.A)([' <wui-flex class="left-icon-container">\n      <wui-icon size=',' name="networkPlaceholder"></wui-icon>\n    </wui-flex>'])),e)}};xe.styles=[L.W5,L.fD,ve],be([(0,i.MZ)()],xe.prototype,"imageSrc",void 0),be([(0,i.MZ)()],xe.prototype,"text",void 0),be([(0,i.MZ)()],xe.prototype,"size",void 0),be([(0,i.MZ)()],xe.prototype,"type",void 0),be([(0,i.MZ)({type:Boolean})],xe.prototype,"disabled",void 0),xe=be([(0,_.E)("wui-select")],xe);n(9319),n(4875);var Se,Ce=n(1391);const Pe=(0,j.AH)(Se||(Se=(0,o.A)(["\n  :host {\n    height: 60px;\n  }\n\n  :host > wui-flex {\n    box-sizing: border-box;\n    background-color: ",";\n  }\n\n  wui-text {\n    background-color: ",";\n  }\n\n  wui-flex.w3m-header-title {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  wui-flex.w3m-header-title[view-direction='prev'] {\n    animation:\n      slide-down-out 120ms forwards ",",\n      slide-down-in 120ms forwards ",";\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-flex.w3m-header-title[view-direction='next'] {\n    animation:\n      slide-up-out 120ms forwards ",",\n      slide-up-in 120ms forwards ",";\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-icon-link[data-hidden='true'] {\n    opacity: 0 !important;\n    pointer-events: none;\n  }\n\n  @keyframes slide-up-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-up-in {\n    from {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-down-in {\n    from {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"])),e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]});var Fe,Ie,Ee,We,De,Ne,Re,Oe,qe=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Be=["SmartSessionList"];function Ue(){var e,t,n,o;const r=null===(e=m.I.state.data)||void 0===e||null===(e=e.connector)||void 0===e?void 0:e.name,i=null===(t=m.I.state.data)||void 0===t||null===(t=t.wallet)||void 0===t?void 0:t.name,a=null===(n=m.I.state.data)||void 0===n||null===(n=n.network)||void 0===n?void 0:n.name,s=null!==i&&void 0!==i?i:r,c=p.a.getConnectors(),l=1===c.length&&"w3m-email"===(null===(o=c[0])||void 0===o?void 0:o.id);return{Connect:"Connect ".concat(l?"Email":""," Wallet"),Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:null!==s&&void 0!==s?s:"Connect Wallet",ConnectingWalletConnect:null!==s&&void 0!==s?s:"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:s?"Get ".concat(s):"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:null!==a&&void 0!==a?a:"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:D.U.state.socialProvider?D.U.state.socialProvider.charAt(0).toUpperCase()+D.U.state.socialProvider.slice(1):"Connect Social",ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from an Exchange",PayWithExchangeSelectAsset:"Select Asset"}}let Me=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.heading=Ue()[m.I.state.view],this.network=u.W.state.activeCaipNetwork,this.networkImage=le.$.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=m.I.state.view,this.viewDirection="",this.unsubscribe.push(de.j.subscribeNetworkImages(()=>{this.networkImage=le.$.getNetworkImage(this.network)}),m.I.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.heading=Ue()[e]},Ce.o.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),u.W.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=le.$.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return(0,r.qy)(Fe||(Fe=(0,o.A)(["\n      <wui-flex\n        .padding=",'\n        justifyContent="space-between"\n        alignItems="center"\n      >\n        '," "," ","\n      </wui-flex>\n    "])),["0","5","0","5"],this.leftHeaderTemplate(),this.titleTemplate(),this.rightHeaderTemplate())}onWalletHelp(){O.E.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),m.I.push("WhatIsAWallet")}async onClose(){await g.safeClose()}rightHeaderTemplate(){var e;const t=null===l.H||void 0===l.H||null===(e=l.H.state)||void 0===e||null===(e=e.features)||void 0===e?void 0:e.smartSessions;return"Account"===m.I.state.view&&t?(0,r.qy)(Ie||(Ie=(0,o.A)(['<wui-flex>\n      <wui-icon-link\n        icon="clock"\n        variant="primary"\n        @click=','\n        data-testid="w3m-header-smart-sessions"\n      ></wui-icon-link>\n      ',"\n    </wui-flex> "])),()=>m.I.push("SmartSessionList"),this.closeButtonTemplate()):this.closeButtonTemplate()}closeButtonTemplate(){return(0,r.qy)(Ee||(Ee=(0,o.A)(['\n      <wui-icon-link\n        icon="close"\n        variant="primary"\n        @click=','\n        data-testid="w3m-header-close"\n      ></wui-icon-link>\n    '])),this.onClose.bind(this))}titleTemplate(){const e=Be.includes(this.view);return(0,r.qy)(We||(We=(0,o.A)(['\n      <wui-flex\n        view-direction="','"\n        class="w3m-header-title"\n        alignItems="center"\n        gap="2"\n      >\n        <wui-text variant="lg-regular" color="primary" data-testid="w3m-header-text">\n          ',"\n        </wui-text>\n        ","\n      </wui-flex>\n    "])),this.viewDirection,this.heading,e?(0,r.qy)(De||(De=(0,o.A)(['<wui-tag variant="accent" size="md">Beta</wui-tag>']))):null)}leftHeaderTemplate(){const{view:e}=m.I.state,t="Connect"===e,n=l.H.state.enableEmbedded,i="ApproveTransaction"===e,s="ConnectingSiwe"===e,c="Account"===e,d=l.H.state.enableNetworkSwitch,u=i||s||t&&n;var p;return c&&d?(0,r.qy)(Ne||(Ne=(0,o.A)(['<wui-select\n        id="dynamic"\n        data-testid="w3m-account-select-network"\n        active-network=',"\n        @click=","\n        imageSrc=","\n      ></wui-select>"])),(0,a.J)(null===(p=this.network)||void 0===p?void 0:p.name),this.onNetworks.bind(this),(0,a.J)(this.networkImage)):this.showBack&&!u?(0,r.qy)(Re||(Re=(0,o.A)(['<wui-icon-link\n        data-testid="header-back"\n        id="dynamic"\n        icon="chevronLeft"\n        variant="primary"\n        @click=',"\n      ></wui-icon-link>"])),this.onGoBack.bind(this)):(0,r.qy)(Oe||(Oe=(0,o.A)(["<wui-icon-link\n      data-hidden=",'\n      id="dynamic"\n      icon="helpCircle"\n      variant="primary"\n      @click=',"\n    ></wui-icon-link>"])),!t,this.onWalletHelp.bind(this))}onNetworks(){this.isAllowedNetworkSwitch()&&(O.E.sendEvent({type:"track",event:"CLICK_NETWORKS"}),m.I.push("Networks"))}isAllowedNetworkSwitch(){const e=u.W.getAllRequestedCaipNetworks(),t=!!e&&e.length>1,n=null===e||void 0===e?void 0:e.find(e=>{var t;let{id:n}=e;return n===(null===(t=this.network)||void 0===t?void 0:t.id)});return t||!n}onViewChange(){const{history:e}=m.I.state;let t=Ce.o.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=Ce.o.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){var e;const{history:t}=m.I.state,n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#dynamic");t.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){m.I.goBack()}};Me.styles=Pe,qe([(0,i.wk)()],Me.prototype,"heading",void 0),qe([(0,i.wk)()],Me.prototype,"network",void 0),qe([(0,i.wk)()],Me.prototype,"networkImage",void 0),qe([(0,i.wk)()],Me.prototype,"showBack",void 0),qe([(0,i.wk)()],Me.prototype,"prevHistoryLength",void 0),qe([(0,i.wk)()],Me.prototype,"view",void 0),qe([(0,i.wk)()],Me.prototype,"viewDirection",void 0),Me=qe([(0,j.EM)("w3m-header")],Me);var ze;n(3723),n(702);const He=(0,V.AH)(ze||(ze=(0,o.A)(["\n  :host {\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: "," ","\n      "," ",";\n    border-radius: ",";\n    background-color: ",";\n    box-shadow:\n      0px 0px 8px 0px rgba(0, 0, 0, 0.1),\n      inset 0 0 0 1px ",";\n    max-width: 320px;\n  }\n\n  wui-icon-box {\n    border-radius: "," !important;\n    overflow: hidden;\n  }\n\n  wui-loading-spinner {\n    padding: ",";\n    background-color: ",";\n    border-radius: "," !important;\n  }\n"])),e=>{let{spacing:t}=e;return t[1]},e=>{let{spacing:t}=e;return t[2]},e=>{let{spacing:t}=e;return t[3]},e=>{let{spacing:t}=e;return t[2]},e=>{let{spacing:t}=e;return t[2]},e=>{let{borderRadius:t}=e;return t[20]},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary},e=>{let{tokens:t}=e;return t.theme.borderPrimary},e=>{let{borderRadius:t}=e;return t.round},e=>{let{spacing:t}=e;return t[1]},e=>{let{tokens:t}=e;return t.core.foregroundAccent010},e=>{let{borderRadius:t}=e;return t.round});var je,Le,_e,Ve=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let Ke=class extends r.WF{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return(0,r.qy)(je||(je=(0,o.A)(["\n      ",'\n      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"\n        >',"</wui-text\n      >\n    "])),this.templateIcon(),this.message)}templateIcon(){return"loading"===this.variant?(0,r.qy)(Le||(Le=(0,o.A)(['<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>']))):(0,r.qy)(_e||(_e=(0,o.A)(['<wui-icon-box\n      size="md"\n      color=',"\n      icon=","\n    ></wui-icon-box>"])),{success:"success",error:"error",warning:"warning",info:"default"}[this.variant],{success:"checkmark",error:"warning",warning:"warningCircle",info:"info"}[this.variant])}};var Ze;Ke.styles=[L.W5,He],Ve([(0,i.MZ)()],Ke.prototype,"message",void 0),Ve([(0,i.MZ)()],Ke.prototype,"variant",void 0),Ke=Ve([(0,_.E)("wui-snackbar")],Ke);const Ge=(0,r.AH)(Ze||(Ze=(0,o.A)(["\n  :host {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n    top: 11px;\n    left: 50%;\n    width: max-content;\n  }\n"])));var Ye,Xe=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let $e=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=f.P.state.open,this.unsubscribe.push(f.P.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=f.P.state;return(0,r.qy)(Ye||(Ye=(0,o.A)([" <wui-snackbar message="," variant=","></wui-snackbar> "])),e,t)}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),f.P.state.autoClose&&(this.timeout=setTimeout(()=>f.P.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};$e.styles=Ge,Xe([(0,i.wk)()],$e.prototype,"open",void 0),$e=Xe([(0,j.EM)("w3m-snackbar")],$e);const Qe=(0,A.BX)({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),Je={state:Qe,subscribe:e=>(0,A.B1)(Qe,()=>e(Qe)),subscribeKey:(e,t)=>(0,T.u$)(Qe,e,t),showTooltip(e){let{message:t,triggerRect:n,variant:o}=e;Qe.open=!0,Qe.message=t,Qe.triggerRect=n,Qe.variant=o},hide(){Qe.open=!1,Qe.message="",Qe.triggerRect={width:0,height:0,top:0,left:0}}},et=(0,W.X)(Je);var tt;n(477);const nt=(0,j.AH)(tt||(tt=(0,o.A)(["\n  :host {\n    pointer-events: none;\n  }\n\n  :host > wui-flex {\n    display: var(--w3m-tooltip-display);\n    opacity: var(--w3m-tooltip-opacity);\n    padding: 9px "," 10px ",";\n    border-radius: ",";\n    color: ",";\n    position: absolute;\n    top: var(--w3m-tooltip-top);\n    left: var(--w3m-tooltip-left);\n    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));\n    max-width: calc(var(--apkt-modal-width) - ",");\n    transition: opacity ","\n      ",";\n    will-change: opacity;\n    opacity: 0;\n    animation-duration: ",";\n    animation-timing-function: ",";\n    animation-name: fade-in;\n    animation-fill-mode: forwards;\n  }\n\n  :host([data-variant='shade']) > wui-flex {\n    background-color: ",";\n  }\n\n  :host([data-variant='shade']) > wui-flex > wui-text {\n    color: ",";\n  }\n\n  :host([data-variant='fill']) > wui-flex {\n    background-color: ",";\n    border: none;\n  }\n\n  wui-icon {\n    position: absolute;\n    width: 12px !important;\n    height: 4px !important;\n    color: ",";\n  }\n\n  wui-icon[data-placement='top'] {\n    bottom: 0px;\n    left: 50%;\n    transform: translate(-50%, 95%);\n  }\n\n  wui-icon[data-placement='bottom'] {\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -95%) rotate(180deg);\n  }\n\n  wui-icon[data-placement='right'] {\n    top: 50%;\n    left: 0;\n    transform: translate(-65%, -50%) rotate(90deg);\n  }\n\n  wui-icon[data-placement='left'] {\n    top: 50%;\n    right: 0%;\n    transform: translate(65%, -50%) rotate(270deg);\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"])),e=>{let{spacing:t}=e;return t[3]},e=>{let{spacing:t}=e;return t[3]},e=>{let{borderRadius:t}=e;return t[3]},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{spacing:t}=e;return t[5]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.xl},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary},e=>{let{tokens:t}=e;return t.theme.textSecondary},e=>{let{tokens:t}=e;return t.theme.textPrimary},e=>{let{tokens:t}=e;return t.theme.foregroundPrimary});var ot,rt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let it=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.open=et.state.open,this.message=et.state.message,this.triggerRect=et.state.triggerRect,this.variant=et.state.variant,this.unsubscribe.push(et.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText="\n    --w3m-tooltip-top: ".concat(e,"px;\n    --w3m-tooltip-left: ").concat(t,"px;\n    --w3m-tooltip-parent-width: ").concat(this.triggerRect.width/2,"px;\n    --w3m-tooltip-display: ").concat(this.open?"flex":"none",";\n    --w3m-tooltip-opacity: ").concat(this.open?1:0,";\n    "),(0,r.qy)(ot||(ot=(0,o.A)(['<wui-flex>\n      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>\n      <wui-text color="primary" variant="sm-regular">',"</wui-text>\n    </wui-flex>"])),this.message)}};it.styles=[nt],rt([(0,i.wk)()],it.prototype,"open",void 0),rt([(0,i.wk)()],it.prototype,"message",void 0),rt([(0,i.wk)()],it.prototype,"triggerRect",void 0),rt([(0,i.wk)()],it.prototype,"variant",void 0),it=rt([(0,j.EM)("w3m-tooltip")],it);const at={getTabsByNamespace(e){var t;return Boolean(e)&&e===c.o.CHAIN.EVM?!1===(null===(t=l.H.state.remoteFeatures)||void 0===t?void 0:t.activity)?Ce.o.ACCOUNT_TABS.filter(e=>"Activity"!==e.label):Ce.o.ACCOUNT_TABS:[]},isValidReownName:e=>/^[0-9A-Za-z]+$/g.test(e),isValidEmail:e=>/^(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+@(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\.(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/g.test(e),validateReownName:e=>e.replace(/\^/g,"").toLowerCase().replace(/(?:[\0-\/:-@\[-`\{-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,""),hasFooter(){const e=m.I.state.view;if(Ce.o.VIEWS_WITH_LEGAL_FOOTER.includes(e)){var t;const{termsConditionsUrl:e,privacyPolicyUrl:n}=l.H.state,o=null===(t=l.H.state.features)||void 0===t?void 0:t.legalCheckbox;return!(!e&&!n||o)}return Ce.o.VIEWS_WITH_DEFAULT_FOOTER.includes(e)}};var st;n(478);const ct=(0,j.AH)(st||(st=(0,o.A)(["\n  :host wui-ux-by-reown {\n    padding-top: 0;\n  }\n\n  :host wui-ux-by-reown.branding-only {\n    padding-top: ",";\n  }\n\n  a {\n    text-decoration: none;\n    color: ",";\n    font-weight: 500;\n  }\n"])),e=>{let{spacing:t}=e;return t[3]},e=>{let{tokens:t}=e;return t.core.textAccentPrimary});var lt,dt,ut,pt,wt,mt,ht=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let vt=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=l.H.state.remoteFeatures,this.unsubscribe.push(l.H.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var e;const{termsConditionsUrl:t,privacyPolicyUrl:n}=l.H.state,i=null===(e=l.H.state.features)||void 0===e?void 0:e.legalCheckbox;return!t&&!n||i?(0,r.qy)(lt||(lt=(0,o.A)(['\n        <wui-flex flexDirection="column"> '," </wui-flex>\n      "])),this.reownBrandingTemplate(!0)):(0,r.qy)(dt||(dt=(0,o.A)(['\n      <wui-flex flexDirection="column">\n        <wui-flex .padding=',' justifyContent="center">\n          <wui-text color="secondary" variant="md-regular" align="center">\n            By connecting your wallet, you agree to our <br />\n            '," "," ","\n          </wui-text>\n        </wui-flex>\n        ","\n      </wui-flex>\n    "])),["4","3","3","3"],this.termsTemplate(),this.andTemplate(),this.privacyTemplate(),this.reownBrandingTemplate())}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=l.H.state;return e&&t?"and":""}termsTemplate(){const{termsConditionsUrl:e}=l.H.state;return e?(0,r.qy)(ut||(ut=(0,o.A)(["<a href=",' target="_blank" rel="noopener noreferrer"\n      >Terms of Service</a\n    >'])),e):null}privacyTemplate(){const{privacyPolicyUrl:e}=l.H.state;return e?(0,r.qy)(pt||(pt=(0,o.A)(["<a href=",' target="_blank" rel="noopener noreferrer"\n      >Privacy Policy</a\n    >'])),e):null}reownBrandingTemplate(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==(e=this.remoteFeatures)&&void 0!==e&&e.reownBranding?t?(0,r.qy)(wt||(wt=(0,o.A)(['<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>']))):(0,r.qy)(mt||(mt=(0,o.A)(["<wui-ux-by-reown></wui-ux-by-reown>"]))):null}};vt.styles=[ct],ht([(0,i.wk)()],vt.prototype,"remoteFeatures",void 0),vt=ht([(0,j.EM)("w3m-legal-footer")],vt);var gt;n(6282);const yt=(0,r.AH)(gt||(gt=(0,o.A)([""])));var ft,kt,bt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let At=class extends r.WF{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=l.H.state;return e||t?(0,r.qy)(ft||(ft=(0,o.A)(["\n      <wui-flex\n        .padding=",'\n        flexDirection="column"\n        alignItems="center"\n        justifyContent="center"\n        gap="3"\n      >\n        <wui-text color="secondary" variant="md-regular" align="center">\n          We work with the best providers to give you the lowest fees and best support. More options\n          coming soon!\n        </wui-text>\n\n        ',"\n      </wui-flex>\n    "])),["4","3","3","3"],this.howDoesItWorkTemplate()):null}howDoesItWorkTemplate(){return(0,r.qy)(kt||(kt=(0,o.A)([" <wui-link @click=",'>\n      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>\n      How does it work?\n    </wui-link>'])),this.onWhatIsBuy.bind(this))}onWhatIsBuy(){O.E.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:(0,P.lj)(u.W.state.activeChain)===S.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),m.I.push("WhatIsABuy")}};var Tt;At.styles=[yt],At=bt([(0,j.EM)("w3m-onramp-providers-footer")],At);const xt=(0,j.AH)(Tt||(Tt=(0,o.A)(["\n  :host {\n    display: block;\n  }\n\n  div.container {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n    height: auto;\n    display: block;\n  }\n\n  div.container[status='hide'] {\n    animation: fade-out;\n    animation-duration: var(--apkt-duration-dynamic);\n    animation-timing-function: ",";\n    animation-fill-mode: both;\n    animation-delay: 0s;\n  }\n\n  div.container[status='show'] {\n    animation: fade-in;\n    animation-duration: var(--apkt-duration-dynamic);\n    animation-timing-function: ",";\n    animation-fill-mode: both;\n    animation-delay: var(--apkt-duration-dynamic);\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      filter: blur(6px);\n    }\n    to {\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n\n  @keyframes fade-out {\n    from {\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      opacity: 0;\n      filter: blur(6px);\n    }\n  }\n"])),e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]});var St,Ct,Pt,Ft,It,Et=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let Wt=class extends r.WF{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=m.I.state.view}firstUpdated(){this.status=at.hasFooter()?"show":"hide",this.unsubscribe.push(m.I.subscribeKey("view",e=>{if(this.view=e,this.status=at.hasFooter()?"show":"hide","hide"===this.status){document.documentElement.style.setProperty("--apkt-footer-height","0px")}})),this.resizeObserver=new ResizeObserver(e=>{for(const t of e)if(t.target===this.getWrapper()){const e="".concat(t.contentRect.height,"px");document.documentElement.style.setProperty("--apkt-footer-height",e)}}),this.resizeObserver.observe(this.getWrapper())}render(){return(0,r.qy)(St||(St=(0,o.A)(['\n      <div class="container" status=',">","</div>\n    "])),this.status,this.templatePageContainer())}templatePageContainer(){return at.hasFooter()?(0,r.qy)(Ct||(Ct=(0,o.A)([" ",""])),this.templateFooter()):null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return(0,r.qy)(Pt||(Pt=(0,o.A)(["<w3m-legal-footer></w3m-legal-footer>"])));case"OnRampProviders":return(0,r.qy)(Ft||(Ft=(0,o.A)(["<w3m-onramp-providers-footer></w3m-onramp-providers-footer>"])));default:return null}}templateNetworksFooter(){return(0,r.qy)(It||(It=(0,o.A)([' <wui-flex\n      class="footer-in"\n      padding="3"\n      flexDirection="column"\n      gap="3"\n      alignItems="center"\n    >\n      <wui-text variant="md-regular" color="secondary" align="center">\n        Your connected wallet may not support some of the networks available for this dApp\n      </wui-text>\n      <wui-link @click=','>\n        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>\n        What is a network\n      </wui-link>\n    </wui-flex>'])),this.onNetworkHelp.bind(this))}onNetworkHelp(){O.E.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),m.I.push("WhatIsANetwork")}getWrapper(){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("div.container")}};var Dt;Wt.styles=[xt],Et([(0,i.wk)()],Wt.prototype,"status",void 0),Et([(0,i.wk)()],Wt.prototype,"view",void 0),Wt=Et([(0,j.EM)("w3m-footer")],Wt);const Nt=(0,j.AH)(Dt||(Dt=(0,o.A)(["\n  :host {\n    display: block;\n    width: inherit;\n  }\n"])));var Rt,Ot,qt,Bt,Ut,Mt,zt,Ht,jt,Lt,_t,Vt,Kt,Zt,Gt,Yt,Xt,$t,Qt,Jt,en,tn,nn,on,rn,an,sn,cn,ln,dn,un,pn,wn,mn,hn,vn,gn,yn,fn,kn,bn,An,Tn,xn,Sn,Cn,Pn,Fn,In,En,Wn,Dn,Nn,Rn,On,qn,Bn,Un,Mn,zn,Hn,jn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let Ln=class extends r.WF{constructor(){super(),this.unsubscribe=[],this.viewState=m.I.state.view,this.history=m.I.state.history.join(","),this.unsubscribe.push(m.I.subscribeKey("view",()=>{this.history=m.I.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return(0,r.qy)(Rt||(Rt=(0,o.A)(["",""])),this.templatePageContainer())}templatePageContainer(){return(0,r.qy)(Ot||(Ot=(0,o.A)(["<w3m-router-container\n      history=","\n      .setView=","\n    >\n      ","\n    </w3m-router-container>"])),this.history,()=>{this.viewState=m.I.state.view},this.viewTemplate(this.viewState))}viewTemplate(e){switch(e){case"AccountSettings":return(0,r.qy)(qt||(qt=(0,o.A)(["<w3m-account-settings-view></w3m-account-settings-view>"])));case"Account":return(0,r.qy)(Bt||(Bt=(0,o.A)(["<w3m-account-view></w3m-account-view>"])));case"AllWallets":return(0,r.qy)(Ut||(Ut=(0,o.A)(["<w3m-all-wallets-view></w3m-all-wallets-view>"])));case"ApproveTransaction":return(0,r.qy)(Mt||(Mt=(0,o.A)(["<w3m-approve-transaction-view></w3m-approve-transaction-view>"])));case"BuyInProgress":return(0,r.qy)(zt||(zt=(0,o.A)(["<w3m-buy-in-progress-view></w3m-buy-in-progress-view>"])));case"ChooseAccountName":return(0,r.qy)(Ht||(Ht=(0,o.A)(["<w3m-choose-account-name-view></w3m-choose-account-name-view>"])));case"Connect":return(0,r.qy)(jt||(jt=(0,o.A)(["<w3m-connect-view></w3m-connect-view>"])));case"Create":return(0,r.qy)(Lt||(Lt=(0,o.A)(['<w3m-connect-view walletGuide="explore"></w3m-connect-view>'])));case"ConnectingWalletConnect":return(0,r.qy)(_t||(_t=(0,o.A)(["<w3m-connecting-wc-view></w3m-connecting-wc-view>"])));case"ConnectingWalletConnectBasic":return(0,r.qy)(Vt||(Vt=(0,o.A)(["<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>"])));case"ConnectingExternal":return(0,r.qy)(Kt||(Kt=(0,o.A)(["<w3m-connecting-external-view></w3m-connecting-external-view>"])));case"ConnectingSiwe":return(0,r.qy)(Zt||(Zt=(0,o.A)(["<w3m-connecting-siwe-view></w3m-connecting-siwe-view>"])));case"ConnectWallets":return(0,r.qy)(Gt||(Gt=(0,o.A)(["<w3m-connect-wallets-view></w3m-connect-wallets-view>"])));case"ConnectSocials":return(0,r.qy)(Yt||(Yt=(0,o.A)(["<w3m-connect-socials-view></w3m-connect-socials-view>"])));case"ConnectingSocial":return(0,r.qy)(Xt||(Xt=(0,o.A)(["<w3m-connecting-social-view></w3m-connecting-social-view>"])));case"DataCapture":return(0,r.qy)($t||($t=(0,o.A)(["<w3m-data-capture-view></w3m-data-capture-view>"])));case"DataCaptureOtpConfirm":return(0,r.qy)(Qt||(Qt=(0,o.A)(["<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>"])));case"Downloads":return(0,r.qy)(Jt||(Jt=(0,o.A)(["<w3m-downloads-view></w3m-downloads-view>"])));case"EmailLogin":return(0,r.qy)(en||(en=(0,o.A)(["<w3m-email-login-view></w3m-email-login-view>"])));case"EmailVerifyOtp":return(0,r.qy)(tn||(tn=(0,o.A)(["<w3m-email-verify-otp-view></w3m-email-verify-otp-view>"])));case"EmailVerifyDevice":return(0,r.qy)(nn||(nn=(0,o.A)(["<w3m-email-verify-device-view></w3m-email-verify-device-view>"])));case"GetWallet":return(0,r.qy)(on||(on=(0,o.A)(["<w3m-get-wallet-view></w3m-get-wallet-view>"])));case"Networks":return(0,r.qy)(rn||(rn=(0,o.A)(["<w3m-networks-view></w3m-networks-view>"])));case"SwitchNetwork":return(0,r.qy)(an||(an=(0,o.A)(["<w3m-network-switch-view></w3m-network-switch-view>"])));case"ProfileWallets":return(0,r.qy)(sn||(sn=(0,o.A)(["<w3m-profile-wallets-view></w3m-profile-wallets-view>"])));case"Transactions":return(0,r.qy)(cn||(cn=(0,o.A)(["<w3m-transactions-view></w3m-transactions-view>"])));case"OnRampProviders":return(0,r.qy)(ln||(ln=(0,o.A)(["<w3m-onramp-providers-view></w3m-onramp-providers-view>"])));case"OnRampTokenSelect":return(0,r.qy)(dn||(dn=(0,o.A)(["<w3m-onramp-token-select-view></w3m-onramp-token-select-view>"])));case"OnRampFiatSelect":return(0,r.qy)(un||(un=(0,o.A)(["<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>"])));case"UpgradeEmailWallet":return(0,r.qy)(pn||(pn=(0,o.A)(["<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>"])));case"UpdateEmailWallet":return(0,r.qy)(wn||(wn=(0,o.A)(["<w3m-update-email-wallet-view></w3m-update-email-wallet-view>"])));case"UpdateEmailPrimaryOtp":return(0,r.qy)(mn||(mn=(0,o.A)(["<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>"])));case"UpdateEmailSecondaryOtp":return(0,r.qy)(hn||(hn=(0,o.A)(["<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>"])));case"UnsupportedChain":return(0,r.qy)(vn||(vn=(0,o.A)(["<w3m-unsupported-chain-view></w3m-unsupported-chain-view>"])));case"Swap":return(0,r.qy)(gn||(gn=(0,o.A)(["<w3m-swap-view></w3m-swap-view>"])));case"SwapSelectToken":return(0,r.qy)(yn||(yn=(0,o.A)(["<w3m-swap-select-token-view></w3m-swap-select-token-view>"])));case"SwapPreview":return(0,r.qy)(fn||(fn=(0,o.A)(["<w3m-swap-preview-view></w3m-swap-preview-view>"])));case"WalletSend":return(0,r.qy)(kn||(kn=(0,o.A)(["<w3m-wallet-send-view></w3m-wallet-send-view>"])));case"WalletSendSelectToken":return(0,r.qy)(bn||(bn=(0,o.A)(["<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>"])));case"WalletSendPreview":return(0,r.qy)(An||(An=(0,o.A)(["<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>"])));case"WhatIsABuy":return(0,r.qy)(Tn||(Tn=(0,o.A)(["<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>"])));case"WalletReceive":return(0,r.qy)(xn||(xn=(0,o.A)(["<w3m-wallet-receive-view></w3m-wallet-receive-view>"])));case"WalletCompatibleNetworks":return(0,r.qy)(Sn||(Sn=(0,o.A)(["<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>"])));case"WhatIsAWallet":return(0,r.qy)(Cn||(Cn=(0,o.A)(["<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>"])));case"ConnectingMultiChain":return(0,r.qy)(Pn||(Pn=(0,o.A)(["<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>"])));case"WhatIsANetwork":return(0,r.qy)(Fn||(Fn=(0,o.A)(["<w3m-what-is-a-network-view></w3m-what-is-a-network-view>"])));case"ConnectingFarcaster":return(0,r.qy)(In||(In=(0,o.A)(["<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>"])));case"SwitchActiveChain":return(0,r.qy)(En||(En=(0,o.A)(["<w3m-switch-active-chain-view></w3m-switch-active-chain-view>"])));case"RegisterAccountName":return(0,r.qy)(Wn||(Wn=(0,o.A)(["<w3m-register-account-name-view></w3m-register-account-name-view>"])));case"RegisterAccountNameSuccess":return(0,r.qy)(Dn||(Dn=(0,o.A)(["<w3m-register-account-name-success-view></w3m-register-account-name-success-view>"])));case"SmartSessionCreated":return(0,r.qy)(Nn||(Nn=(0,o.A)(["<w3m-smart-session-created-view></w3m-smart-session-created-view>"])));case"SmartSessionList":return(0,r.qy)(Rn||(Rn=(0,o.A)(["<w3m-smart-session-list-view></w3m-smart-session-list-view>"])));case"SIWXSignMessage":return(0,r.qy)(On||(On=(0,o.A)(["<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>"])));case"Pay":return(0,r.qy)(qn||(qn=(0,o.A)(["<w3m-pay-view></w3m-pay-view>"])));case"PayLoading":return(0,r.qy)(Bn||(Bn=(0,o.A)(["<w3m-pay-loading-view></w3m-pay-loading-view>"])));case"FundWallet":return(0,r.qy)(Un||(Un=(0,o.A)(["<w3m-fund-wallet-view></w3m-fund-wallet-view>"])));case"PayWithExchange":return(0,r.qy)(Mn||(Mn=(0,o.A)(["<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>"])));case"PayWithExchangeSelectAsset":return(0,r.qy)(zn||(zn=(0,o.A)(["<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>"])));default:return(0,r.qy)(Hn||(Hn=(0,o.A)(["<w3m-connect-view></w3m-connect-view>"])))}}};var _n;Ln.styles=[Nt],jn([(0,i.wk)()],Ln.prototype,"viewState",void 0),jn([(0,i.wk)()],Ln.prototype,"history",void 0),Ln=jn([(0,j.EM)("w3m-router")],Ln);const Vn=(0,j.AH)(_n||(_n=(0,o.A)(["\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: ",";\n    backdrop-filter: blur(0px);\n    transition:\n      opacity "," ",",\n      backdrop-filter ","\n        ",";\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n    backdrop-filter: blur(8px);\n  }\n\n  :host(.appkit-modal) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--apkt-modal-width);\n    width: 100%;\n    position: relative;\n    outline: none;\n    transform: translateY(4px);\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);\n    transition:\n      transform ","\n        ",",\n      border-radius ","\n        ",",\n      background-color ","\n        ",",\n      box-shadow ","\n        ",";\n    will-change: border-radius, background-color, transform, box-shadow;\n    background-color: ",";\n    padding: ",";\n    box-sizing: border-box;\n  }\n\n  :host(.open) wui-card {\n    transform: translateY(0px);\n  }\n\n  wui-card::before {\n    z-index: 1;\n    pointer-events: none;\n    content: '';\n    position: absolute;\n    inset: 0;\n    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);\n    transition: box-shadow ","\n      ",";\n    transition-delay: ",";\n    will-change: box-shadow;\n  }\n\n  :host([data-border='true']) wui-card::before {\n    box-shadow: inset 0px 0px 0px 4px ",";\n  }\n\n  :host([data-border='false']) wui-card::before {\n    box-shadow: inset 0px 0px 0px 1px ",";\n  }\n\n  :host([data-border='true']) wui-card {\n    animation:\n      fade-in "," ",",\n      card-background-border var(--apkt-duration-dynamic)\n        ",";\n    animation-fill-mode: backwards, both;\n    animation-delay: var(--apkt-duration-dynamic);\n  }\n\n  :host([data-border='false']) wui-card {\n    animation:\n      fade-in "," ",",\n      card-background-default var(--apkt-duration-dynamic)\n        ",";\n    animation-fill-mode: backwards, both;\n    animation-delay: 0s;\n  }\n\n  :host(.appkit-modal) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      fade-in "," ",",\n      w3m-shake ","\n        ",";\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--apkt-spacing-6) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n    }\n\n    wui-card[shake='true'] {\n      animation: w3m-shake 0.5s ",";\n    }\n  }\n\n  @keyframes fade-in {\n    0% {\n      transform: scale(0.99) translateY(4px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes card-background-border {\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  }\n\n  @keyframes card-background-default {\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  }\n"])),e=>{let{tokens:t}=e;return t.theme.overlay},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-1"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-1"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-1"]},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{spacing:t}=e;return t[1]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.md},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.theme.borderPrimaryDark},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{durations:t}=e;return t.xl},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.theme.foregroundSecondary},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary});var Kn,Zn,Gn,Yn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};const Xn="scroll-lock";class $n extends r.WF{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=l.H.state.enableEmbedded,this.open=d.W.state.open,this.caipAddress=u.W.state.activeCaipAddress,this.caipNetwork=u.W.state.activeCaipNetwork,this.shake=d.W.state.shake,this.filterByNamespace=p.a.state.filterByNamespace,this.initializeTheming(),w.N.prefetchAnalyticsConfig(),this.unsubscribe.push(d.W.subscribeKey("open",e=>e?this.onOpen():this.onClose()),d.W.subscribeKey("shake",e=>this.shake=e),u.W.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),u.W.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),l.H.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),p.a.subscribeKey("filterByNamespace",e=>{var t;this.filterByNamespace===e||null!==(t=u.W.getAccountData(e))&&void 0!==t&&t.caipAddress||(w.N.fetchRecommendedWallets(),this.filterByNamespace=e)}),m.I.subscribeKey("view",()=>{this.dataset.border=at.hasFooter()?"true":"false"}))}firstUpdated(){if(this.dataset.border=at.hasFooter()?"true":"false",this.caipAddress){if(this.enableEmbedded)return d.W.close(),void this.prefetch();this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText="\n      --local-border-bottom-mobile-radius: ".concat(this.enableEmbedded?"clamp(0px, var(--apkt-borderRadius-8), 44px)":"0px",";\n    "),this.enableEmbedded?(0,r.qy)(Kn||(Kn=(0,o.A)(["","\n        <w3m-tooltip></w3m-tooltip> "])),this.contentTemplate()):this.open?(0,r.qy)(Zn||(Zn=(0,o.A)(["\n          <wui-flex @click=",' data-testid="w3m-modal-overlay">\n            ',"\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        "])),this.onOverlayClick.bind(this),this.contentTemplate()):null}contentTemplate(){return(0,r.qy)(Gn||(Gn=(0,o.A)([' <wui-card\n      shake="','"\n      data-embedded="','"\n      role="alertdialog"\n      aria-modal="true"\n      tabindex="0"\n      data-testid="w3m-modal-card"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-footer></w3m-footer>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>'])),this.shake,(0,a.J)(this.enableEmbedded))}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await g.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=y.W.state,n=j.Zv.getColorTheme(t);(0,j.RF)(e,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),f.P.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=Xn,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector('style[data-w3m="'.concat(Xn,'"]'));e&&e.remove()}onAddKeyboardListener(){var e;this.abortController=new AbortController;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("wui-card");null===t||void 0===t||t.focus(),window.addEventListener("keydown",e=>{if("Escape"===e.key)this.handleClose();else if("Tab"===e.key){const{tagName:n}=e.target;!n||n.includes("W3M-")||n.includes("WUI-")||null===t||void 0===t||t.focus()}},this.abortController)}onRemoveKeyboardListener(){var e;null===(e=this.abortController)||void 0===e||e.abort(),this.abortController=void 0}async onNewAddress(e){const t=u.W.state.isSwitchingNamespace,n="ProfileWallets"===m.I.state.view;e?await this.onConnected({caipAddress:e,isSwitchingNamespace:t,isInProfileView:n}):t||this.enableEmbedded||n||d.W.close(),await v.U.initializeIfEnabled(e),this.caipAddress=e,u.W.setIsSwitchingNamespace(!1)}async onConnected(e){if(e.isInProfileView)return;const{chainNamespace:t,chainId:n,address:o}=s.C.parseCaipAddress(e.caipAddress),r="".concat(t,":").concat(n),i=!k.w.getPlainAddress(this.caipAddress),a=await v.U.getSessions({address:o,caipNetworkId:r}),c=!v.U.getSIWX()||a.some(e=>e.data.accountAddress===o),l=e.isSwitchingNamespace&&c&&!this.enableEmbedded,u=this.enableEmbedded&&i;l?m.I.goBack():u&&d.W.close()}onNewNetwork(e){var t,n,o;const r=this.caipNetwork,i=null===r||void 0===r||null===(t=r.caipNetworkId)||void 0===t?void 0:t.toString(),a=null===r||void 0===r?void 0:r.chainNamespace,s=null===e||void 0===e||null===(n=e.caipNetworkId)||void 0===n?void 0:n.toString(),l=null===e||void 0===e?void 0:e.chainNamespace,p=i!==s,w=p&&!(a!==l),h=(null===r||void 0===r?void 0:r.name)===c.o.UNSUPPORTED_NETWORK_NAME,v="ConnectingExternal"===m.I.state.view,g="ProfileWallets"===m.I.state.view,y=!(null!==(o=u.W.getAccountData(null===e||void 0===e?void 0:e.chainNamespace))&&void 0!==o&&o.caipAddress),f="UnsupportedChain"===m.I.state.view,k=d.W.state.open;let b=!1;this.enableEmbedded&&"SwitchNetwork"===m.I.state.view&&(b=!0),p&&z.resetState(),!k||v||g||(y?p&&(b=!0):(f||w&&!h)&&(b=!0)),b&&"SIWXSignMessage"!==m.I.state.view&&m.I.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(w.N.prefetch(),w.N.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}$n.styles=Vn,Yn([(0,i.MZ)({type:Boolean})],$n.prototype,"enableEmbedded",void 0),Yn([(0,i.wk)()],$n.prototype,"open",void 0),Yn([(0,i.wk)()],$n.prototype,"caipAddress",void 0),Yn([(0,i.wk)()],$n.prototype,"caipNetwork",void 0),Yn([(0,i.wk)()],$n.prototype,"shake",void 0),Yn([(0,i.wk)()],$n.prototype,"filterByNamespace",void 0);let Qn=class extends $n{};Qn=Yn([(0,j.EM)("w3m-modal")],Qn);let Jn=class extends $n{};var eo;Jn=Yn([(0,j.EM)("appkit-modal")],Jn);const to=(0,j.AH)(eo||(eo=(0,o.A)(["\n  :host {\n    --local-duration-height: 0s;\n    --local-duration: ",";\n    --local-transition: ",";\n  }\n\n  .container {\n    display: block;\n    overflow: hidden;\n    overflow: hidden;\n    position: relative;\n    height: var(--local-container-height);\n    transition: height var(--local-duration-height) var(--local-transition);\n    will-change: height, padding-bottom;\n  }\n\n  .page {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: auto;\n    width: inherit;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border-bottom-left-radius: var(--local-border-bottom-radius);\n    border-bottom-right-radius: var(--local-border-bottom-radius);\n    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);\n  }\n\n  .footer {\n    height: var(--apkt-footer-height);\n  }\n\n  div.page[view-direction^='prev-'] .page-content {\n    animation:\n      slide-left-out var(--local-duration) forwards var(--local-transition),\n      slide-left-in var(--local-duration) forwards var(--local-transition);\n    animation-delay: 0ms, var(--local-duration, ",");\n  }\n\n  div.page[view-direction^='next-'] .page-content {\n    animation:\n      slide-right-out var(--local-duration) forwards var(--local-transition),\n      slide-right-in var(--local-duration) forwards var(--local-transition);\n    animation-delay: 0ms, var(--local-duration, ",");\n  }\n\n  @keyframes slide-left-out {\n    from {\n      transform: translateX(0px) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      transform: translateX(8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n  }\n\n  @keyframes slide-left-in {\n    from {\n      transform: translateX(-8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n    to {\n      transform: translateX(0) translateY(0) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n\n  @keyframes slide-right-out {\n    from {\n      transform: translateX(0px) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n    to {\n      transform: translateX(-8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n  }\n\n  @keyframes slide-right-in {\n    from {\n      transform: translateX(8px) scale(0.99);\n      opacity: 0;\n      filter: blur(4px);\n    }\n    to {\n      transform: translateX(0) translateY(0) scale(1);\n      opacity: 1;\n      filter: blur(0px);\n    }\n  }\n"])),e=>{let{durations:t}=e;return t.lg},e=>{let{easings:t}=e;return t["ease-out-power-2"]},e=>{let{tokens:t}=e;return t.theme.backgroundPrimary},e=>{let{durations:t}=e;return t.lg},e=>{let{durations:t}=e;return t.lg});var no,oo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let ro=class extends r.WF{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px"}updated(e){if(e.has("history")){const e=this.history;""!==this.historyState&&this.historyState!==e&&this.onViewChange(e)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(e=>{for(const t of e)if(t.target===this.getWrapper()){let e=t.contentRect.height;const n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");e=e+n,this.style.setProperty("--local-border-bottom-radius",n?"var(--apkt-borderRadius-5)":"0px"),this.style.setProperty("--local-container-height","".concat(e,"px")),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight="".concat(e,"px")}}),this.resizeObserver.observe(this.getWrapper())}disconnectedCallback(){const e=this.getWrapper();e&&this.resizeObserver&&this.resizeObserver.unobserve(e)}render(){return(0,r.qy)(no||(no=(0,o.A)(['\n      <div class="container">\n        <div class="page" view-direction="','">\n          <div class="page-content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    '])),this.viewDirection)}onViewChange(e){const t=e.split(",").filter(Boolean),n=this.historyState.split(",").filter(Boolean),o=n.length,r=t.length,i=t[t.length-1]||"",a=j.Zv.cssDurationToNumber(this.transitionDuration);let s="";r>o?s="next":r<o?s="prev":r===o&&t[r-1]!==n[o-1]&&(s="next"),this.viewDirection="".concat(s,"-").concat(i),setTimeout(()=>{var t;this.historyState=e,null===(t=this.setView)||void 0===t||t.call(this,i)},a),setTimeout(()=>{this.viewDirection=""},2*a)}getWrapper(){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("div.page")}};ro.styles=[to],oo([(0,i.MZ)({type:String})],ro.prototype,"transitionDuration",void 0),oo([(0,i.MZ)({type:String})],ro.prototype,"transitionFunction",void 0),oo([(0,i.MZ)({type:String})],ro.prototype,"history",void 0),oo([(0,i.MZ)({type:String})],ro.prototype,"view",void 0),oo([(0,i.MZ)({attribute:!1})],ro.prototype,"setView",void 0),oo([(0,i.wk)()],ro.prototype,"viewDirection",void 0),oo([(0,i.wk)()],ro.prototype,"historyState",void 0),oo([(0,i.wk)()],ro.prototype,"previousHeight",void 0),ro=oo([(0,j.EM)("w3m-router-container")],ro)}}]);
//# sourceMappingURL=5408.c6e508b0.chunk.js.map