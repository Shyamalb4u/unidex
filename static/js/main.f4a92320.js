/*! For license information please see main.f4a92320.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},301:(e,t,n)=>{"use strict";n.d(t,{ER:()=>s,Im:()=>c,dZ:()=>l,eX:()=>o,e_:()=>a});var r=n(1834),i=n(6765);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(){return BigInt(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function a(e,t,n){return{id:n||s(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function l(e,t,n){return{id:e,jsonrpc:"2.0",error:u(t,n)}}function u(e,t){return"undefined"===typeof e?(0,r.vG)(i.zR):("string"===typeof e&&(e=Object.assign(Object.assign({},(0,r.vG)(i.fO)),{message:e})),"undefined"!==typeof t&&(e.data=t),(0,r.mE)(e.code)&&(e=(0,r.rI)(e.code)),e)}},364:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6613);r.__exportStar(n(364),t),r.__exportStar(n(6454),t)},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(8251);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},632:(e,t,n)=>{"use strict";n.d(t,{IJsonRpcProvider:()=>o.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>a.q$,isJsonRpcError:()=>c.U$,isJsonRpcRequest:()=>c.p3,isJsonRpcResponse:()=>c.tq,isJsonRpcResult:()=>c.xT,isLocalhostUrl:()=>a.z,isWsUrl:()=>a.A1,parseConnectionError:()=>r.eF,payloadId:()=>s.ER});n(6765);var r=n(1834),i=n(3587);n.o(i,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),n.o(i,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),n.o(i,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),n.o(i,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),n.o(i,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),n.o(i,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),n.o(i,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),n.o(i,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),n.o(i,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),n.o(i,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),n.o(i,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),n.o(i,"isReactNative")&&n.d(t,{isReactNative:function(){return i.isReactNative}}),n.o(i,"isWsUrl")&&n.d(t,{isWsUrl:function(){return i.isWsUrl}}),n.o(i,"payloadId")&&n.d(t,{payloadId:function(){return i.payloadId}});var s=n(301),o=n(940),a=n(1385),c=n(3985)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},883:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>Un,FA:()=>Dn,TZ:()=>Ln,UF:()=>Bn});var r=n(9379),i=n(3901),s=n(8661);function o(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const c="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function u(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),o(e),e}class h{clone(){return this._cloneInto()}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(c&&"function"==typeof c.getRandomValues)return c.getRandomValues(new Uint8Array(e));if(c&&"function"==typeof c.randomBytes)return c.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class f extends h{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=u(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=l(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let o=s;o<r;o++)t[o]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const c=l(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let o=0;o<h;o++)c.setUint32(4*o,d[o],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const p=BigInt(2**32-1),g=BigInt(32);function m(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&p),l:Number(e>>g&p)}:{h:0|Number(e>>g&p),l:0|Number(e&p)}}const y={fromBig:m,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=m(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<g|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[w,b]=y.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),v=new Uint32Array(80),E=new Uint32Array(80);class x extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)v[y]=e.getUint32(t),E[y]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|v[w-15],t=0|E[w-15],n=y.rotrSH(e,t,1)^y.rotrSH(e,t,8)^y.shrSH(e,t,7),r=y.rotrSL(e,t,1)^y.rotrSL(e,t,8)^y.shrSL(e,t,7),i=0|v[w-2],s=0|E[w-2],o=y.rotrSH(i,s,19)^y.rotrBH(i,s,61)^y.shrSH(i,s,6),a=y.rotrSL(i,s,19)^y.rotrBL(i,s,61)^y.shrSL(i,s,6),c=y.add4L(r,a,E[w-7],E[w-16]),l=y.add4H(c,n,o,v[w-7],v[w-16]);v[w]=0|l,E[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:x}=this;for(let A=0;A<80;A++){const e=y.rotrSH(u,h,14)^y.rotrSH(u,h,18)^y.rotrBH(u,h,41),t=y.rotrSL(u,h,14)^y.rotrSL(u,h,18)^y.rotrBL(u,h,41),S=u&d^~u&p,k=h&f^~h&g,I=y.add5L(x,t,k,b[A],E[A]),P=y.add5H(I,m,e,S,w[A],v[A]),O=0|I,N=y.rotrSH(n,r,28)^y.rotrBH(n,r,34)^y.rotrBH(n,r,39),C=y.rotrSL(n,r,28)^y.rotrBL(n,r,34)^y.rotrBL(n,r,39),R=n&i^n&o^i&o,T=r&s^r&a^s&a;m=0|p,x=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=y.add(0|c,0|l,0|P,0|O)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const _=y.add3L(O,C,T);n=y.add3H(_,P,N,R),r=0|_}({h:n,l:r}=y.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=y.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=y.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=y.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=y.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=y.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=y.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:x}=y.add(0|this.Hh,0|this.Hl,0|m,0|x)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,x)}roundClean(){v.fill(0),E.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const A=function(e){const t=t=>e().update(u(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new x),S=BigInt(0),k=BigInt(1),I=BigInt(2);function P(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function O(e){if(!P(e))throw new Error("Uint8Array expected")}function N(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R(e){O(e);let t="";for(let n=0;n<e.length;n++)t+=C[e[n]];return t}function T(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?S:BigInt("0x"+e)}const _=48,B=57,j=65,U=70,L=97,D=102;function M(e){return e>=_&&e<=B?e-_:e>=j&&e<=U?e-(j-10):e>=L&&e<=D?e-(L-10):void 0}function F(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=M(e.charCodeAt(s)),n=M(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function z(e){return O(e),T(R(Uint8Array.from(e).reverse()))}function H(e,t){return F(e.toString(16).padStart(2*t,"0"))}function q(e,t){return H(e,t).reverse()}function V(e,t,n){let r;if("string"==typeof t)try{r=F(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!P(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function W(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];O(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const K=e=>"bigint"==typeof e&&S<=e;function G(e,t,n,r){if(!function(e,t,n){return K(e)&&K(t)&&K(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Q=e=>(I<<BigInt(e-1))-k,J={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||P(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=J[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Z(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const X=BigInt(0),$=BigInt(1),ee=BigInt(2),te=BigInt(3),ne=BigInt(4),re=BigInt(5),ie=BigInt(8);function se(e,t){const n=e%t;return n>=X?n:t+n}function oe(e,t,n){if(t<X)throw new Error("invalid exponent, negatives unsupported");if(n<=X)throw new Error("invalid modulus");if(n===$)return X;let r=$;for(;t>X;)t&$&&(r=r*e%n),e=e*e%n,t>>=$;return r}function ae(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function ce(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,i=X,s=$;for(;n!==X;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==$)throw new Error("invert: does not exist");return se(i,t)}function le(e){if(e%ne===te){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ie===re){const t=(e-re)/ie;return function(e,n){const r=e.mul(n,ee),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,ee),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-$)/ee;let n,r,i;for(n=e-$,r=0;n%ee===X;n/=ee,r++);for(i=ee;i<e&&oe(i,t,e)!==e-$;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+$)/ee;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,$<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const ue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function he(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function de(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=he(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Q(i),ZERO:X,ONE:$,create:t=>se(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return X<=t&&t<e},is0:e=>e===X,isOdd:e=>(e&$)===$,neg:t=>se(-t,e),eql:(e,t)=>e===t,sqr:t=>se(t*t,e),add:(t,n)=>se(t+n,e),sub:(t,n)=>se(t-n,e),mul:(t,n)=>se(t*n,e),pow:(e,t)=>function(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===$)return t;let r=e.ONE,i=t;for(;n>X;)n&$&&(r=e.mul(r,i)),i=e.sqr(i),n>>=$;return r}(a,e,t),div:(t,n)=>se(t*ce(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ce(t,e),sqrt:r.sqrt||(t=>(o||(o=le(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?q(e,s):H(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?z(e):function(e){return T(R(e))}(e)}});return Object.freeze(a)}const fe=BigInt(0),pe=BigInt(1);function ge(e,t){const n=t.negate();return e?n:t}function me(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ye(e,t){me(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const we=new WeakMap,be=new WeakMap;function ve(e){return be.get(e)||1}function Ee(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>S;e>>=k,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function xe(e){return function(e){Y(e,ue.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Y(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,r.A)((0,r.A)((0,r.A)({},he(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const Ae=BigInt(0),Se=BigInt(1),ke=BigInt(2),Ie=BigInt(8),Pe={zip215:!0};function Oe(e){const t=function(e){const t=xe(e);return Y(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,r.A)({},t))}(e),{Fp:n,n:i,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:l}=t,u=ke<<BigInt(8*c)-Se,h=n.create,d=de(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:Ae}}}),p=t.adjustScalarBytes||(e=>e),g=t.domain||((e,t,n)=>{if(N("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function m(e,t){G("coordinate "+e,t,Ae,u)}function y(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const w=Z((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Ie:n.inv(s));const a=h(r*t),c=h(i*t),l=h(s*t);if(o)return{x:Ae,y:Se};if(l!==Se)throw new Error("invZ was invalid");return{x:a,y:c}}),b=Z(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=h(i*i),l=h(s*s),u=h(o*o),d=h(u*u),f=h(c*n);if(h(u*h(f+l))!==h(d+h(r*h(c*l))))throw new Error("bad point: equation left != right (1)");if(h(i*s)!==h(o*a))throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,m("x",e),m("y",t),m("z",n),m("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return m("x",t),m("y",n),new v(t,n,Se,h(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(v.fromAffine)}static msm(e,t){return Ee(v,d,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){b(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=h(t*o),c=h(i*r),l=h(n*o),u=h(s*r);return a===c&&l===u}is0(){return this.equals(v.ZERO)}negate(){return new v(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=h(n*n),o=h(r*r),a=h(ke*h(i*i)),c=h(e*s),l=n+r,u=h(h(l*l)-s-o),d=c+o,f=d-a,p=c-o,g=h(u*f),m=h(d*p),y=h(u*p),w=h(f*d);return new v(g,m,w,y)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:u,et:d}=e;if(n===BigInt(-1)){const e=h((s-i)*(l+c)),t=h((s+i)*(l-c)),n=h(t-e);if(n===Ae)return this.double();const r=h(o*ke*d),f=h(a*ke*u),p=f+r,g=t+e,m=f-r,y=h(p*n),w=h(g*m),b=h(p*m),E=h(n*g);return new v(y,w,E,b)}const f=h(i*c),p=h(s*l),g=h(a*r*d),m=h(o*u),w=h((i+s)*(c+l)-f-p),b=m-g,E=m+g,x=h(p-n*f),A=h(w*b),S=h(E*x),k=h(w*x),I=h(b*E);return new v(A,S,I,k)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,v.normalizeZ)}multiply(e){const t=e;G("scalar",t,Se,i);const{p:n,f:r}=this.wNAF(t);return v.normalizeZ([n,r])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ZERO;const n=e;return G("scalar",n,Ae,i),n===Ae?x:this.is0()||n===Se?this:A.wNAFCachedUnsafe(this,n,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return A.unsafeLadder(this,i).is0()}toAffine(e){return w(this,e)}clearCofactor(){const{h:e}=t;return e===Se?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=V("pointHex",e,o),N("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const l=z(a),d=r?u:n.ORDER;G("pointHex.y",l,Ae,d);const p=h(l*l),g=h(p-Se),m=h(i*p-s);let{isValid:y,value:w}=f(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const b=(w&Se)===Se,E=0!==(128&c);if(!r&&w===Ae&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==b&&(w=h(-w)),v.fromAffine({x:w,y:l})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=q(t,n.BYTES);return r[r.length-1]|=e&Se?128:0,r}toHex(){return R(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Se,h(t.Gx*t.Gy)),v.ZERO=new v(Ae,Se,Se,Ae);const{BASE:E,ZERO:x}=v,A=function(e,t){return{constTimeNegate:ge,hasPrecomputes:e=>1!==ve(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>fe;)n&pe&&(r=r.add(i)),i=i.double(),n>>=pe;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=ye(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=ye(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=h,n>o&&(n-=u,i+=pe);const s=t,d=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?c=c.add(ge(f,r[s])):a=a.add(ge(p,r[d]))}return{p:a,f:c}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=ye(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===fe)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=pe),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=we.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&we.set(t,n(r))),r},wNAFCached(e,t,n){const r=ve(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=ve(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){me(n,t),be.set(e,n),we.delete(e)}}}(v,8*c);function S(e){return se(e,i)}function k(e){return S(z(e))}function I(e){const t=n.BYTES;e=V("private key",e,t);const r=V("hashed private key",o(e),2*t),i=p(r.slice(0,t)),s=r.slice(t,2*t),a=k(i),c=E.multiply(a),l=c.toRawBytes();return{head:i,prefix:s,scalar:a,point:c,pointBytes:l}}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=W(...n);return k(o(g(i,V("context",e),!!s)))}const O=Pe;return E._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=V("message",e),s&&(e=s(e));const{prefix:o,scalar:a,pointBytes:c}=I(t),l=P(r.context,o,e),u=E.multiply(l).toRawBytes(),h=S(l+P(r.context,u,c,e)*a);return G("signature.s",h,Ae,i),V("result",W(u,q(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O;const{context:o,zip215:a}=i,c=n.BYTES;e=V("signature",e,2*c),t=V("message",t),r=V("publicKey",r,c),void 0!==a&&N("zip215",a),s&&(t=s(t));const l=z(e.slice(c,2*c));let u,h,d;try{u=v.fromHex(r,a),h=v.fromHex(e.slice(0,c),a),d=E.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=P(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>a(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const Ne=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ce=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Re=BigInt(1),Te=BigInt(2);BigInt(3);const _e=BigInt(5),Be=BigInt(8);function je(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ue(e,t){const n=Ne,r=se(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ne,o=e*e%s*e%s,a=ae(o,Te,s)*o%s,c=ae(a,Re,s)*e%s,l=ae(c,_e,s)*c%s,u=ae(l,t,s)*l%s,h=ae(u,n,s)*u%s,d=ae(h,r,s)*h%s,f=ae(d,i,s)*d%s,p=ae(f,i,s)*d%s,g=ae(p,t,s)*l%s;return{pow_p_5_8:ae(g,Te,s)*e%s,b2:o}}(e*se(r*r*t,n)).pow_p_5_8;let s=se(e*r*i,n);const o=se(t*s*s,n),a=s,c=se(s*Ce,n),l=o===e,u=o===se(-e,n),h=o===se(-e*Ce,n);return l&&(s=a),(u||h)&&(s=c),((e,t)=>(se(e,t)&$)===$)(s,n)&&(s=se(-s,n)),{isValid:l||u,value:s}}const Le=de(Ne,void 0,!0),De=Oe({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Le,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Be,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:A,randomBytes:d,adjustScalarBytes:je,uvRatio:Ue}),Me="EdDSA",Fe="JWT",ze=".",He="base64url",qe="utf8",Ve="utf8",We=":",Ke="did",Ge="key",Qe="base58btc",Je="z",Ye="K36",Ze=32;function Xe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function $e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Xe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function et(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=$e(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Xe(n)}var tt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const nt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class rt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class it{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ot(this,e)}}class st{constructor(e){this.decoders=e}or(e){return ot(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const ot=(e,t)=>new st((0,r.A)((0,r.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class at{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new rt(e,t,n),this.decoder=new it(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ct=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new at(t,n,r,i)},lt=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=tt(r,n);return ct({prefix:t,name:n,encode:i,decode:e=>nt(s(e))})},ut=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return ct({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},ht=ct({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dt=Object.freeze({__proto__:null,identity:ht});const ft=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pt=Object.freeze({__proto__:null,base2:ft});const gt=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mt=Object.freeze({__proto__:null,base8:gt});const yt=lt({prefix:"9",name:"base10",alphabet:"0123456789"});var wt=Object.freeze({__proto__:null,base10:yt});const bt=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vt=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Et=Object.freeze({__proto__:null,base16:bt,base16upper:vt});const xt=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),At=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),St=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kt=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),It=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Pt=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ot=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nt=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ct=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rt=Object.freeze({__proto__:null,base32:xt,base32upper:At,base32pad:St,base32padupper:kt,base32hex:It,base32hexupper:Pt,base32hexpad:Ot,base32hexpadupper:Nt,base32z:Ct});const Tt=lt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_t=lt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Bt=Object.freeze({__proto__:null,base36:Tt,base36upper:_t});const jt=lt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ut=lt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lt=Object.freeze({__proto__:null,base58btc:jt,base58flickr:Ut});const Dt=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mt=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ft=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zt=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ht=Object.freeze({__proto__:null,base64:Dt,base64pad:Mt,base64url:Ft,base64urlpad:zt});const qt=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Vt=qt.reduce((e,t,n)=>(e[n]=t,e),[]),Wt=qt.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const Kt=ct({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Vt[t],"")},decode:function(e){const t=[];for(const n of e){const e=Wt[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var Gt=Object.freeze({__proto__:null,base256emoji:Kt}),Qt=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Zt;)n[r++]=255&t|Jt,t/=128;for(;t&Yt;)n[r++]=255&t|Jt,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Jt=128,Yt=-128,Zt=Math.pow(2,31);var Xt=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&en)<<s:(r&en)*Math.pow(2,s),s+=7}while(r>=$t);return e.bytes=o-n,i},$t=128,en=127;var tn=Math.pow(2,7),nn=Math.pow(2,14),rn=Math.pow(2,21),sn=Math.pow(2,28),on=Math.pow(2,35),an=Math.pow(2,42),cn=Math.pow(2,49),ln=Math.pow(2,56),un=Math.pow(2,63),hn={encode:Qt,decode:Xt,encodingLength:function(e){return e<tn?1:e<nn?2:e<rn?3:e<sn?4:e<on?5:e<an?6:e<cn?7:e<ln?8:e<un?9:10}};const dn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hn.encode(e,t,n),t},fn=e=>hn.encodingLength(e),pn=(e,t)=>{const n=t.byteLength,r=fn(e),i=r+fn(n),s=new Uint8Array(i+n);return dn(e,s,0),dn(n,s,r),s.set(t,i),new gn(e,n,t,s)};class gn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const mn=e=>{let{name:t,code:n,encode:r}=e;return new yn(t,n,r)};class yn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?pn(this.code,t):t.then(e=>pn(this.code,e))}throw Error("Unknown type, must be binary type")}}const wn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),bn=mn({name:"sha2-256",code:18,encode:wn("SHA-256")}),vn=mn({name:"sha2-512",code:19,encode:wn("SHA-512")});var En=Object.freeze({__proto__:null,sha256:bn,sha512:vn});const xn=nt,An={code:0,name:"identity",encode:xn,digest:e=>pn(0,xn(e))};var Sn=Object.freeze({__proto__:null,identity:An});new TextEncoder,new TextDecoder;const kn=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},dt),pt),mt),wt),Et),Rt),Bt),Lt),Ht),Gt);function In(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,r.A)((0,r.A)({},En),Sn);const Pn=In("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),On=In("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=$e((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Nn=(0,r.A)({utf8:Pn,"utf-8":Pn,hex:kn.base16,latin1:On,ascii:On,binary:On},kn);function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Nn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Nn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):Xe(globalThis.Buffer.from(e,"utf-8"))}function Tn(e){return(0,s.j)(Cn(Rn(e,He),qe))}function _n(e){return Cn(Rn((0,s.h)(e),qe),He)}function Bn(e){const t=Rn(Ye,Qe),n=Je+Cn(et([t,e]),Qe);return[Ke,Ge,n].join(We)}function jn(e){return Cn(e,He)}function Un(e){const t=e.split(ze),n=Tn(t[0]),r=Tn(t[1]),i=function(e){return Rn(e,He)}(t[2]);return{header:n,payload:r,signature:i,data:Rn(t.slice(0,2).join(ze),Ve)}}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d(Ze);const t=De.getPublicKey(e);return{secretKey:et([e,t]),publicKey:t}}async function Dn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,i.fromMiliseconds)(Date.now());const o={alg:Me,typ:Fe},a={iss:Bn(r.publicKey),sub:e,aud:t,iat:s,exp:s+n},c=function(e){return Rn([_n(e.header),_n(e.payload)].join(ze),Ve)}({header:o,payload:a});return function(e){return[_n(e.header),_n(e.payload),jn(e.signature)].join(ze)}({header:o,payload:a,signature:De.sign(c,r.secretKey.slice(0,32))})}},917:(e,t,n)=>{"use strict";n.d(t,{VH:()=>l,li:()=>c});var r=n(7284),i=n(3901),s=n(1775);class o extends s.H{constructor(e){super()}}const a=i.FIVE_SECONDS,c={pulse:"heartbeat_pulse"};class l extends o{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=a,this.interval=(null===e||void 0===e?void 0:e.interval)||a}static async init(e){const t=new l(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(c.pulse)}}},940:(e,t,n)=>{"use strict";n.d(t,{kF:()=>s});class r{}class i extends r{constructor(){super()}}class s extends i{constructor(e){super()}}},1067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(6121).__exportStar(n(656),t)},1198:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1385:(e,t,n)=>{"use strict";n.d(t,{A1:()=>a,q$:()=>o,z:()=>c});const r="^https?:",i="^wss?:";function s(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function o(e){return s(e,r)}function a(e){return s(e,i)}function c(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},1666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(o+(c-u));let d=o;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let h=l-o;for(;h!==l&&0===u[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=e.charAt(u[h]);return d},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const i=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1757:(e,t,n)=>{"use strict";n.d(t,{CG:()=>r});const r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},1760:(e,t,n)=>{"use strict";function r(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(0!==(4294967168&i))if(0===(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320===(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=0===(4294901760&i)?3:4}else n++}return n}n.d(t,{Zf:()=>c,_u:()=>h,dS:()=>r,yi:()=>o});const i=new TextEncoder,s=50;function o(e,t,n){e.length>s?function(e,t,n){i.encodeInto(e,t.subarray(n))}(e,t,n):function(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let n=e.charCodeAt(s++);if(0!==(4294967168&n)){if(0===(4294965248&n))t[i++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&s<r){const t=e.charCodeAt(s);56320===(64512&t)&&(++s,n=((1023&n)<<10)+(1023&t)+65536)}0===(4294901760&n)?(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128):(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128)}t[i++]=63&n|128}else t[i++]=n}}(e,t,n)}const a=4096;function c(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const t=e[r++];if(0===(128&t))s.push(t);else if(192===(224&t)){const n=63&e[r++];s.push((31&t)<<6|n)}else if(224===(240&t)){const n=63&e[r++],i=63&e[r++];s.push((31&t)<<12|n<<6|i)}else if(240===(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n)}else s.push(t);s.length>=a&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const l=new TextDecoder,u=200;function h(e,t,n){return n>u?function(e,t,n){const r=e.subarray(t,t+n);return l.decode(r)}(e,t,n):c(e,t,n)}},1775:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class r{}},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},1834:(e,t,n)=>{"use strict";n.d(t,{eF:()=>a,mE:()=>i,rI:()=>o,vG:()=>s});var r=n(6765);function i(e){return r.jf.includes(e)}function s(e){return Object.keys(r.Uf).includes(e)?r.Uf[e]:r.Uf[r.XW]}function o(e){const t=Object.values(r.Uf).find(t=>t.code===e);return t||r.Uf[r.XW]}function a(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}},2636:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7284),i=n(8661),s=n(632);const o=e=>e.split("?")[0],a=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(1198);class c{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},o=new a(e,[],i);typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,s.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(o(this.url))));return this.events.emit("register_error",t),t}}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},3044:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>a,X3:()=>i,_j:()=>s,eN:()=>o,f7:()=>r});const r=4294967295;function i(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function s(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function o(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function a(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},3048:(e,t,n)=>{const r=n(5288);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){l[e]=l[e]+l[t]+i,l[r]=o(l[r]^l[e],16),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],12),l[e]=l[e]+l[t]+s,l[r]=o(l[r]^l[e],8),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function h(e,t){let n=0;for(n=0;n<8;n++)l[n]=e.h[n],l[n+8]=a[n];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,u[c[16*n+0]],u[c[16*n+1]]),s(1,5,9,13,u[c[16*n+2]],u[c[16*n+3]]),s(2,6,10,14,u[c[16*n+4]],u[c[16*n+5]]),s(3,7,11,15,u[c[16*n+6]],u[c[16*n+7]]),s(0,5,10,15,u[c[16*n+8]],u[c[16*n+9]]),s(1,6,11,12,u[c[16*n+10]],u[c[16*n+11]]),s(2,7,8,13,u[c[16*n+12]],u[c[16*n+13]]),s(3,4,9,14,u[c[16*n+14]],u[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=l[n]^l[n+8]}function d(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(f(r,t),r.c=64),r}function f(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);const i=d(n,t);return f(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){const i=g(e,t,n);return r.toHex(i)},blake2sInit:d,blake2sUpdate:f,blake2sFinal:p}},3587:(e,t,n)=>{"use strict";var r=n(510);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},3853:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}n.d(t,{C:()=>r})},3901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(5871),t),r.__exportStar(n(1822),t),r.__exportStar(n(1067),t),r.__exportStar(n(8251),t)},3985:(e,t,n)=>{"use strict";function r(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return r(e)&&"method"in e}function s(e){return r(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}n.d(t,{U$:()=>a,p3:()=>i,tq:()=>s,xT:()=>o})},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4017:(e,t,n)=>{"use strict";function r(e,t){this.v=e,this.k=t}function i(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,c=a instanceof r;Promise.resolve(c?a.v:a).then(function(n){if(c){var r="return"===t?"return":"next";if(!a.k||n.done)return i(r,n);n=e[r](n).value}s(o.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){s("throw",e)}}function s(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,o){var a={key:e,arg:r,resolve:s,reject:o,next:null};n?n=n.next=a:(t=n=a,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new r(e,0)}function o(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new a(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new a(e)}function c(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}n.d(t,{D:()=>S}),i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var l=n(5659),u=n(3044),h=n(1760),d=n(3853);var f=n(7257);const p="array",g="map_key",m="map_value",y=e=>{if("string"===typeof e||"number"===typeof e)return e;throw new f.X("The type of key must be string or number but "+typeof e)};class w{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=p,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=g,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===p){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===g||e.type===m){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const b=new DataView(new ArrayBuffer(0)),v=new Uint8Array(b.buffer);try{b.getInt8(0)}catch(k){if(!(k instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const E=new RangeError("Insufficient data"),x=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=(0,h.Zf)(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,i),i}};class A{constructor(e){var t,n,r,i,s,o,a,c,h;this.totalPos=0,this.pos=0,this.view=b,this.bytes=v,this.headByte=-1,this.stack=new w,this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:l.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.rawStrings=null!==(r=null===e||void 0===e?void 0:e.rawStrings)&&void 0!==r&&r,this.maxStrLength=null!==(i=null===e||void 0===e?void 0:e.maxStrLength)&&void 0!==i?i:u.f7,this.maxBinLength=null!==(s=null===e||void 0===e?void 0:e.maxBinLength)&&void 0!==s?s:u.f7,this.maxArrayLength=null!==(o=null===e||void 0===e?void 0:e.maxArrayLength)&&void 0!==o?o:u.f7,this.maxMapLength=null!==(a=null===e||void 0===e?void 0:e.maxMapLength)&&void 0!==a?a:u.f7,this.maxExtLength=null!==(c=null===e||void 0===e?void 0:e.maxExtLength)&&void 0!==c?c:u.f7,this.keyDecoder=void 0!==(null===e||void 0===e?void 0:e.keyDecoder)?e.keyDecoder:x,this.mapKeyConverter=null!==(h=null===e||void 0===e?void 0:e.mapKeyConverter)&&void 0!==h?h:y}clone(){return new A({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=(0,d.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=(0,d.C)(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))}decode(e){if(this.entered){return this.clone().decode(e)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered){return this.clone().decodeAsync(e)}try{this.entered=!0;let l,u=!1;var t,n=!1,r=!1;try{for(var i,s=o(e);n=!(i=await s.next()).done;n=!1){const e=i.value;if(u)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(e);try{l=this.doDecodeSync(),u=!0}catch(k){if(!(k instanceof RangeError))throw k}this.totalPos+=this.pos}}catch(a){r=!0,t=a}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw t}}if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return l}const{headByte:h,pos:d,totalPos:f}=this;throw new RangeError("Insufficient data in parsing ".concat(c(h)," at ").concat(f," (").concat(d," in the current buffer)"))}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}decodeMultiAsync(e,t){var n,a=this;return(n=function*(){if(a.entered){const n=a.clone();return void(yield*function(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new r(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}(o(n.decodeMultiAsync(e,t))))}try{a.entered=!0;let r=t,f=-1;var i,c=!1,l=!1;try{for(var u,h=o(e);c=!(u=yield s(h.next())).done;c=!1){const e=u.value;if(t&&0===f)throw a.createExtraByteError(a.totalPos);a.appendBuffer(e),r&&(f=a.readArraySize(),r=!1,a.complete());try{for(;yield a.doDecodeSync(),0!==--f;);}catch(n){if(!(n instanceof RangeError))throw n}a.totalPos+=a.pos}}catch(d){l=!0,i=d}finally{try{c&&null!=h.return&&(yield s(h.return()))}finally{if(l)throw i}}}finally{a.entered=!1}},function(){return new i(n.apply(this,arguments))})()}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new f.X("Unrecognized type byte: ".concat(c(e)));{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===p){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===g){if("__proto__"===t)throw new f.X("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=m;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=g;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new f.X("Unrecognized array type byte: ".concat(c(e)))}}pushMapState(e){if(e>this.maxMapLength)throw new f.X("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new f.X("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){var n;if(e>this.maxStrLength)throw new f.X("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw E;const r=this.pos+t;let i;return i=this.stateIsMapKey()&&null!==(n=this.keyDecoder)&&void 0!==n&&n.canBeCached(e)?this.keyDecoder.decode(this.bytes,r,e):(0,h._u)(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===g}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new f.X("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw E;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new f.X("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(0,u.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){const e=(0,u.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function S(e,t){return new A(t).decode(e)}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var v=b.prototype=new w;v.constructor=b,g(v,y.prototype),v.isPureReactComponent=!0;var E=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function S(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(){}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+P(e,0):s,E(o)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(k(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+u,o=S(c.type,l,void 0,0,0,c.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(E(e))for(var g=0;g<e.length;g++)u+=N(s=e[g],t,i,a=p+P(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,a=p+P(s,g++),o);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(O,O):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function _(){}t.Children={map:C,forEach:function(e,t,n){C(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!A.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)A.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,T)}catch(s){T(s)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9526);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5094:(e,t,n)=>{const r=n(5551),i=n(3048);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},5288:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let s=0;s<n.length;s+=2){if(32===r)i+=t(n[s]).toUpperCase(),i+=" ",i+=t(n[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[s+1]).toUpperCase(),i+=t(n[s]).toUpperCase()}s%6===4?i+="\n"+new Array(e.length+4).join(" "):s<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const n=e(i),s=(new Date).getTime(),o=s-r;r=s,console.log("Hashed in "+o+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},5311:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(1760),i=n(5659),s=n(3044),o=n(3853);class a{constructor(e){var t,n,r,s,o,a,c,l;this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:i.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.maxDepth=null!==(r=null===e||void 0===e?void 0:e.maxDepth)&&void 0!==r?r:100,this.initialBufferSize=null!==(s=null===e||void 0===e?void 0:e.initialBufferSize)&&void 0!==s?s:2048,this.sortKeys=null!==(o=null===e||void 0===e?void 0:e.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(a=null===e||void 0===e?void 0:e.forceFloat32)&&void 0!==a&&a,this.ignoreUndefined=null!==(c=null===e||void 0===e?void 0:e.ignoreUndefined)&&void 0!==c&&c,this.forceIntegerToFloat=null!==(l=null===e||void 0===e?void 0:e.forceIntegerToFloat)&&void 0!==l&&l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new a({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered){return this.clone().encodeSharedRef(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered){return this.clone().encode(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.useBigInt64&&"bigint"===typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=(0,r.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,r.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}const n=(0,o.C)(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(const r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(const i of n){const n=e[i];this.ignoreUndefined&&void 0===n||(this.encodeString(i),this.doEncode(n,t+1))}}encodeExtension(e){if("function"===typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error("Too large extension object: ".concat(n));return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function c(e,t){return new a(t).encodeSharedRef(e)}},5449:(e,t,n)=>{"use strict";n.d(t,{B4:()=>p,CQ:()=>E,CW:()=>v,Ei:()=>d,F8:()=>x,P5:()=>f,TH:()=>A,Vl:()=>w,Vr:()=>b,WM:()=>g,WQ:()=>y,im:()=>m,jm:()=>c,lD:()=>o,qh:()=>h,rE:()=>l,ry:()=>u,xn:()=>a});const r=BigInt(2**32-1),i=BigInt(32);function s(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:a}=s(e[o],t);[r[o],i[o]]=[n,a]}return[r,i]}const a=(e,t,n)=>e>>>n,c=(e,t,n)=>e<<32-n|t>>>n,l=(e,t,n)=>e>>>n|t<<32-n,u=(e,t,n)=>e<<32-n|t>>>n,h=(e,t,n)=>e<<64-n|t>>>n-32,d=(e,t,n)=>e>>>n-32|t<<64-n,f=(e,t,n)=>e<<n|t>>>32-n,p=(e,t,n)=>t<<n|e>>>32-n,g=(e,t,n)=>t<<n-32|e>>>64-n,m=(e,t,n)=>e<<n-32|t>>>64-n;function y(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),E=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,x=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0},5551:(e,t,n)=>{const r=n(5288);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){const c=h[o],l=h[o+1],d=h[a],f=h[a+1];i(u,e,t),s(u,e,c,l);let p=u[r]^u[e],g=u[r+1]^u[e+1];u[r]=g,u[r+1]=p,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),s(u,e,d,f),p=u[r]^u[e],g=u[r+1]^u[e+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),h=new Uint32Array(32);function d(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=c[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,l[16*n+0],l[16*n+1]),a(2,10,18,26,l[16*n+2],l[16*n+3]),a(4,12,20,28,l[16*n+4],l[16*n+5]),a(6,14,22,30,l[16*n+6],l[16*n+7]),a(0,10,20,30,l[16*n+8],l[16*n+9]),a(2,12,22,24,l[16*n+10],l[16*n+11]),a(4,14,16,26,l[16*n+12],l[16*n+13]),a(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),r&&f.set(r,48);for(let s=0;s<16;s++)i.h[s]=c[s]^o(f,4*s);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function y(e,t,n,i,s){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),s&&(s=r.normalizeInput(s));const o=p(n,t,i,s);return g(o,e),m(o)}e.exports={blake2b:y,blake2bHex:function(e,t,n,i,s){const o=y(e,t,n,i,s);return r.toHex(o)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:m}},5659:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});class r{constructor(e,t){this.type=e,this.data=t}}var i=n(7257),s=n(3044);const o={type:-1,encode:function(e){if(e instanceof Date){return function(e){let{sec:t,nsec:n}=e;if(t>=0&&n>=0&&t<=17179869183){if(0===n&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const e=t/4294967296,r=4294967295&t,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,n<<2|3&e),s.setUint32(4,r),i}}{const e=new Uint8Array(12),r=new DataView(e.buffer);return r.setUint32(0,n),(0,s._j)(r,4,t),e}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e))}return null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class a{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(o)}register(e){let{type:t,encode:n,decode:r}=e;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const e=-1-t;this.builtInEncoders[e]=n,this.builtInDecoders[e]=r}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(-1-n,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(n,s)}}}return e instanceof r?e:null}decode(e,t,n){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new r(t,e)}}a.defaultCodec=new a},5711:(e,t,n)=>{"use strict";const r=n(5984);e.exports=o;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:d,res:d,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function o(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let d=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1);"function"===typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const f=e.level||"info",g=Object.create(n);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:t,serialize:s,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(e)};return g.levels=o.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=r,g._serialize=s,g._stdErrSerialize=d,g.child=function(n,i){if(!n)throw new Error("missing bindings for child Pino");i=i||{},s&&n.serializers&&(i.serializers=n.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},r,o),h=!0===e.browser.serialize?Object.keys(a):s;delete n.serializers,c([n],h,a,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,n,"error"),this.fatal=l(e,n,"fatal"),this.warn=l(e,n,"warn"),this.info=l(e,n,"info"),this.debug=l(e,n,"debug"),this.trace=l(e,n,"trace"),a&&(this.serializers=a,this._serialize=h),t&&(this._logEvent=u([].concat(e._logEvent.bindings,n)))}return d.prototype=this,new d(this)},t&&(g._logEvent=u()),g}function a(e,t,n,s){const a=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?p:a[n]?a[n]:i[n]||i[s]||p,function(e,t,n){if(!e.transmit&&t[n]===p)return;t[n]=(s=t[n],function(){const a=e.timestamp(),l=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];if(e.serialize&&!e.asObject&&c(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(h,function(e,t,n,i){e._serialize&&c(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let a=s[0];const l={};i&&(l.time=i),l.level=o.levels.values[t];let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==a&&"object"===typeof a){for(;u--&&"object"===typeof s[0];)Object.assign(l,s.shift());a=s.length?r(s.shift(),s):void 0}else"string"===typeof a&&(a=r(s.shift(),s));return void 0!==a&&(l.msg=a),l}(this,n,l,a)):s.apply(h,l),e.transmit){const r=e.transmit.level||t.level,i=o.levels.values[r],s=o.levels.values[n];if(s<i)return;!function(e,t,n){const r=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,l=e._logEvent.bindings;c(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,r(s,e._logEvent,a),e._logEvent=u(l)}(this,{ts:a,methodLevel:n,methodValue:s,transmitLevel:r,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}});var s}(e,t,n)}function c(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=o.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function l(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?g:m}function d(){return{}}function f(e){return e}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},5771:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if(!r(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"===typeof e):t.every(e=>Number.isSafeInteger(e))))}function o(e){if("function"!==typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!==typeof t)throw new Error("".concat(e,": string expected"));return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function l(e){if(!Array.isArray(e))throw new Error("array expected")}function u(e,t){if(!s(!0,t))throw new Error("".concat(e,": array of strings expected"))}function h(e,t){if(!s(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function d(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return{encode:r.map(e=>e.encode).reduceRight(t,e),decode:r.map(e=>e.decode).reduce(t,e)}}function f(e){const t="string"===typeof e?e.split(""):e,n=t.length;u("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(l(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(r,'". Allowed: ').concat(e));return t[r]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";return c(e),a("padding",t),{encode(n){for(u("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){u("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function m(e){return o(e),{encode:e=>e,decode:t=>e(t)}}function y(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(l(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error("invalid integer: ".concat(e));return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=r;i<o;i++){const o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const h=Math.floor(u);if(s[i]=h,!Number.isSafeInteger(h)||h*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(h?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}n.d(t,{RG:()=>I});const w=(e,t)=>0===t?e:w(t,e%t),b=(e,t)=>e+(t-w(e,t)),v=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function E(e,t,n,r){if(l(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(b(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(b(t,n)));let i=0,s=0;const o=v[t],a=v[n]-1,u=[];for(const l of e){if(c(l),l>=o)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)u.push((i>>s-n&a)>>>0);const e=v[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error("Non-zero padding: ".concat(i));return r&&s>0&&u.push(i>>>0),u}function x(e){c(e);return{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return y(Array.from(t),256,e)},decode:t=>(h("radix.decode",t),Uint8Array.from(y(t,e,256)))}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return E(Array.from(n),8,e,!t)},decode:n=>(h("radix2.decode",n),Uint8Array.from(E(n,e,8,t)))}}function S(e){return o(e),function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}const k=d(A(4),f("0123456789ABCDEF"),p("")),I=d(A(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),p("")),P=(d(A(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),d(A(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),p("")),d(A(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),d(A(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),m(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"===typeof Uint8Array.from([]).toBase64&&"function"===typeof Uint8Array.fromBase64)()),O=(e,t)=>{a("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},N=P?{encode:e=>(i(e),e.toBase64()),decode:e=>O(e,!1)}:d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),p("")),C=(d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),P?{encode:e=>(i(e),e.toBase64({alphabet:"base64url"})),decode:e=>O(e,!0)}:d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),p(""))),R=(d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p("")),e=>d(x(58),f(e),p(""))),T=R("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_=(R("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),R("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),B={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=T.encode(r).padStart(_[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=_.indexOf(r.length),s=T.decode(r);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},j=d(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),U=[996825010,642813549,513874426,1027748829,705979059];function L(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<U.length;r++)1===(t>>r&1)&&(n^=U[r]);return n}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let s=0;s<r;s++){const t=e.charCodeAt(s);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=L(i)^t>>5}i=L(i);for(let s=0;s<r;s++)i=L(i)^31&e.charCodeAt(s);for(let s of t)i=L(i)^s;for(let s=0;s<6;s++)i=L(i);return i^=n,j.encode(E([i%v[30]],30,5,!1))}function M(e){const t="bech32"===e?1:734539939,n=A(5),i=n.decode,s=n.encode,o=S(i);function c(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),h("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError("Invalid prefix length ".concat(s));const o=s+7+n.length;if(!1!==i&&o>i)throw new TypeError("Length ".concat(o," exceeds limit ").concat(i));const c=e.toLowerCase(),l=D(c,n,t);return"".concat(c,"1").concat(j.encode(n)).concat(l)}function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError("invalid string length: ".concat(r," (").concat(e,"). Expected (8..").concat(n,")"));const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),c=i.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const l=j.decode(c).slice(0,-6),u=D(o,l,t);if(!c.endsWith(u))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(u,'"'));return{prefix:o,words:l}}return{encode:c,decode:l,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=l(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:S(l),fromWords:i,fromWordsUnsafe:o,toWords:s}}M("bech32"),M("bech32m");const F={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)()||d(A(4),f("0123456789abcdef"),p(""),m(e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))},5871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(296),t),r.__exportStar(n(568),t)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,w="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(m=!1,E(e),!g)if(null!==r(l))g=!0,S||(S=!0,A());else{var t=r(u);null!==t&&T(x,t.startTime-e)}}var A,S=!1,k=-1,I=5,P=-1;function O(){return!!y||!(t.unstable_now()-P<I)}function N(){if(y=!1,S){var e=t.unstable_now();P=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(k),k=-1),p=!0;var s=f;try{t:{for(E(e),d=r(l);null!==d&&!(d.expirationTime>e&&O());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,E(e),n=!0;break t}d===r(l)&&i(l),E(e)}else i(l);d=r(l)}if(null!==d)n=!0;else{var c=r(u);null!==c&&T(x,c.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?A():S=!1}}}if("function"===typeof v)A=function(){v(N)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,R=C.port2;C.port1.onmessage=N,A=function(){R.postMessage(null)}}else A=function(){w(N,0)};function T(e,n){k=w(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(b(k),k=-1):m=!0,T(x,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,S||(S=!0,A()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(n[u]),h=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(n[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;h<f&&(l+=e.slice(h,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",h=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",h=f+2,f++;break}l+=i(n[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(n[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}if(-1===h)return e;h<d&&(l+=e.slice(h));return l}},6121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6454:(e,t)=>{"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},6499:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>I,DO:()=>o,CC:()=>c,sd:()=>a,Fe:()=>s,Ht:()=>l,My:()=>b,uH:()=>h,Id:()=>k,qj:()=>P,O8:()=>d,aT:()=>x,aY:()=>i,po:()=>O,Ow:()=>f,fd:()=>m,ZJ:()=>S,DH:()=>u});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function o(e){if(!i(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)}function c(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function u(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function d(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}const p=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function g(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const m=p?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=g(e[t]);return e},y=(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)(),w=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(o(e),y)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=w[e[n]];return t}const v={_0:48,_9:57,A:65,F:70,a:97,f:102};function E(e){return e>=v._0&&e<=v._9?e-v._0:e>=v.A&&e<=v.F?e-(v.A-10):e>=v.a&&e<=v.f?e-(v.a-10):void 0}function x(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);if(y)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=E(e.charCodeAt(s)),n=E(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function A(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function S(e){return"string"===typeof e&&(e=A(e)),o(e),e}function k(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];o(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class I{}function P(e){const t=t=>e().update(S(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},6526:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,V:()=>w});var r=n(7284),i=n(9038),s=n.n(i),o=n(8661),a=n(632),c=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(h)for(var n of h(t))f.call(t,n)&&p(e,n,t[n]);return e},m=(e,t)=>l(e,u(t));const y={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,o.h)(e),n=await(await s()(this.url,m(g({},y),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,o.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,m(g({},y),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},6613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.1"},6765:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>u,XW:()=>h,fO:()=>c,jf:()=>l,zR:()=>a});const r="PARSE_ERROR",i="INVALID_REQUEST",s="METHOD_NOT_FOUND",o="INVALID_PARAMS",a="INTERNAL_ERROR",c="SERVER_ERROR",l=[-32700,-32600,-32601,-32602,-32603],u={[r]:{code:-32700,message:"Parse error"},[i]:{code:-32600,message:"Invalid Request"},[s]:{code:-32601,message:"Method not found"},[o]:{code:-32602,message:"Invalid params"},[a]:{code:-32603,message:"Internal error"},[c]:{code:-32e3,message:"Server error"}},h=c},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(c(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList";case P:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case E:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var _=Array.isArray,B=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},L=[],D=-1;function M(e){return{current:e}}function F(e){0>D||(e.current=L[D],L[D]=null,D--)}function z(e,t){D++,L[D]=e.current,e.current=t}var H=M(null),q=M(null),V=M(null),W=M(null);function K(e,t){switch(z(V,t),z(q,e),z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),z(H,e)}function G(){F(H),F(q),F(V)}function Q(e){null!==e.memoizedState&&z(W,e);var t=H.current,n=sh(t,e.type);t!==n&&(z(q,e),z(H,n))}function J(e){q.current===e&&(F(H),F(q)),W.current===e&&(F(W),Qh._currentValue=U)}var Y=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,ae=r.unstable_IdlePriority,ce=r.log,le=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof ce&&le(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=we(r):0!==(o&=a)?i=we(o):n||0!==(n=a&~e)&&(i=we(n)):0!==(a=r&~s)?i=we(a):0!==o?i=we(o):n||0!==(n=r&~e)&&(i=we(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function Ae(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ke(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ce(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:ld(e.type)}var Re=Math.random().toString(36).slice(2),Te="__reactFiber$"+Re,_e="__reactProps$"+Re,Be="__reactContainer$"+Re,je="__reactEvents$"+Re,Ue="__reactListeners$"+Re,Le="__reactHandles$"+Re,De="__reactResources$"+Re,Me="__reactMarker$"+Re;function Fe(e){delete e[Te],delete e[_e],delete e[je],delete e[Ue],delete e[Le]}function ze(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Te])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Te]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ve(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Me]=!0}var Ke=new Set,Ge={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Ze,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call($e,i)&&(Xe.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Ze}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,lt(t)):null!=n?wt(e,o,lt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+lt(a):e.removeAttribute("name")}function yt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function wt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(_(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ct=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,_t=null;function Bt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[_e]||null;if(!i)throw Error(o(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Ut(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Tt||null!==_t)&&(zl(),Tt&&(t=Tt,e=_t,_t=Tt=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[_e]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Dt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Mt=!1;if(Dt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(_d){Mt=!1}var zt=null,Ht=null,qt=null;function Vt(){if(qt)return qt;var e,t,n=Ht,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Yt,Zt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Qt(Xt),en=d({},Xt,{view:0,detail:0}),tn=Qt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Jt=e.screenX-Zt.screenX,Yt=e.screenY-Zt.screenY):Yt=Jt=0,Zt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),sn=Qt(d({},nn,{dataTransfer:0})),on=Qt(d({},en,{relatedTarget:0})),an=Qt(d({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Qt(d({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Qt(d({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var gn=Qt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Qt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),wn=Qt(d({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Qt(d({},Xt,{newState:0,oldState:0})),En=[9,13,27,32],xn=Dt&&"CompositionEvent"in window,An=null;Dt&&"documentMode"in document&&(An=document.documentMode);var Sn=Dt&&"TextEvent"in window&&!An,kn=Dt&&(!xn||An&&8<An&&11>=An),In=String.fromCharCode(32),Pn=!1;function On(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function _n(e,t,n,r){Tt?_t?_t.push(r):_t=[r]:Tt=r,0<(t=Vu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,jn=null;function Un(e){Uu(e,0)}function Ln(e){if(dt(qe(e)))return e}function Dn(e,t){if("change"===e)return t}var Mn=!1;if(Dt){var Fn;if(Dt){var zn="oninput"in document;if(!zn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),zn="function"===typeof Hn.oninput}Fn=zn}else Fn=!1;Mn=Fn&&(!document.documentMode||9<document.documentMode)}function qn(){Bn&&(Bn.detachEvent("onpropertychange",Vn),jn=Bn=null)}function Vn(e){if("value"===e.propertyName&&Ln(jn)){var t=[];_n(t,jn,e,Rt(e)),Ut(Un,t)}}function Wn(e,t,n){"focusin"===e?(qn(),jn=n,(Bn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(jn)}function Gn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Dt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Vu(ir,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!lr[e])return e;var t,n=lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Dt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),gr=dr("animationstart"),mr=dr("transitionrun"),yr=dr("transitionstart"),wr=dr("transitioncancel"),br=dr("transitionend"),vr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){vr.set(e,t),Qe(t,[e])}Er.push("scrollEnd");var Ar=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=Ar.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},Ar.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var kr=[],Ir=0,Pr=0;function Or(){for(var e=Ir,t=Pr=Ir=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Tr(n,i,s)}}function Nr(e,t,n,r){kr[Ir++]=e,kr[Ir++]=t,kr[Ir++]=n,kr[Ir++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Cr(e,t,n,r){return Nr(e,t,n,r),_r(e)}function Rr(e,t){return Nr(e,null,null,t),_r(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function _r(e){if(50<Tl)throw Tl=0,_l=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Br={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new jr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Lr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Ur(31,n,t,i)).elementType=P,e.lanes=s,e;case m:return zr(n.children,i,s,t);case y:a=8,i|=24;break;case w:return(e=Ur(12,n,t,2|i)).elementType=w,e.lanes=s,e;case A:return(e=Ur(13,n,t,i)).elementType=A,e.lanes=s,e;case S:return(e=Ur(19,n,t,i)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case E:a=10;break e;case v:a=9;break e;case x:a=11;break e;case k:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],Wr=0,Kr=null,Gr=0,Qr=[],Jr=0,Yr=null,Zr=1,Xr="";function $r(e,t){Vr[Wr++]=Gr,Vr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Qr[Jr++]=Zr,Qr[Jr++]=Xr,Qr[Jr++]=Yr,Yr=e;var r=Zr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zr=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else Zr=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&($r(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Vr[--Wr],Vr[Wr]=null,Gr=Vr[--Wr],Vr[Wr]=null;for(;e===Yr;)Yr=Qr[--Jr],Qr[Jr]=null,Xr=Qr[--Jr],Qr[Jr]=null,Zr=Qr[--Jr],Qr[Jr]=null}var ri=null,ii=null,si=!1,oi=null,ai=!1,ci=Error(o(519));function li(e){throw gi(Sr(Error(o(418,"")),e)),ci}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Te]=e,t[_e]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Bu.length;n++)Lu(Bu[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),Et(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||li(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oh(e.type,e.memoizedProps)),t=!t),t&&ii&&li(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=wh,wh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=oi;return null!==e&&(null===bl?bl=e:bl.push.apply(bl,e),oi=null),e}function gi(e){null===oi?oi=[e]:oi.push(e)}var mi=M(null),yi=null,wi=null;function bi(e,t,n){z(mi,t._currentValue),t._currentValue=n}function vi(e){e._currentValue=mi.current,F(mi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s.return,n,e),r||(a=null);break e}s=c.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ei(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ai(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(i===W.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qh):e=[Qh])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){yi=e,wi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return Oi(yi,e)}function Pi(e,t){return null===yi&&ki(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wi){if(null===e)throw Error(o(308));wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wi=wi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ci=r.unstable_scheduleCallback,Ri=r.unstable_NormalPriority,Ti={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _i(){return{controller:new Ni,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Ci(Ri,function(){e.controller.abort()})}var ji=null,Ui=0,Li=0,Di=null;function Mi(){if(0===--Ui&&null!==ji){null!==Di&&(Di.status="fulfilled");var e=ji;ji=null,Li=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Fi=B.S;B.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Ui=0,Li=Nu(),Di={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ui++,t.then(Mi,Mi)}(0,t),null!==Fi&&Fi(e,t)};var zi=M(null);function Hi(){var e=zi.current;return null!==e?e:rl.pooledCache}function qi(e,t){z(zi,null===t?zi.current:t.pool)}function Vi(){var e=Hi();return null===e?null:{parent:Ti._currentValue,pool:e}}var Wi=Error(o(460)),Ki=Error(o(474)),Gi=Error(o(542)),Qi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function $i(){if(null===Xi)throw Error(o(459));var e=Xi;return Xi=null,e}function es(e){if(e===Wi||e===Gi)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=_r(e),Tr(e,null,n),t}return Nr(e,r,t,n),_r(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function as(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cs=!1;function ls(){if(cs){if(null!==Di)throw Di}}function us(e,t,n,r){cs=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(sl&f)===f:(r&f)===f){0!==f&&f===Li&&(cs=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=h):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fl|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=M(null),ps=M(0);function gs(e,t){z(ps,e=hl),z(fs,t),hl=e|t.baseLanes}function ms(){z(ps,hl),z(fs,fs.current)}function ys(){hl=ps.current,F(fs),F(ps)}var ws=0,bs=null,vs=null,Es=null,xs=!1,As=!1,Ss=!1,ks=0,Is=0,Ps=null,Os=0;function Ns(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Rs(e,t,n,r,i,s){return ws=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?Ko:Go,Ss=!1,s=n(r,i),Ss=!1,As&&(s=_s(t,n,r,i)),Ts(e),s}function Ts(e){B.H=Wo;var t=null!==vs&&null!==vs.next;if(ws=0,Es=vs=bs=null,xs=!1,Is=0,Ps=null,t)throw Error(o(300));null===e||Pa||null!==(e=e.dependencies)&&Si(e)&&(Pa=!0)}function _s(e,t,n,r){bs=e;var i=0;do{if(As&&(Ps=null),Is=0,As=!1,25<=i)throw Error(o(301));if(i+=1,Es=vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}B.H=Qo,s=t(n,r)}while(As);return s}function Bs(){var e=B.H,t=e.useState()[0];return t="function"===typeof t.then?Fs(t):t,e=e.useState()[0],(null!==vs?vs.memoizedState:null)!==e&&(bs.flags|=1024),t}function js(){var e=0!==ks;return ks=0,e}function Us(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(xs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xs=!1}ws=0,Es=vs=bs=null,As=!1,Is=ks=0,Ps=null}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Es?bs.memoizedState=Es=e:Es=Es.next=e,Es}function Ms(){if(null===vs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===Es?bs.memoizedState:Es.next;if(null!==t)Es=t,vs=e;else{if(null===e){if(null===bs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===Es?bs.memoizedState=Es=e:Es=Es.next=e}return Es}function Fs(e){var t=Is;return Is+=1,null===Ps&&(Ps=[]),e=Zi(Ps,e,t),t=bs,null===(null===Es?t.memoizedState:Es.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?Ko:Go),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fs(e);if(e.$$typeof===E)return Ii(e)}throw Error(o(438,String(e)))}function Hs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function qs(e,t){return"function"===typeof t?t(e):t}function Vs(e){return Ws(Ms(),vs,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=a=null,l=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(sl&d)===d:(ws&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Li&&(h=!0);else{if((ws&f)===f){u=u.next,f===Li&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,a=s):l=l.next=d,bs.lanes|=f,fl|=f}d=u.action,Ss&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,bs.lanes|=d,fl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Jn(s,e.memoizedState)&&(Pa=!0,h&&null!==(n=Di)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Ms(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Jn(s,t.memoizedState)||(Pa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gs(e,t,n){var r=bs,i=Ms(),s=si;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Jn((vs||i).memoizedState,n);if(a&&(i.memoizedState=n,Pa=!0),i=i.queue,yo(2048,8,Ys.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Es&&1&Es.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Js.bind(null,r,i,n,t),null),null===rl)throw Error(o(349));s||0!==(124&ws)||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&Xs(e)}function Ys(e,t,n){return n(function(){Zs(t)&&Xs(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xs(e){var t=Rr(e,2);null!==t&&Ul(t,e,2)}function $s(e){var t=Ds();if("function"===typeof e){var n=e;if(e=n(),Ss){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Ws(e,vs,"function"===typeof r?r:qs)}function to(e,t,n,r,i){if(Ho(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==B.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=B.T,o={};B.T=o;try{var a=n(i,r),c=B.S;null!==c&&c(o,a),ro(e,t,a)}catch(l){so(e,t,l)}finally{B.T=s}}else try{ro(e,t,s=n(i,r))}catch(u){so(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return so(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function co(e,t){if(si){var n=rl.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=ai;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}li(r)}r=!1}r&&(t=n[0])}}return(n=Ds()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=r,n=Mo.bind(null,bs,r),r.dispatch=n,r=$s(!1),s=zo.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ds()).queue=i,n=to.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function lo(e){return uo(Ms(),vs,e)}function uo(e,t,n){if(t=Ws(e,t,ao)[0],e=Vs(qs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Fs(t)}catch(o){if(o===Wi)throw Gi;throw o}else r=t;var i=(t=Ms()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,s,e]}function ho(e,t){e.action=t}function fo(e){var t=Ms(),n=vs;if(null!==n)return uo(t,n,e);Ms(),t=t.memoizedState;var r=(n=Ms()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(){return Ms().memoizedState}function mo(e,t,n,r){var i=Ds();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=Ms();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==vs&&null!==r&&Cs(r,vs.memoizedState.deps)?i.memoizedState=po(t,s,n,r):(bs.flags|=e,i.memoizedState=po(1|t,s,n,r))}function wo(e,t){mo(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function vo(e,t){return yo(4,2,e,t)}function Eo(e,t){return yo(4,4,e,t)}function xo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ao(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,xo.bind(null,t,e),n)}function So(){}function ko(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Cs(t,r[1]))return r[0];if(r=e(),Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Po(e,t,n){return void 0===n||0!==(1073741824&ws)?e.memoizedState=t:(e.memoizedState=n,e=jl(),bs.lanes|=e,fl|=e,n)}function Oo(e,t,n,r){return Jn(n,t)?n:null!==fs.current?(e=Po(e,n,r),Jn(e,t)||(Pa=!0),e):0===(42&ws)?(Pa=!0,e.memoizedState=n):(e=jl(),bs.lanes|=e,fl|=e,t)}function No(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var o=B.T,a={};B.T=a,zo(e,!1,t,n);try{var c=i(),l=B.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)Fo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(c,r),Bl());else Fo(e,t,r,Bl())}catch(u){Fo(e,t,{then:function(){},status:"rejected",reason:u},Bl())}finally{j.p=s,B.T=o}}function Co(){}function Ro(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=To(e).queue;No(e,i,t,U,null===n?Co:function(){return _o(e),n(r)})}function To(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function _o(e){Fo(e,To(e).next.queue,{},Bl())}function Bo(){return Ii(Qh)}function jo(){return Ms().memoizedState}function Uo(){return Ms().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Bl(),r=ss(t,e=is(n),n);return null!==r&&(Ul(r,t,n),os(r,t,n)),t={cache:_i()},void(e.payload=t)}t=t.return}}function Do(e,t,n){var r=Bl();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?qo(t,n):null!==(n=Cr(e,t,n,r))&&(Ul(n,e,r),Vo(n,t,r))}function Mo(e,t,n){Fo(e,t,n,Bl())}function Fo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o))return Nr(e,t,i,0),null===rl&&Or(),!1}catch(c){}if(null!==(n=Cr(e,t,i,r)))return Ul(n,e,r),Vo(n,t,r),!0}return!1}function zo(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(o(479))}else null!==(t=Cr(e,n,r,2))&&Ul(t,e,2)}function Ho(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function qo(e,t){As=xs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Wo={readContext:Ii,use:zs,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useLayoutEffect:Ns,useInsertionEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useSyncExternalStore:Ns,useId:Ns,useHostTransitionStatus:Ns,useFormState:Ns,useActionState:Ns,useOptimistic:Ns,useMemoCache:Ns,useCacheRefresh:Ns},Ko={readContext:Ii,use:zs,useCallback:function(e,t){return Ds().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:wo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mo(4194308,4,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){mo(4,2,e,t)},useMemo:function(e,t){var n=Ds();t=void 0===t?null:t;var r=e();if(Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ds();if(void 0!==n){var i=n(t);if(Ss){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Do.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ds().memoizedState=e},useState:function(e){var t=(e=$s(e)).queue,n=Mo.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:So,useDeferredValue:function(e,t){return Po(Ds(),e,t)},useTransition:function(){var e=$s(!1);return e=No.bind(null,bs,e.queue,!0,!1),Ds().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Ds();if(si){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rl)throw Error(o(349));0!==(124&sl)||Qs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wo(Ys.bind(null,r,s,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Js.bind(null,r,s,n,t),null),n},useId:function(){var e=Ds(),t=rl.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=(Zr&~(1<<32-fe(Zr)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Os++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Bo,useFormState:co,useActionState:co,useOptimistic:function(e){var t=Ds();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zo.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hs,useCacheRefresh:function(){return Ds().memoizedState=Lo.bind(null,bs)}},Go={readContext:Ii,use:zs,useCallback:ko,useContext:Ii,useEffect:bo,useImperativeHandle:Ao,useInsertionEffect:vo,useLayoutEffect:Eo,useMemo:Io,useReducer:Vs,useRef:go,useState:function(){return Vs(qs)},useDebugValue:So,useDeferredValue:function(e,t){return Oo(Ms(),vs.memoizedState,e,t)},useTransition:function(){var e=Vs(qs)[0],t=Ms().memoizedState;return["boolean"===typeof e?e:Fs(e),t]},useSyncExternalStore:Gs,useId:jo,useHostTransitionStatus:Bo,useFormState:lo,useActionState:lo,useOptimistic:function(e,t){return eo(Ms(),0,e,t)},useMemoCache:Hs,useCacheRefresh:Uo},Qo={readContext:Ii,use:zs,useCallback:ko,useContext:Ii,useEffect:bo,useImperativeHandle:Ao,useInsertionEffect:vo,useLayoutEffect:Eo,useMemo:Io,useReducer:Ks,useRef:go,useState:function(){return Ks(qs)},useDebugValue:So,useDeferredValue:function(e,t){var n=Ms();return null===vs?Po(n,e,t):Oo(n,vs.memoizedState,e,t)},useTransition:function(){var e=Ks(qs)[0],t=Ms().memoizedState;return["boolean"===typeof e?e:Fs(e),t]},useSyncExternalStore:Gs,useId:jo,useHostTransitionStatus:Bo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Ms();return null!==vs?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:Uo},Jo=null,Yo=0;function Zo(e){var t=Yo;return Yo+=1,null===Jo&&(Jo=[]),Zi(Jo,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $o(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&ea(s)===t.type)?(Xo(t=i(t,n.props),n),t.return=e,t):(Xo(t=Fr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xo(n=Fr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=qr(t,e.mode,n)).return=e,t;case I:return d(e,t=(0,t._init)(t._payload),n)}if(_(t)||C(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Zo(t),n);if(t.$$typeof===E)return d(e,Pi(e,t),n);$o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?l(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,n=(i=n._init)(n._payload),r)}if(_(n)||C(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Zo(n),r);if(n.$$typeof===E)return f(e,t,Pi(e,n),r);$o(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(_(r)||C(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Zo(r),i);if(r.$$typeof===E)return y(e,t,n,Pi(t,r),i);$o(t,r)}return null}function w(c,l,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==l;){if(l.key===b){if((b=u.type)===m){if(7===l.tag){n(c,l.sibling),(h=i(l,u.props.children)).return=c,c=h;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&ea(b)===l.type){n(c,l.sibling),Xo(h=i(l,u.props),u),h.return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===m?((h=zr(u.props.children,c.mode,h,u.key)).return=c,c=h):(Xo(h=Fr(u.type,u.key,u.props,null,c.mode,h),u),h.return=c,c=h)}return a(c);case g:e:{for(b=u.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(h=i(l,u.children||[])).return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}(h=qr(u,c.mode,h)).return=c,c=h}return a(c);case I:return w(c,l,u=(b=u._init)(u._payload),h)}if(_(u))return function(i,o,a,c){for(var l=null,u=null,h=o,p=o=0,g=null;null!==h&&p<a.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,a[p],c);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),o=s(m,o,p),null===u?l=m:u.sibling=m,u=m,h=g}if(p===a.length)return n(i,h),si&&$r(i,p),l;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],c))&&(o=s(h,o,p),null===u?l=h:u.sibling=h,u=h);return si&&$r(i,p),l}for(h=r(h);p<a.length;p++)null!==(g=y(h,i,p,a[p],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),o=s(g,o,p),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),si&&$r(i,p),l}(c,l,u,h);if(C(u)){if("function"!==typeof(b=C(u)))throw Error(o(150));return function(i,a,c,l){if(null==c)throw Error(o(151));for(var u=null,h=null,p=a,g=a=0,m=null,w=c.next();null!==p&&!w.done;g++,w=c.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,w.value,l);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),a=s(b,a,g),null===h?u=b:h.sibling=b,h=b,p=m}if(w.done)return n(i,p),si&&$r(i,g),u;if(null===p){for(;!w.done;g++,w=c.next())null!==(w=d(i,w.value,l))&&(a=s(w,a,g),null===h?u=w:h.sibling=w,h=w);return si&&$r(i,g),u}for(p=r(p);!w.done;g++,w=c.next())null!==(w=y(p,i,g,w.value,l))&&(e&&null!==w.alternate&&p.delete(null===w.key?g:w.key),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w);return e&&p.forEach(function(e){return t(i,e)}),si&&$r(i,g),u}(c,l,u=b.call(u),h)}if("function"===typeof u.then)return w(c,l,Zo(u),h);if(u.$$typeof===E)return w(c,l,Pi(c,u),h);$o(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(h=i(l,u)).return=c,c=h):(n(c,l),(h=Hr(u,c.mode,h)).return=c,c=h),a(c)):n(c,l)}return function(e,t,n,r){try{Yo=0;var i=w(e,t,n,r);return Jo=null,i}catch(o){if(o===Wi||o===Gi)throw o;var s=Ur(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var na=ta(!0),ra=ta(!1),ia=M(null),sa=null;function oa(e){var t=e.alternate;z(ua,1&ua.current),z(ia,e),null===sa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(ia,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else ca()}function ca(){z(ua,ua.current),z(ia,ia.current)}function la(e){F(ia),sa===e&&(sa=null),F(ua)}var ua=M(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||mh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bl(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Ul(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bl(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Ul(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bl(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Ul(t,e,n),os(t,e,n))}};function pa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,s))}function ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ma(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function wa(e){ya(e)}function ba(e){console.error(e)}function va(e){ya(e)}function Ea(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Aa(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){Ea(e,t)},n}function Sa(e){return(e=is(e)).tag=3,e}function ka(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){xa(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){xa(t,n,r),"function"!==typeof i&&(null===Sl?Sl=new Set([this]):Sl.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(o(461)),Pa=!1;function Oa(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Na(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return ki(t),r=Rs(e,t,n,o,s,i),a=js(),null===e||Pa?(si&&a&&ti(t),t.flags|=1,Oa(e,t,r,i),t.child):(Us(e,t,i),Ja(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Fr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ra(e,t,s,r,i))}if(s=e.child,!Ya(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,r)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=Dr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(Pa=!1,t.pendingProps=r=s,!Ya(e,i))return t.lanes=e.lanes,Ja(e,t,i);0!==(131072&e.flags)&&(Pa=!0)}}return ja(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return _a(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,_a(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==s?s.cachePool:null),null!==s?gs(t,s):ms(),aa(t)}else null!==s?(qi(0,s.cachePool),gs(t,s),ca(),t.memoizedState=null):(null!==e&&qi(0,null),ms(),ca());return Oa(e,t,i,n),t.child}function _a(e,t,n,r){var i=Hi();return i=null===i?null:{parent:Ti._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),ms(),aa(t),null!==e&&Ai(e,t,r,!0),null}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function ja(e,t,n,r,i){return ki(t),n=Rs(e,t,n,r,void 0,i),r=js(),null===e||Pa?(si&&r&&ti(t),t.flags|=1,Oa(e,t,n,i),t.child):(Us(e,t,i),Ja(e,t,i))}function Ua(e,t,n,r,i,s){return ki(t),t.updateQueue=null,n=_s(t,r,n,i),Ts(e),r=js(),null===e||Pa?(si&&r&&ti(t),t.flags|=1,Oa(e,t,n,s),t.child):(Us(e,t,s),Ja(e,t,s))}function La(e,t,n,r,i){if(ki(t),null===t.stateNode){var s=Br,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ii(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ii(o):Br,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(da(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&fa.enqueueReplaceState(s,s.state,null),us(t,r,s,i),ls(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=ma(n,a);s.props=c;var l=s.context,u=n.contextType;o=Br,"object"===typeof u&&null!==u&&(o=Ii(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&ga(t,s,r,o),ts=!1;var d=t.memoizedState;s.state=d,us(t,r,s,i),ls(),l=t.memoizedState,a||d!==l||ts?("function"===typeof h&&(da(t,n,h,r),l=t.memoizedState),(c=ts||pa(t,n,c,r,d,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=ma(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,c=Br,"object"===typeof l&&null!==l&&(c=Ii(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==c)&&ga(t,s,r,c),ts=!1,d=t.memoizedState,s.state=d,us(t,r,s,i),ls();var f=t.memoizedState;o!==h||d!==f||ts||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof a&&(da(t,n,a,r),f=t.memoizedState),(u=ts||pa(t,n,u,r,d,f,c)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ba(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ja(e,t,i),e}function Da(e,t,n,r){return fi(),t.flags|=256,Oa(e,t,n,r),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fa(e){return{baseLanes:e,cachePool:Vi()}}function za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=ml),e}function Ha(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?oa(t):ca(),si){var c,l=ii;if(c=l){e:{for(c=l,l=ai;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=yh(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Yr?{id:Zr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(c=Ur(18,null,null,0)).stateNode=l,c.return=t,t.child=c,ri=t,ii=null,c=!0):c=!1}c||li(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return mh(l)?t.lanes=32:t.lanes=536870912,null;la(t)}return l=i.children,i=i.fallback,s?(ca(),l=Va({mode:"hidden",children:l},s=t.mode),i=zr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(s=t.child).memoizedState=Fa(n),s.childLanes=za(e,r,n),t.memoizedState=Ma,i):(oa(t),qa(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=Wa(e,t,n)):null!==t.memoizedState?(ca(),t.child=e.child,t.flags|=128,t=null):(ca(),s=i.fallback,l=t.mode,i=Va({mode:"visible",children:i.children},l),(s=zr(s,l,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Fa(n),i.childLanes=za(e,r,n),t.memoizedState=Ma,t=s);else if(oa(t),mh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Wa(e,t,n)}else if(Pa||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Pa||r){if(null!==(r=rl)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Oe(i))&(r.suspendedLanes|n))?0:i)&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Ul(r,e,i),Ia;"$?"===l.data||Gl(),t=Wa(e,t,n)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ii=yh(l.nextSibling),ri=t,si=!0,oi=null,ai=!1,null!==e&&(Qr[Jr++]=Zr,Qr[Jr++]=Xr,Qr[Jr++]=Yr,Zr=e.id,Xr=e.overflow,Yr=t),(t=qa(t,i.children)).flags|=4096);return t}return s?(ca(),s=i.fallback,l=t.mode,u=(c=e.child).sibling,(i=Dr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?s=Dr(u,s):(s=zr(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(l=e.child.memoizedState)?l=Fa(n):(null!==(c=l.cachePool)?(u=Ti._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Vi(),l={baseLanes:l.baseLanes|n,cachePool:c}),s.memoizedState=l,s.childLanes=za(e,r,n),t.memoizedState=Ma,i):(oa(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=Ur(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wa(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Ga(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oa(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,s);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Za(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Pa=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Pa=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ti,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ha(e,t,n):(oa(t),null!==(e=Ja(e,t,n))?e.sibling:null);oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n);case 24:bi(0,Ti,e.memoizedState.cache)}return Ja(e,t,n)}(e,t,n);Pa=0!==(131072&e.flags)}else Pa=!1,si&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===x){t.tag=11,t=Na(null,t,r,e,n);break e}if(i===k){t.tag=14,t=Ca(null,t,r,e,n);break e}}throw t=T(r)||r,Error(o(306,t,""))}Lr(r)?(e=ma(r,e),t.tag=1,t=La(null,t,r,e,n)):(t.tag=0,t=ja(null,t,r,e,n))}return t;case 0:return ja(e,t,t.type,t.pendingProps,n);case 1:return La(e,t,r=t.type,i=ma(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Ti,r),r!==s.cache&&xi(t,[Ti],n,!0),ls(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Da(e,t,r,n);break e}if(r!==i){gi(i=Sr(Error(o(424)),t)),t=Da(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,si=!0,oi=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Ja(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Oh(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rh(V.current).createElement(n))[Te]=t,r[_e]=e,eh(r,n,e),We(r),t.stateNode=r):t.memoizedState=Oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&si&&(r=t.stateNode=vh(t.type,t.pendingProps,V.current),ri=t,ai=!0,i=ii,fh(t.type)?(wh=i,ii=yh(r.firstChild)):ii=i),Oa(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),ai=!1,i=!0):i=!1),i||li(t)),Q(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,oh(i,s)?r=null:null!==a&&oh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Rs(e,t,Bs,null,null,n),Qh._currentValue=i),Ba(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||li(t)),null;case 13:return Ha(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return Na(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ki(t),r=r(i=Ii(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return Ca(e,t,t.type,t.pendingProps,n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 19:return Qa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Va(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Dr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ta(e,t,n);case 24:return ki(t),r=Ii(Ti),null===e?(null===(i=Hi())&&(i=rl,s=_i(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Ti,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),ls()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ti,r)):(r=s.cache,bi(0,Ti,r),r!==i.cache&&xi(t,[Ti],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xa(e){e.flags|=4}function $a(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zh(t)){if(null!==(t=ia.current)&&((4194048&sl)===sl?null!==sa:(62914560&sl)!==sl&&0===(536870912&sl)||t!==sa))throw Xi=Qi,Ki;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,yl|=t)}function tc(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rc(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vi(Ti),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nc(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nc(t),$a(t,n)):(nc(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nc(t),$a(t,n)):(nc(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xa(t),nc(t),t.flags&=-16777217),null;case 27:J(t),n=V.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nc(t),null}e=H.current,di(t)?ui(t):(e=vh(i,r,n),t.stateNode=e,Xa(t))}return nc(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nc(t),null}if(e=H.current,di(t))ui(t);else{switch(i=rh(V.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Te]=t,e[_e]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=V.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||li(t)}else(e=rh(e).createTextNode(r))[Te]=t,t.stateNode=e}return nc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Te]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nc(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(la(t),t):(la(t),null)}if(la(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ec(t,t.updateQueue),nc(t),null;case 4:return G(),null===e&&Fu(t.stateNode.containerInfo),nc(t),null;case 10:return vi(t.type),nc(t),null;case 19:if(F(ua),null===(i=t.memoizedState))return nc(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tc(i,!1);else{if(0!==dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ha(e))){for(t.flags|=128,tc(i,!1),e=s.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xl&&(t.flags|=128,r=!0,tc(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nc(t),null}else 2*te()-i.renderingStartTime>xl&&536870912!==n&&(t.flags|=128,r=!0,tc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(nc(t),null);case 22:case 23:return la(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nc(t),6&t.subtreeFlags&&(t.flags|=8192)):nc(t),null!==(n=t.updateQueue)&&ec(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vi(Ti),nc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ic(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vi(Ti),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(la(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(ua),null;case 4:return G(),null;case 10:return vi(t.type),null;case 22:case 23:return la(t),ys(),null!==e&&F(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vi(Ti),null;default:return null}}function sc(e,t){switch(ni(t),t.tag){case 3:vi(Ti),G();break;case 26:case 27:case 5:J(t);break;case 4:G();break;case 13:la(t);break;case 19:F(ua);break;case 10:vi(t.type);break;case 22:case 23:la(t),ys(),null!==e&&F(zi);break;case 24:vi(Ti)}}function oc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function ac(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n,l=a;try{l()}catch(u){uu(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function cc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(r){uu(e,e.return,r)}}}function lc(e,t,n){n.props=ma(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function uc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hc(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function dc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,c=null,l=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Xu(e,t,f,p,r,d)}}return void mt(e,a,c,l,u,h,s,i);case"select":for(s in p=a=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&Xu(e,t,i,s,r,l)}return t=c,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Xu(e,t,c,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Xu(e,t,a,i,r,s)}return void vt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xu(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Xu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&$u(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||$u(e,t,h,f,r,p);return}}for(var w in n)f=n[w],n.hasOwnProperty(w)&&null!=f&&!r.hasOwnProperty(w)&&Xu(e,t,w,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Xu(e,t,d,f,r,p)}(r,e.type,n,t),r[_e]=t}catch(i){uu(e,e.return,i)}}function pc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function gc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function mc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(mc(e,t,n),e=e.sibling;null!==e;)mc(e,t,n),e=e.sibling}function yc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yc(e,t,n),e=e.sibling;null!==e;)yc(e,t,n),e=e.sibling}function wc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Te]=e,t[_e]=n}catch(s){uu(e,e.return,s)}}var bc=!1,vc=!1,Ec=!1,xc="function"===typeof WeakSet?WeakSet:Set,Ac=null;function Sc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Lc(e,n),4&r&&oc(5,n);break;case 1:if(Lc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var i=ma(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&cc(n),512&r&&uc(n,n.return);break;case 3:if(Lc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&wc(n);case 26:case 5:Lc(e,n),null===t&&4&r&&dc(n),512&r&&uc(n,n.return);break;case 12:Lc(e,n);break;case 13:Lc(e,n),4&r&&Cc(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bc)){t=null!==t&&null!==t.memoizedState||vc,i=bc;var s=vc;bc=r,(vc=t)&&!s?Mc(e,n,0!==(8772&n.subtreeFlags)):Lc(e,n),bc=i,vc=s}break;case 30:break;default:Lc(e,n)}}function kc(e){var t=e.alternate;null!==t&&(e.alternate=null,kc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ic=null,Pc=!1;function Oc(e,t,n){for(n=n.child;null!==n;)Nc(e,t,n),n=n.sibling}function Nc(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:vc||hc(n,t),Oc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vc||hc(n,t);var r=Ic,i=Pc;fh(n.type)&&(Ic=n.stateNode,Pc=!1),Oc(e,t,n),Eh(n.stateNode),Ic=r,Pc=i;break;case 5:vc||hc(n,t);case 6:if(r=Ic,i=Pc,Ic=null,Oc(e,t,n),Pc=i,null!==(Ic=r))if(Pc)try{(9===Ic.nodeType?Ic.body:"HTML"===Ic.nodeName?Ic.ownerDocument.body:Ic).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Ic.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Ic&&(Pc?(ph(9===(e=Ic).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Pd(e)):ph(Ic,n.stateNode));break;case 4:r=Ic,i=Pc,Ic=n.stateNode.containerInfo,Pc=!0,Oc(e,t,n),Ic=r,Pc=i;break;case 0:case 11:case 14:case 15:vc||ac(2,n,t),vc||ac(4,n,t),Oc(e,t,n);break;case 1:vc||(hc(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&lc(n,t,r)),Oc(e,t,n);break;case 21:Oc(e,t,n);break;case 22:vc=(r=vc)||null!==n.memoizedState,Oc(e,t,n),vc=r;break;default:Oc(e,t,n)}}function Cc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Pd(e)}catch(n){uu(t,t.return,n)}}function Rc(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Tc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:if(fh(c.type)){Ic=c.stateNode,Pc=!1;break e}break;case 5:Ic=c.stateNode,Pc=!1;break e;case 3:case 4:Ic=c.stateNode.containerInfo,Pc=!0;break e}c=c.return}if(null===Ic)throw Error(o(160));Nc(s,a,i),Ic=null,Pc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Bc(t,e),t=t.sibling}var _c=null;function Bc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tc(t,e),jc(e),4&r&&(ac(3,e,e.return),oc(3,e),ac(5,e,e.return));break;case 1:Tc(t,e),jc(e),512&r&&(vc||null===n||hc(n,n.return)),64&r&&bc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=_c;if(Tc(t,e),jc(e),512&r&&(vc||null===n||hc(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Me]||s[Te]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),eh(s,r,n),s[Te]=e,We(s),r=s;break e;case"link":var a=Mh("link","href",i).get(r+(n.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(c,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=Mh("meta","content",i).get(r+(n.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(c,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Te]=e,We(s),r=s}e.stateNode=r}else Fh(i,e.type,e.stateNode);else e.stateNode=Bh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Fh(i,e.type,e.stateNode):Bh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tc(t,e),jc(e),512&r&&(vc||null===n||hc(n,n.return)),null!==n&&4&r&&fc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tc(t,e),jc(e),512&r&&(vc||null===n||hc(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fc(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Ec=!0);break;case 6:if(Tc(t,e),jc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Dh=null,i=_c,_c=Sh(t.containerInfo),Tc(t,e),_c=i,jc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Pd(t.containerInfo)}catch(p){uu(e,e.return,p)}Ec&&(Ec=!1,Uc(e));break;case 4:r=_c,_c=Sh(e.stateNode.containerInfo),Tc(t,e),jc(e),_c=r;break;case 12:default:Tc(t,e),jc(e);break;case 13:Tc(t,e),jc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(El=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rc(e,r)));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=bc,h=vc;if(bc=u||i,vc=h||l,Tc(t,e),vc=h,bc=u,jc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||bc||vc||Dc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{c=l.stateNode;var d=l.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;c.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(l,l.return,p)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){uu(l,l.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rc(e,n))));break;case 19:Tc(t,e),jc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rc(e,r)));case 30:case 21:}}function jc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pc(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;yc(e,gc(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(xt(s,""),n.flags&=-33),yc(e,gc(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;mc(e,gc(e),a);break;default:throw Error(o(161))}}catch(c){uu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Uc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Uc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Lc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sc(e,t.alternate,t),t=t.sibling}function Dc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ac(4,t,t.return),Dc(t);break;case 1:hc(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&lc(t,t.return,n),Dc(t);break;case 27:Eh(t.stateNode);case 26:case 5:hc(t,t.return),Dc(t);break;case 22:null===t.memoizedState&&Dc(t);break;default:Dc(t)}e=e.sibling}}function Mc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Mc(i,s,n),oc(4,s);break;case 1:if(Mc(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){uu(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)hs(c[i],a)}catch(l){uu(r,r.return,l)}}n&&64&o&&cc(s),uc(s,s.return);break;case 27:wc(s);case 26:case 5:Mc(i,s,n),n&&null===r&&4&o&&dc(s),uc(s,s.return);break;case 12:Mc(i,s,n);break;case 13:Mc(i,s,n),n&&4&o&&Cc(i,s);break;case 22:null===s.memoizedState&&Mc(i,s,n),uc(s,s.return);break;case 30:break;default:Mc(i,s,n)}t=t.sibling}}function Fc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function zc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function Hc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)qc(e,t,n,r),t=t.sibling}function qc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hc(e,t,n,r),2048&i&&oc(9,t);break;case 1:case 13:default:Hc(e,t,n,r);break;case 3:Hc(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){Hc(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){uu(t,t.return,c)}}else Hc(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Hc(e,t,n,r):Wc(e,t):2&s._visibility?Hc(e,t,n,r):(s._visibility|=2,Vc(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Fc(o,t);break;case 24:Hc(e,t,n,r),2048&i&&zc(t.alternate,t)}}function Vc(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Vc(s,o,a,c,i),oc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Vc(s,o,a,c,i):Wc(s,o):(u._visibility|=2,Vc(s,o,a,c,i)),i&&2048&l&&Fc(o.alternate,o);break;case 24:Vc(s,o,a,c,i),i&&2048&l&&zc(o.alternate,o);break;default:Vc(s,o,a,c,i)}t=t.sibling}}function Wc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wc(n,r),2048&i&&Fc(r.alternate,r);break;case 24:Wc(n,r),2048&i&&zc(r.alternate,r);break;default:Wc(n,r)}t=t.sibling}}var Kc=8192;function Gc(e){if(e.subtreeFlags&Kc)for(e=e.child;null!==e;)Qc(e),e=e.sibling}function Qc(e){switch(e.tag){case 26:Gc(e),e.flags&Kc&&null!==e.memoizedState&&function(e,t,n){if(null===Hh)throw Error(o(475));var r=Hh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nh(n.href),s=e.querySelector(Ch(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Vh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Rh(n),(i=xh.get(i))&&Uh(n,i),We(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Vh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(_c,e.memoizedState,e.memoizedProps);break;case 5:default:Gc(e);break;case 3:case 4:var t=_c;_c=Sh(e.stateNode.containerInfo),Gc(e),_c=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kc,Kc=16777216,Gc(e),Kc=t):Gc(e))}}function Jc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ac=r,$c(r,e)}Jc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zc(e),e=e.sibling}function Zc(e){switch(e.tag){case 0:case 11:case 15:Yc(e),2048&e.flags&&ac(9,e,e.return);break;case 3:case 12:default:Yc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xc(e)):Yc(e)}}function Xc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ac=r,$c(r,e)}Jc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ac(8,t,t.return),Xc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function $c(e,t){for(;null!==Ac;){var n=Ac;switch(n.tag){case 0:case 11:case 15:ac(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ac=r;else e:for(n=e;null!==Ac;){var i=(r=Ac).sibling,s=r.return;if(kc(r),r===n){Ac=null;break e}if(null!==i){i.return=s,Ac=i;break e}Ac=s}}}var el={getCacheForType:function(e){var t=Ii(Ti),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tl="function"===typeof WeakMap?WeakMap:Map,nl=0,rl=null,il=null,sl=0,ol=0,al=null,cl=!1,ll=!1,ul=!1,hl=0,dl=0,fl=0,pl=0,gl=0,ml=0,yl=0,wl=null,bl=null,vl=!1,El=0,xl=1/0,Al=null,Sl=null,kl=0,Il=null,Pl=null,Ol=0,Nl=0,Cl=null,Rl=null,Tl=0,_l=null;function Bl(){if(0!==(2&nl)&&0!==sl)return sl&-sl;if(null!==B.T){return 0!==Li?Li:Nu()}return Ce()}function jl(){0===ml&&(ml=0===(536870912&sl)||si?xe():536870912);var e=ia.current;return null!==e&&(e.flags|=32),ml}function Ul(e,t,n){(e!==rl||2!==ol&&9!==ol)&&null===e.cancelPendingCommit||(ql(e,0),Fl(e,sl,ml,!1)),ke(e,n),0!==(2&nl)&&e===rl||(e===rl&&(0===(2&nl)&&(pl|=n),4===dl&&Fl(e,sl,ml,!1)),xu(e))}function Ll(e,t,n){if(0!==(6&nl))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),i=r?function(e,t){var n=nl;nl|=2;var r=Wl(),i=Kl();rl!==e||sl!==t?(Al=null,xl=te()+500,ql(e,t)):ll=ve(e,t);e:for(;;)try{if(0!==ol&&null!==il){t=il;var s=al;t:switch(ol){case 1:ol=0,al=null,$l(e,t,s,1);break;case 2:case 9:if(Ji(s)){ol=0,al=null,Xl(t);break}t=function(){2!==ol&&9!==ol||rl!==e||(ol=7),xu(e)},s.then(t,t);break e;case 3:ol=7;break e;case 4:ol=5;break e;case 7:Ji(s)?(ol=0,al=null,Xl(t)):(ol=0,al=null,$l(e,t,s,7));break;case 5:var a=null;switch(il.tag){case 26:a=il.memoizedState;case 5:case 27:var c=il;if(!a||zh(a)){ol=0,al=null;var l=c.sibling;if(null!==l)il=l;else{var u=c.return;null!==u?(il=u,eu(u)):il=null}break t}}ol=0,al=null,$l(e,t,s,5);break;case 6:ol=0,al=null,$l(e,t,s,6);break;case 8:Hl(),dl=6;break e;default:throw Error(o(462))}}Yl();break}catch(h){Vl(e,h)}return wi=yi=null,B.H=r,B.A=i,nl=n,null!==il?0:(rl=null,sl=0,Or(),dl)}(e,t):Ql(e,t,!0),s=r;;){if(0===i){ll&&!r&&Fl(e,t,0,!1);break}if(n=e.current.alternate,!s||Ml(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;i=wl;var l=c.current.memoizedState.isDehydrated;if(l&&(ql(c,a).flags|=256),2!==(a=Ql(c,a,!1))){if(ul&&!l){c.errorRecoveryDisabledLanes|=s,pl|=s,i=4;break e}s=bl,bl=i,null!==s&&(null===bl?bl=s:bl.push.apply(bl,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){ql(e,0),Fl(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Fl(r,t,ml,!cl);break e;case 2:bl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=El+300-te())){if(Fl(r,t,ml,!cl),0!==be(r,0,!0))break e;r.timeoutHandle=ch(Dl.bind(null,r,n,bl,Al,vl,t,ml,pl,yl,cl,s,2,-0,0),i)}else Dl(r,n,bl,Al,vl,t,ml,pl,yl,cl,s,0,-0,0)}break}i=Ql(e,t,!1),s=!1}xu(e)}function Dl(e,t,n,r,i,s,a,c,l,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Hh={stylesheets:null,count:0,unsuspend:qh},Qc(t),null!==(d=function(){if(null===Hh)throw Error(o(475));var e=Hh;return e.stylesheets&&0===e.count&&Kh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,s,n,r,i,a,c,l,h,1,f,p)),void Fl(e,s,a,!u);nu(e,t,s,n,r,i,a,c,l)}function Ml(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t,n,r){t&=~gl,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Ie(e,n,t)}function zl(){return 0!==(6&nl)||(Au(0,!1),!1)}function Hl(){if(null!==il){if(0===ol)var e=il.return;else wi=yi=null,Ls(e=il),Jo=null,Yo=0,e=il;for(;null!==e;)sc(e.alternate,e),e=e.return;il=null}}function ql(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,lh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hl(),rl=e,il=n=Dr(e.current,null),sl=t,ol=0,al=null,cl=!1,ll=ve(e,t),ul=!1,yl=ml=gl=pl=fl=dl=0,bl=wl=null,vl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hl=t,Or(),n}function Vl(e,t){bs=null,B.H=Wo,t===Wi||t===Gi?(t=$i(),ol=3):t===Ki?(t=$i(),ol=4):ol=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,al=t,null===il&&(dl=1,Ea(e,Sr(t,e.current)))}function Wl(){var e=B.H;return B.H=Wo,null===e?Wo:e}function Kl(){var e=B.A;return B.A=el,e}function Gl(){dl=4,cl||(4194048&sl)!==sl&&null!==ia.current||(ll=!0),0===(134217727&fl)&&0===(134217727&pl)||null===rl||Fl(rl,sl,ml,!1)}function Ql(e,t,n){var r=nl;nl|=2;var i=Wl(),s=Kl();rl===e&&sl===t||(Al=null,ql(e,t)),t=!1;var o=dl;e:for(;;)try{if(0!==ol&&null!==il){var a=il,c=al;switch(ol){case 8:Hl(),o=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var l=ol;if(ol=0,al=null,$l(e,a,c,l),n&&ll){o=0;break e}break;default:l=ol,ol=0,al=null,$l(e,a,c,l)}}Jl(),o=dl;break}catch(u){Vl(e,u)}return t&&e.shellSuspendCounter++,wi=yi=null,nl=r,B.H=i,B.A=s,null===il&&(rl=null,sl=0,Or()),o}function Jl(){for(;null!==il;)Zl(il)}function Yl(){for(;null!==il&&!$();)Zl(il)}function Zl(e){var t=Za(e.alternate,e,hl);e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Xl(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ua(n,t,t.pendingProps,t.type,void 0,sl);break;case 11:t=Ua(n,t,t.pendingProps,t.type.render,t.ref,sl);break;case 5:Ls(t);default:sc(n,t),t=Za(n,t=il=Mr(t,hl),hl)}e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function $l(e,t,n,r){wi=yi=null,Ls(t),Jo=null,Yo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===sa?Gl():null===n.alternate&&0===dl&&(dl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(o(435,n.tag))}return hu(e,r,i),Gl(),!1}if(si)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==ci&&gi(Sr(e=Error(o(422),{cause:r}),n))):(r!==ci&&gi(Sr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),as(e,i=Aa(e.stateNode,r,i)),4!==dl&&(dl=2)),!1;var s=Error(o(520),{cause:r});if(s=Sr(s,n),null===wl?wl=[s]:wl.push(s),4!==dl&&(dl=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,as(n,e=Aa(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sl||!Sl.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,ka(i=Sa(i),e,n,r),as(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sl))return dl=1,Ea(e,Sr(n,e.current)),void(il=null)}catch(s){if(null!==i)throw il=i,s;return dl=1,Ea(e,Sr(n,e.current)),void(il=null)}32768&t.flags?(si||1===r?e=!0:ll||0!==(536870912&sl)?e=!1:(cl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,cl);e=t.return;var n=rc(t.alternate,t,hl);if(null!==n)return void(il=n);if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===dl&&(dl=5)}function tu(e,t){do{var n=ic(e.alternate,e);if(null!==n)return n.flags&=32767,void(il=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(il=e);il=e=n}while(null!==e);dl=6,il=null}function nu(e,t,n,r,i,s,a,c,l){e.cancelPendingCommit=null;do{au()}while(0!==kl);if(0!==(6&nl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;a[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ie(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Pr,a,c,l),e===rl&&(il=rl=null,sl=0),Pl=t,Il=e,Ol=n,Nl=s,Cl=i,Rl=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(se,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=B.T,B.T=null,i=j.p,j.p=2,a=nl,nl|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Ac=t;null!==Ac;)if(e=(t=Ac).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ac=e;else for(;null!==Ac;){switch(s=(t=Ac).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=ma(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ac=e;break}Ac=t.return}}(e,t)}finally{nl=a,j.p=i,B.T=r}}kl=1,ru(),iu(),su()}}function ru(){if(1===kl){kl=0;var e=Il,t=Pl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=B.T,B.T=null;var r=j.p;j.p=2;var i=nl;nl|=4;try{Bc(t,e);var s=nh,o=er(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&$n(a.ownerDocument.documentElement,a)){if(null!==c&&tr(a)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var y=Xn(a,g),w=Xn(a,m);if(y&&w&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==w.node||f.focusOffset!==w.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(w.node,w.offset)):(b.setEnd(w.node,w.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var v=h[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nd=!!th,nh=th=null}finally{nl=i,j.p=r,B.T=n}}e.current=t,kl=2}}function iu(){if(2===kl){kl=0;var e=Il,t=Pl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=B.T,B.T=null;var r=j.p;j.p=2;var i=nl;nl|=4;try{Sc(e,t.alternate,t)}finally{nl=i,j.p=r,B.T=n}}kl=3}}function su(){if(4===kl||3===kl){kl=0,ee();var e=Il,t=Pl,n=Ol,r=Rl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?kl=5:(kl=0,Pl=Il=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sl=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==r){t=B.T,i=j.p,j.p=2,B.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{B.T=t,j.p=i}}0!==(3&Ol)&&au(),xu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===_l?Tl++:(Tl=0,_l=e):Tl=0,Au(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function au(e){return ru(),iu(),su(),cu()}function cu(){if(5!==kl)return!1;var e=Il,t=Nl;Nl=0;var n=Ne(Ol),r=B.T,i=j.p;try{j.p=32>n?32:n,B.T=null,n=Cl,Cl=null;var s=Il,a=Ol;if(kl=0,Pl=Il=null,Ol=0,0!==(6&nl))throw Error(o(331));var c=nl;if(nl|=4,Zc(s.current),qc(s,s.current,a,n),nl=c,Au(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(l){}return!0}finally{j.p=i,B.T=r,ou(e,t)}}function lu(e,t,n){t=Sr(n,t),null!==(e=ss(e,t=Aa(e.stateNode,t,2),2))&&(ke(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)lu(e,e,n);else for(;null!==t;){if(3===t.tag){lu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sl||!Sl.has(r))){e=Sr(n,e),null!==(r=ss(t,n=Sa(2),2))&&(ka(n,r,t,e),ke(r,2),xu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(ul=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rl===e&&(sl&n)===n&&(4===dl||3===dl&&(62914560&sl)===sl&&300>te()-El?0===(2&nl)&&ql(e,0):gl|=n,yl===sl&&(yl=0)),xu(e)}function fu(e,t){0===t&&(t=Ae()),null!==(e=Rr(e,t))&&(ke(e,t),xu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var mu=null,yu=null,wu=!1,bu=!1,vu=!1,Eu=0;function xu(e){e!==yu&&null===e.next&&(null===yu?mu=yu=e:yu=yu.next=e),bu=!0,wu||(wu=!0,hh(function(){0!==(6&nl)?Z(re,Su):ku()}))}function Au(e,t){if(!vu&&bu){vu=!0;do{for(var n=!1,r=mu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ou(r,s))}else s=sl,0===(3&(s=be(r,r===rl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,s)||(n=!0,Ou(r,s));r=r.next}}while(n);vu=!1}}function Su(){ku()}function ku(){bu=wu=!1;var e=0;0!==Eu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=Eu),Eu=0);for(var t=te(),n=null,r=mu;null!==r;){var i=r.next,s=Iu(r,t);0===s?(r.next=null,null===n?mu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}Au(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Ee(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=sl,n=be(e,e===(t=rl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ol||9===ol)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=ae}return r=Pu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==kl&&5!==kl)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=sl;return 0===(r=be(e,e===rl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ll(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Ou(e,t){if(au())return null;Ll(e,t,!0)}function Nu(){return 0===Eu&&(Eu=xe()),Eu}function Cu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<Er.length;Tu++){var _u=Er[Tu];xr(_u.toLowerCase(),"on"+(_u[0].toUpperCase()+_u.slice(1)))}xr(fr,"onAnimationEnd"),xr(pr,"onAnimationIteration"),xr(gr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(mr,"onTransitionRun"),xr(yr,"onTransitionStart"),xr(wr,"onTransitionCancel"),xr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Uu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=c}}}}function Lu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Du(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Mu]){e[Mu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(ju.has(t)||Du(t,!1,e),Du(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,Du("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ld(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=sd}n=i.bind(null,t,n,e),i=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=ze(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ut(function(){var r=s,i=Rt(n),o=[];e:{var a=vr.get(e);if(void 0!==a){var l=$t,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=gn;break;case"focusin":u="focus",l=on;break;case"focusout":u="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=yn;break;case fr:case pr:case gr:l=an;break;case br:l=wn;break;case"scroll":case"scrollend":l=tn;break;case"wheel":l=bn;break;case"copy":case"cut":case"paste":l=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=vn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Lt(g,f))&&h.push(qu(g,m,p)),d)break;g=g.return}0<h.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ct||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Be])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(d=c(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(l=null,u=r),l!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==l?a:qe(l),p=null==u?a:qe(u),(a=new h(m,g+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,ze(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,l&&u)e:{for(f=u,g=0,p=h=l;p;p=Wu(p))g++;for(p=0,m=f;m;m=Wu(m))p++;for(;0<g-p;)h=Wu(h),g--;for(;0<p-g;)f=Wu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break e;h=Wu(h),f=Wu(f)}h=null}else h=null;null!==l&&Ku(o,a,l,h,!1),null!==u&&null!==d&&Ku(o,d,u,h,!0)}if("select"===(l=(a=r?qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Dn;else if(Tn(a))if(Mn)y=Qn;else{y=Kn;var w=Wn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(y=Dn):y=Gn;switch(y&&(y=y(e,r))?_n(o,y,n,i):(w&&w(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),w=r?qe(r):window,e){case"focusin":(Tn(w)||"true"===w.contentEditable)&&(rr=w,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var b;if(xn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Cn?On(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(kn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Cn&&(b=Vt()):(Ht="value"in(zt=i)?zt.value:zt.textContent,Cn=!0)),0<(w=Vu(r,v)).length&&(v=new ln(v,e,null,n,i),o.push({event:v,listeners:w}),b?v.data=b:null!==(b=Nn(n))&&(v.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Pn=!0,In);case"textInput":return(e=t.data)===In&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Cn)return"compositionend"===e||!xn&&On(e,t)?(e=Vt(),qt=Ht=zt=null,Cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Vu(r,"onBeforeInput")).length&&(w=new ln("onBeforeInput","beforeinput",null,n,i),o.push({event:w,listeners:v}),w.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Cu((i[_e]||null).action),o=r.submitter;o&&null!==(t=(t=o[_e]||null)?Cu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new $t("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Eu){var e=o?Ru(i,o):new FormData(i);Ro(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Ru(i,o):new FormData(i),Ro(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Uu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Lt(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Lt(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=Lt(n,s))&&o.unshift(qu(n,l,c)):i||null!=(l=Lt(n,s))&&o.push(qu(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Yu(e,t){return t=Ju(t),Ju(e)===t}function Zu(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":kt(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Pt.get(n)||n,r)}}function $u(e,t,n,r,i,s){switch(n){case"style":kt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[_e]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,r,a,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var c=r=a=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Xu(e,t,i,h,n,null)}}return yt(e,r,c,l,u,a,s,!1),void ht(e);case"select":for(s in Lu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":i=c;default:Xu(e,t,s,c,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Lu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:Xu(e,t,a,c,n,null)}return Et(e,i,s,r),void ht(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,l,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Bu.length;i++)Lu(Bu[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(It(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&$u(e,t,h,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(i=n[c])&&Xu(e,t,c,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var ch="function"===typeof setTimeout?setTimeout:void 0,lh="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:ch;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Eh(o.documentElement),2&n&&Eh(o.body),4&n)for(Eh(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,c=o.nodeName;o[Me]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===i)return e.removeChild(s),void Pd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Pd(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Fe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function mh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wh=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Eh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var xh=new Map,Ah=new Set;function Sh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var kh=j.d;j.d={f:function(){var e=kh.f(),t=zl();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?_o(t):kh.r(e)},D:function(e){kh.D(e),Ph("dns-prefetch",e,null)},C:function(e,t){kh.C(e,t),Ph("preconnect",e,t)},L:function(e,t,n){kh.L(e,t,n);var r=Ih;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var s=i;switch(t){case"style":s=Nh(e);break;case"script":s=Th(e)}xh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ch(s))||"script"===t&&r.querySelector(_h(s))||(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){kh.m(e,t);var n=Ih;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Th(e)}if(!xh.has(s)&&(e=d({rel:"modulepreload",href:e},t),xh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_h(s)))return}eh(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){kh.X(e,t);var n=Ih;if(n&&e){var r=Ve(n).hoistableScripts,i=Th(e),s=r.get(i);s||((s=n.querySelector(_h(i)))||(e=d({src:e,async:!0},t),(t=xh.get(i))&&Lh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){kh.S(e,t,n);var r=Ih;if(r&&e){var i=Ve(r).hoistableStyles,s=Nh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Ch(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xh.get(s))&&Uh(e,n);var c=o=r.createElement("link");We(c),eh(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,jh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){kh.M(e,t);var n=Ih;if(n&&e){var r=Ve(n).hoistableScripts,i=Th(e),s=r.get(i);s||((s=n.querySelector(_h(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=xh.get(i))&&Lh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Ih="undefined"===typeof document?null:document;function Ph(e,t,n){var r=Ih;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ah.has(i)||(Ah.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Oh(e,t,n,r){var i,s,a,c,l=(l=V.current)?Sh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(r=(n=Ve(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var u=Ve(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Ch(e)))&&!u._p&&(h.instance=u,h.state.loading=5),xh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xh.set(e,n),u||(i=l,s=e,a=n,c=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),eh(s,"link",a),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Th(n),(r=(n=Ve(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nh(e){return'href="'+gt(e)+'"'}function Ch(e){return'link[rel="stylesheet"]['+e+"]"}function Rh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Th(e){return'[src="'+gt(e)+'"]'}function _h(e){return"script[async]"+e}function Bh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nh(n.href);var s=e.querySelector(Ch(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Rh(n),(i=xh.get(i))&&Uh(r,i),We(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(s,"link",r),t.state.loading|=4,jh(s,n.precedence,e),t.instance=s;case"script":return s=Th(n.src),(i=e.querySelector(_h(s)))?(t.instance=i,We(i),i):(r=n,(i=xh.get(s))&&Lh(r=d({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,jh(r,n.precedence,e));return t.instance}function jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Uh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dh=null;function Mh(e,t,n){if(null===Dh){var r=new Map,i=Dh=new Map;i.set(n,r)}else(r=(i=Dh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Me]||s[Te]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function Fh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hh=null;function qh(){}function Vh(){if(this.count--,0===this.count)if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wh=null;function Kh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wh=new Map,t.forEach(Gh,e),Wh=null,Vh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Wh.get(e);if(n)var r=n.get(null);else{n=new Map,Wh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Vh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qh={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Jh(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yh(e,t,n,r,i,s,o,a,c,l,u,h){return e=new Jh(e,t,n,o,a,c,l,h),t=1,!0===s&&(t|=24),s=Ur(3,null,null,t),e.current=s,s.stateNode=e,(t=_i()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Zh(e){return e?e=Br:Br}function Xh(e,t,n,r,i,s){i=Zh(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Ul(n,0,t),os(n,e,t))}function $h(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function td(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Ul(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=B.T;B.T=null;var s=j.p;try{j.p=2,sd(e,t,n,r)}finally{j.p=s,B.T=i}}function id(e,t,n,r){var i=B.T;B.T=null;var s=j.p;try{j.p=8,sd(e,t,n,r)}finally{j.p=s,B.T=i}}function sd(e,t,n,r){if(nd){var i=od(r);if(null===i)Hu(e,t,r,ad,n),wd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=bd(hd,e,t,n,r,i),!0;case"dragenter":return dd=bd(dd,e,t,n,r,i),!0;case"mouseover":return fd=bd(fd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,bd(pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gd.set(s,bd(gd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(wd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var s=He(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=we(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-fe(o);a.entanglements[1]|=c,o&=~c}xu(s),0===(6&nl)&&(xl=te()+500,Au(0,!1))}}break;case 13:null!==(a=Rr(s,2))&&Ul(a,0,2),zl(),ed(s,2)}if(null===(s=od(r))&&Hu(e,t,r,ad,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function od(e){return cd(e=Rt(e))}var ad=null;function cd(e){if(ad=null,null!==(e=ze(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function ld(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,gd=new Map,md=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function bd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=He(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vd(e){var t=ze(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,function(){if(13===n.tag){var e=Bl();e=Oe(e);var t=Rr(n,e);null!==t&&Ul(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ed(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ct=r,n.target.dispatchEvent(r),Ct=null,t.shift()}return!0}function xd(e,t,n){Ed(e)&&n.delete(t)}function Ad(){ud=!1,null!==hd&&Ed(hd)&&(hd=null),null!==dd&&Ed(dd)&&(dd=null),null!==fd&&Ed(fd)&&(fd=null),pd.forEach(xd),gd.forEach(xd)}function Sd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ad)))}var kd=null;function Id(e){kd!==e&&(kd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kd===e&&(kd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===cd(r||n))continue;break}var s=He(n);null!==s&&(e.splice(t,3),t-=3,Ro(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pd(e){function t(t){return Sd(t,e)}null!==hd&&Sd(hd,e),null!==dd&&Sd(dd,e),null!==fd&&Sd(fd,e),pd.forEach(t),gd.forEach(t);for(var n=0;n<md.length;n++){var r=md[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<md.length&&null===(n=md[0]).blockedOn;)vd(n),null===n.blockedOn&&md.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[_e]||null;if("function"===typeof s)o||Id(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[_e]||null)a=o.formAction;else if(null!==cd(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Id(n)}}}function Od(e){this._internalRoot=e}function Nd(e){this._internalRoot=e}Nd.prototype.render=Od.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xh(t.current,Bl(),e,t,null,null)},Nd.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),zl(),t[Be]=null}},Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ce();e={blockedOn:null,target:e,priority:t};for(var n=0;n<md.length&&0!==t&&t<md[n].priority;n++);md.splice(n,0,e),0===n&&vd(e)}};var Cd=i.version;if("19.1.1"!==Cd)throw Error(o(527,Cd,"19.1.1"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Rd={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{ue=Td.inject(Rd),he=Td}catch(Bd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=wa,s=ba,c=va;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,r,i,s,c,0,null),e[Be]=t.current,Fu(e),new Od(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=wa,c=ba,l=va,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yh(e,1,!0,t,0,r,i,s,c,l,0,u)).context=Zh(null),n=t.current,(i=is(r=Oe(r=Bl()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,ke(t,n),xu(t),e[Be]=t.current,Fu(e),new Nd(t)},t.version="19.1.1"},7257:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r extends Error{constructor(e){super(e);const t=Object.create(r.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:r.name})}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7312:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(7284),i=n(632);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(s){r(s)}this.events.on("".concat(e.id),e=>{(0,i.isJsonRpcError)(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(s){r(s)}})}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8019:(e,t,n)=>{"use strict";n.d(t,{xW:()=>b,sH:()=>Qe,dI:()=>Je});var r={};n.r(r),n.d(r,{identity:()=>T});var i={};n.r(i),n.d(i,{base2:()=>_});var s={};n.r(s),n.d(s,{base8:()=>B});var o={};n.r(o),n.d(o,{base10:()=>j});var a={};n.r(a),n.d(a,{base16:()=>U,base16upper:()=>L});var c={};n.r(c),n.d(c,{base32:()=>D,base32hex:()=>H,base32hexpad:()=>V,base32hexpadupper:()=>W,base32hexupper:()=>q,base32pad:()=>F,base32padupper:()=>z,base32upper:()=>M,base32z:()=>K});var l={};n.r(l),n.d(l,{base36:()=>G,base36upper:()=>Q});var u={};n.r(u),n.d(u,{base58btc:()=>J,base58flickr:()=>Y});var h={};n.r(h),n.d(h,{base64:()=>Z,base64pad:()=>X,base64url:()=>$,base64urlpad:()=>ee});var d={};n.r(d),n.d(d,{base256emoji:()=>ie});var f={};n.r(f),n.d(f,{sha256:()=>Ne,sha512:()=>Ce});var p={};n.r(p),n.d(p,{identity:()=>Te});var g={};n.r(g),n.d(g,{code:()=>Be,decode:()=>Ue,encode:()=>je,name:()=>_e});var m={};function y(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?y(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function b(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=w(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return y(n)}n.r(m),n.d(m,{code:()=>Fe,decode:()=>He,encode:()=>ze,name:()=>Me});var v=n(9379);var E=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const x=E,A=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class S{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class k{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return P(this,e)}}class I{constructor(e){this.decoders=e}or(e){return P(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const P=(e,t)=>new I((0,v.A)((0,v.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class O{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new S(e,t,n),this.decoder=new k(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const N=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new O(t,n,r,i)},C=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=x(r,n);return N({prefix:t,name:n,encode:i,decode:e=>A(s(e))})},R=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return N({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},T=N({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),_=R({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=R({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),j=C({prefix:"9",name:"base10",alphabet:"0123456789"}),U=R({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),L=R({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M=R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),F=R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q=R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),W=R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K=R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),J=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Y=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Z=R({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),X=R({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$=R({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ee=R({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),te=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ne=te.reduce((e,t,n)=>(e[n]=t,e),[]),re=te.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const ie=N({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ne[t],"")},decode:function(e){const t=[];for(const n of e){const e=re[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var se=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=ce;)n[r++]=255&t|oe,t/=128;for(;t&ae;)n[r++]=255&t|oe,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},oe=128,ae=-128,ce=Math.pow(2,31);var le=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&he)<<s:(r&he)*Math.pow(2,s),s+=7}while(r>=ue);return e.bytes=o-n,i},ue=128,he=127;var de=Math.pow(2,7),fe=Math.pow(2,14),pe=Math.pow(2,21),ge=Math.pow(2,28),me=Math.pow(2,35),ye=Math.pow(2,42),we=Math.pow(2,49),be=Math.pow(2,56),ve=Math.pow(2,63);const Ee={encode:se,decode:le,encodingLength:function(e){return e<de?1:e<fe?2:e<pe?3:e<ge?4:e<me?5:e<ye?6:e<we?7:e<be?8:e<ve?9:10}},xe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ee.encode(e,t,n),t},Ae=e=>Ee.encodingLength(e),Se=(e,t)=>{const n=t.byteLength,r=Ae(e),i=r+Ae(n),s=new Uint8Array(i+n);return xe(e,s,0),xe(n,s,r),s.set(t,i),new ke(e,n,t,s)};class ke{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ie=e=>{let{name:t,code:n,encode:r}=e;return new Pe(t,n,r)};class Pe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Se(this.code,t):t.then(e=>Se(this.code,e))}throw Error("Unknown type, must be binary type")}}const Oe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ne=Ie({name:"sha2-256",code:18,encode:Oe("SHA-256")}),Ce=Ie({name:"sha2-512",code:19,encode:Oe("SHA-512")}),Re=A,Te={code:0,name:"identity",encode:Re,digest:e=>Se(0,Re(e))},_e="raw",Be=85,je=e=>A(e),Ue=e=>A(e),Le=new TextEncoder,De=new TextDecoder,Me="json",Fe=512,ze=e=>Le.encode(JSON.stringify(e)),He=e=>JSON.parse(De.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const qe=(0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),i),s),o),a),c),l),u),h),d);(0,v.A)((0,v.A)({},f),p);function Ve(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const We=Ve("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Ke=Ve("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=w((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Ge=(0,v.A)({utf8:We,"utf-8":We,hex:qe.base16,latin1:Ke,ascii:Ke,binary:Ke},qe);function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):y(globalThis.Buffer.from(e,"utf-8"))}function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},8129:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(9379);const i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,o=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function a(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!o.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(i.test(e)||s.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,a)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function l(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function u(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return u(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h="base64:";function d(e){return"string"===typeof e?e:h+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function f(e){return"string"!==typeof e?e:e.startsWith(h)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}function p(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(t.join(":"))}function m(e){return(e=p(e))?e+":":""}const y=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},getItemRaw(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function w(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||y()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter(e=>e.startsWith(t)||n&&t.startsWith(e)).map(n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]})),i=(t,n)=>{if(e.watching){n=p(n);for(const r of e.watchListeners)r(t,n)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(e,n,i)=>{const s=new Map,o=e=>{let t=s.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},s.set(e.base,t)),t};for(const a of e){const e="string"===typeof a,i=p(e?a:a.key),s=e?void 0:a.value,c=e||!a.options?n:(0,r.A)((0,r.A)({},n),a.options),l=t(i);o(l).items.push({key:i,value:s,relativeKey:l.relativeKey,options:c})}return Promise.all([...s.values()].map(e=>i(e))).then(e=>e.flat())},a={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.getItem,r,n).then(e=>c(e))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t,e=>e.driver.getItems?l(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:g(e.base,t.key),value:c(t.value)}))):Promise.all(e.items.map(t=>l(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:c(e)})))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?l(i.getItemRaw,r,n):l(i.getItem,r,n).then(e=>f(e))},async setItem(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e);e=p(e);const{relativeKey:s,driver:o}=t(e);o.setItem&&(await l(o.setItem,s,u(n),r),o.watch||i("update",e))},async setItems(e,t){await o(e,t,async e=>{if(e.driver.setItems)return l(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:u(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>l(e.driver.setItem,t.relativeKey,u(t.value),t.options)))})},async setItemRaw(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e,r);e=p(e);const{relativeKey:s,driver:o}=t(e);if(o.setItemRaw)await l(o.setItemRaw,s,n,r);else{if(!o.setItem)return;await l(o.setItem,s,d(n),r)}o.watch||i("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=p(e);const{relativeKey:r,driver:s}=t(e);s.removeItem&&(await l(s.removeItem,r,n),(n.removeMeta||n.removeMata)&&await l(s.removeItem,r+"$",n),s.watch||i("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=p(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await l(i.getMeta,r,n)),!n.nativeOnly){const e=await l(i.getItem,r+"$",n).then(e=>c(e));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=m(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){var a;null!==(a=n.driver.flags)&&void 0!==a&&a.maxDepth||(o=!1);const e=await l(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+p(t);i.some(t=>e.startsWith(t))||s.push(e)}i=[n.mountpoint,...i.filter(e=>!e.startsWith(n.mountpoint))]}const c=void 0!==t.maxDepth&&!o;return s.filter(n=>(!c||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=m(e),await Promise.all(n(e,!1).map(async e=>{if(e.driver.clear)return l(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(e=>v(e)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await b(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await s()}),async unwatch(){e.watchListeners=[],await s()},mount(t,n){if((t=m(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort((e,t)=>t.length-e.length)),e.mounts[t]=n,e.watching&&Promise.resolve(b(n,i,t)).then(n=>{e.unwatch[t]=n}).catch(console.error),a},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=m(t))&&e.mounts[t]){var r,i;if(e.watching&&t in e.unwatch)null===(r=(i=e.unwatch)[t])||void 0===r||r.call(i),delete e.unwatch[t];n&&await v(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=p(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);return n(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)}};return a}function b(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function v(e){"function"===typeof e.dispose&&await l(e.dispose)}function E(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function x(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=E(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let A;function S(){return A||(A=x("keyval-store","keyval")),A}function k(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readonly",t=>E(t.get(e)))}function I(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},E(e.transaction)}var P=n(8661);var O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=x(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await k(n(e),r)>"u"),async getItem(e){var t;return null!==(t=await k(n(e),r))&&void 0!==t?t:null},setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S())("readwrite",n=>(n.put(t,e),E(n.transaction)))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readwrite",t=>(t.delete(e),E(t.transaction)))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readonly",e=>{if(e.getAllKeys)return E(e.getAllKeys());const t=[];return I(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readwrite",e=>(e.clear(),E(e.transaction)))}(r)}};class N{constructor(){this.indexedDb=w({driver:O({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,P.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},R={exports:{}};function T(e){var t;return[e[0],(0,P.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof C<"u"&&C.localStorage?R.exports=C.localStorage:typeof window<"u"&&window.localStorage?R.exports=window.localStorage:R.exports=new t}();class _{constructor(){this.localStorage=R.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(T)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,P.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,P.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}const B=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class j{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new _;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),B(e,o)})(e,new N,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(8951),t),r.__exportStar(n(5746),t)},8661:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,j:()=>s});const r=e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function s(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return i(e)}catch(t){return e}}function o(e){return"string"===typeof e?e:r(e)||""}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9038:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function A(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}}),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(P){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(e,n){return new Promise(function(i,s){var a=new E(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:A(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout(function(){i(new S(t,e))},0)},l.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){f.push(h(e)),l.setRequestHeader(e,d(n.headers[e]))}),a.headers.forEach(function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){l.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=p,r.Request=E,r.Response=S),t.Headers=p,t.Request=E,t.Response=S,t.fetch=I,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},9332:(e,t,n)=>{"use strict";t.g=void 0;const r=n(33);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map(e=>t.getAttribute(e)).filter(e=>!!e&&n.includes(e));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4467);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9397:(e,t,n)=>{"use strict";n.d(t,{D5:()=>I,U5:()=>k,h6:()=>i.a,iP:()=>A,oI:()=>S});var r=n(5711),i=n.n(r),s=n(8661);const o={level:"info"},a="custom_context",c=1024e3;class l{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class u{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new l(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.level=null!==e&&void 0!==e?e:"error",this.levelValue=r.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===r.levels.values.error?console.error(e):t===r.levels.values.warn?console.warn(e):t===r.levels.values.debug?console.debug(e):t===r.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,s.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.baseChunkLogger=new h(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.baseChunkLogger=new h(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var p=Object.defineProperty,g=Object.defineProperties,m=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&v(e,n,t[n]);if(y)for(var n of y(t))b.call(t,n)&&v(e,n,t[n]);return e},x=(e,t)=>g(e,m(t));function A(e){return x(E({},e),{level:(null===e||void 0===e?void 0:e.level)||o.level})}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n="";return n=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:a]||""}(e,t):e.bindings().context||"",n}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const r=function(e,t){const n=S(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a);return n.trim()?"".concat(n,"/").concat(t):t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:a]=t,e}(e.child({context:r}),r,n)}function I(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new d(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(x(E({},e.opts),{level:"trace",browser:x(E({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new f(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(x(E({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}},9526:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>i})},9827:(e,t,n)=>{"use strict";n.d(t,{o0:()=>f});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},o=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?g(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!==typeof navigator?g(navigator.userAgent):"undefined"!==typeof process&&process.version?new s(process.version.slice(1)):null}function p(e){return""!==e&&h.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function g(e){var t=p(e);if(!t)return null;var n=t[0],s=t[1];if("searchbot"===n)return new a;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<u&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(u-c.length),!0)):c=[];var h=c.join("."),f=function(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}(e),g=l.exec(e);return g&&g[1]?new o(n,h,f,g[1]):new i(n,h,f)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{293:"e56e0dce",389:"451d1434",494:"73f64a27",507:"9a53c598",550:"01504a82",676:"9a3c5eab",753:"57fa32cc",880:"0b77ecba",965:"e5787182",1013:"09c6bb5b",1017:"ae726829",1516:"c29f2066",1641:"e06e6d11",1653:"e8060aae",1687:"7ee2df9c",1950:"30c06fc4",2784:"6050bb20",3061:"af577eed",3196:"aa2310f6",3288:"52a1e977",3874:"632c5a68",4249:"cd99070e",4325:"23e4fea7",4335:"1b4c3d6c",4435:"f84367c0",4504:"ab657ceb",4746:"7d8358d8",4829:"792d45cf",5124:"56e0da47",5235:"f0b19774",5408:"c6e508b0",5488:"f74d68ed",5563:"9c9b52af",5829:"73017025",6080:"df99c619",6091:"f226dcca",6226:"0bee99d8",6435:"cfe43735",6453:"fff556ca",6454:"60016387",6628:"302fea0d",6805:"09383846",6946:"f04007ea",7163:"d3da79c4",7341:"3e2d0686",7405:"0d348e84",7455:"8d6fcf72",7491:"efcf1d8c",7509:"51cfb8c3",7545:"b64ea3a2",8019:"41c65a85",8091:"3531e7d8",8377:"5cd857b8",8438:"dc4ec39e",8646:"438e72cb",8702:"f44d5ac2",8808:"5a0f646c",9321:"bae90a42",9416:"32ebc685",9532:"a6e8d34c",9840:"307a087b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="unidex:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={8792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],c=r[2],l=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkunidex=self.webpackChunkunidex||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>Kl,My:()=>Ll,Ph:()=>Fl,lX:()=>zl,Id:()=>Wl,fg:()=>Jl,qj:()=>Vl,aT:()=>Ml,lq:()=>Hl,z:()=>ql,Q5:()=>Zl});var t=n(5043),r=n(4391),i=n(3986),s=n(9379);const o=["sri"],a=["page"],c=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var d="popstate";function f(){return v(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),y("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:w(t))},function(e,t){g("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c="POP",l=null,u=h();function h(){return(a.state||{idx:null}).idx}function f(){c="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:c,location:g.location,delta:t})}function p(e){return E(e)}null==u&&(u=0,a.replaceState((0,s.A)((0,s.A)({},a.state),{},{idx:u}),""));let g={get action(){return c},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d,f),l=e,()=>{i.removeEventListener(d,f),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=y(g.location,e,t);n&&n(r,e),u=h()+1;let s=m(r,u),d=g.createHref(r);try{a.pushState(s,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}o&&l&&l({action:c,location:g.location,delta:1})},replace:function(e,t){c="REPLACE";let r=y(g.location,e,t);n&&n(r,e),u=h();let i=m(r,u),s=g.createHref(r);a.replaceState(i,"",s),o&&l&&l({action:c,location:g.location,delta:0})},go:e=>a.go(e)};return g}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function x(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,n,r){let i=D(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let s=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=L(i);o=B(s[a],e,r)}return o}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,c={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&o)return;p(c.relativePath.startsWith(r),'Absolute route path "'.concat(c.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),c.relativePath=c.relativePath.slice(r.length)}let l=q([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),S(e.children,t,u,l,o)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of k(e.path))s(e,t,!0,r);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=k(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var I=/^:[\w-]+$/,P=3,O=2,N=1,C=10,R=-2,T=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=R),t&&(r+=O),n.filter(e=>!T(e)).reduce((e,t)=>e+(I.test(t)?P:""===t?N:C),r)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),h=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:q([s,u.pathname]),pathnameBase:V(q([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=q([s,u.pathnameBase]))}return o}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e){let t=F(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,s.A)({},e),p(!r.pathname||!r.pathname.includes("?"),M("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),M("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),M("#","search","hash",r)));let o,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)o=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:W(r),hash:K(i)}}(r,o),u=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var q=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],J=(new Set(Q),["GET",...Q]);new Set(J),Symbol("ResetLoaderData");var Y=t.createContext(null);Y.displayName="DataRouter";var Z=t.createContext(null);Z.displayName="DataRouterState";var X=t.createContext(!1);var $=t.createContext({isTransitioning:!1});$.displayName="ViewTransition";var ee=t.createContext(new Map);ee.displayName="Fetchers";var te=t.createContext(null);te.displayName="Await";var ne=t.createContext(null);ne.displayName="Navigation";var re=t.createContext(null);re.displayName="Location";var ie=t.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var se=t.createContext(null);se.displayName="RouteError";function oe(){return null!=t.useContext(re)}function ae(){return p(oe(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(re).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function le(e){t.useContext(ne).static||t.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=t.useContext(ie);return e?function(){let{router:e}=be("useNavigate"),n=Ee("useNavigate"),r=t.useRef(!1);le(()=>{r.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(r.current,ce),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,(0,s.A)({fromRouteId:n},i)))},[e,n]);return i}():function(){p(oe(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Y),{basename:n,navigator:r}=t.useContext(ne),{matches:i}=t.useContext(ie),{pathname:s}=ae(),o=JSON.stringify(z(i)),a=t.useRef(!1);le(()=>{a.current=!0});let c=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(a.current,ce),!a.current)return;if("number"===typeof t)return void r.go(t);let c=H(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(c.pathname="/"===c.pathname?n:q([n,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[n,r,o,s,e]);return c}()}t.createContext(null);function he(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ie),{pathname:i}=ae(),s=JSON.stringify(z(r));return t.useMemo(()=>H(e,JSON.parse(s),i,"path"===n),[e,s,i,n])}function de(e,n,r,i,o){p(oe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=t.useContext(ne),{matches:c}=t.useContext(ie),l=c[c.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Se(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,y=ae();if(n){var w;let e="string"===typeof n?b(n):n;p("/"===d||(null===(w=e.pathname)||void 0===w?void 0:w.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=y;let v=m.pathname||"/",E=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let A=x(e,{pathname:E});g(f||null!=A,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),g(null==A||void 0!==A[A.length-1].route.element||void 0!==A[A.length-1].route.Component||void 0!==A[A.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=ye(A&&A.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([d,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:q([d,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),c,r,i,o);return n&&S?t.createElement(re.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},S):S}function fe(){let e=xe(),n=G(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var pe=t.createElement(fe,null),ge=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ie.Provider,{value:this.props.routeContext},t.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function me(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(Y);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ie.Provider,{value:n},i)}function ye(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,c=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((e,l,u)=>{let h,d=!1,f=null,p=null;r&&(h=o&&l.route.id?o[l.route.id]:void 0,f=l.route.errorElement||pe,a&&(c<0&&0===u?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===u&&(d=!0,p=l.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,u+1)),m=()=>{let n;return n=h?f:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(me,{match:l,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?t.createElement(ge,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:i}):m()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function be(e){let n=t.useContext(Y);return p(n,we(e)),n}function ve(e){let n=t.useContext(Z);return p(n,we(e)),n}function Ee(e){let n=function(e){let n=t.useContext(ie);return p(n,we(e)),n}(e),r=n.matches[n.matches.length-1];return p(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function xe(){var e;let n=t.useContext(se),r=ve("useRouteError"),i=Ee("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Ae={};function Se(e,t,n){t||Ae[e]||(Ae[e]=!0,g(!1,n))}var ke={};function Ie(e,t){e||ke[t]||(ke[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return de(t,void 0,r,i,n)});function Pe(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oe(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;p(!oe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),l=t.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);"string"===typeof i&&(i=b(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:m="default"}=i,y=t.useMemo(()=>{let e=D(u,c);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:m},navigationType:s}},[c,u,h,d,f,m,s]);return g(null!=y,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:t.createElement(ne.Provider,{value:l},t.createElement(re.Provider,{children:r,value:y}))}function Ne(e){let{children:t,location:n}=e;return de(Ce(t),n)}t.Component;function Ce(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Ce(e.props.children,s));p(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ce(e.props.children,s)),r.push(o)}),r}var Re="get",Te="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}var Be=null;var je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||je.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Te,'"')),null)}function Le(e,t){let n,r,i,s,o;if(function(e){return _e(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?D(o,t):null,n=e.getAttribute("method")||Re,i=Ue(e.getAttribute("enctype"))||Te,s=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?D(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,i=Ue(e.getAttribute("formenctype"))||Ue(o.getAttribute("enctype"))||Te,s=new FormData(o,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(e){Be=!0}return Be}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=Te,o=e}return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function De(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Me(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===D(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Fe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ze(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ve(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function We(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Ke(e,t){return"lazy"===e.mode&&!0===t}function Ge(){let e=t.useContext(Y);return De(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qe(){let e=t.useContext(Z);return De(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Je=t.createContext(void 0);function Ye(){let e=t.useContext(Je);return De(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Xe(e,t,n){if(n&&!nt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Je.displayName="FrameworkContext";function $e(e){let{page:n}=e,r=(0,i.A)(e,a),{router:o}=Ge(),c=t.useMemo(()=>x(o.routes,n,o.basename),[o.routes,n,o.basename]);return c?t.createElement(tt,(0,s.A)({page:n,matches:c},r)):null}function et(e){let{manifest:n,routeModules:r}=Ye(),[i,o]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return We((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Fe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(He).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||o(e)}),()=>{t=!0}},[e,n,r]),i}function tt(e){let{page:n,matches:r}=e,o=(0,i.A)(e,c),a=ae(),{manifest:l,routeModules:u}=Ye(),{basename:h}=Ge(),{loaderData:d,matches:f}=Qe(),p=t.useMemo(()=>qe(n,r,f,l,a,"data"),[n,r,f,l,a]),g=t.useMemo(()=>qe(n,r,f,l,a,"assets"),[n,r,f,l,a]),m=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=l.routes[n.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=u[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Me(n,h,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[h,d,a,l,p,r,n,u]),y=t.useMemo(()=>Ve(g,l),[g,l]),w=et(g);return t.createElement(t.Fragment,null,m.map(e=>t.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},o))),y.map(e=>t.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},o))),w.map(e=>{let{key:n,link:r}=e;return t.createElement("link",(0,s.A)({key:n,nonce:o.nonce},r))}))}var nt=!1;function rt(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:c,routeDiscovery:l,ssr:u}=Ye(),{router:h,static:d,staticContext:f}=Ge(),{matches:p}=Qe(),g=t.useContext(X),m=Ke(l,u);c&&(c.didRenderScripts=!0);let y=Xe(p,null,a);t.useEffect(()=>{0},[]);let w=t.useMemo(()=>{var a;if(g)return null;let c=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=d?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];De(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...c?[{module:c,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,i.A)(e,o),a=new Set(t.state.matches.map(e=>e.route.id)),c=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(c.pop();c.length>0;)l.push("/".concat(c.join("/"))),c.pop();l.forEach(e=>{let n=x(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,s.A)((0,s.A)({},r),{},{routes:u,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:void 0})),t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:"module",async:!0})))},[]),b=nt||g?[]:(n.entry.imports.concat(Ve(y,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let E="object"===typeof n.sri?n.sri:{};return Ie(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),nt||g?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:E})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:E[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:E[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:E[n],suppressHydrationWarning:!0})),w)}function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function st(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(G(n))return t.createElement(ot,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ot,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function ot(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=Ye();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(rt,null):null)))}var at="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{at&&(window.__reactRouterVersion="7.9.2")}catch(uT){}function ct(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=f({window:i,v5Compat:!0}));let o=s.current,[a,c]=t.useState({action:o.action,location:o.location}),l=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(l),[o,l]),t.createElement(Oe,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var lt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=t.forwardRef(function(e,n){let r,{onClick:o,discover:a="render",prefetch:c="none",relative:u,reloadDocument:h,replace:d,state:f,target:m,to:y,preventScrollReset:b,viewTransition:v}=e,E=(0,i.A)(e,l),{basename:x}=t.useContext(ne),A="string"===typeof y&&lt.test(y),S=!1;if("string"===typeof y&&A&&(r=y,at))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=D(t.pathname,x);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:S=!0}catch(uT){g(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(oe(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(ne),{hash:s,pathname:o,search:a}=he(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:q([r,o])),i.createHref({pathname:c,search:a,hash:s})}(y,{relative:u}),[I,P,O]=function(e,n){let r=t.useContext(Je),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:Ze(c,p),onBlur:Ze(l,g),onMouseEnter:Ze(u,p),onMouseLeave:Ze(h,g),onTouchStart:Ze(d,p)}]:[!1,f,{}]}(c,E),N=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ue(),l=ae(),u=he(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:w(l)===w(u);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,c,u,r,i,n,e,s,o,a])}(y,{replace:d,state:f,target:m,preventScrollReset:b,relative:u,viewTransition:v});let C=t.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},E),O),{},{href:r||k,onClick:S||h?o:function(e){o&&o(e),e.defaultPrevented||N(e)},ref:it(n,P),target:m,"data-discover":A||"render"!==a?void 0:"true"}));return I&&!A?t.createElement(t.Fragment,null,C,t.createElement($e,{page:k})):C});ut.displayName="Link";var ht=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:c=!1,style:l,to:h,viewTransition:d,children:f}=e,g=(0,i.A)(e,u),m=he(h,{relative:g.relative}),y=ae(),w=t.useContext(Z),{navigator:b,basename:v}=t.useContext(ne),E=null!=w&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext($);p(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pt("useViewTransitionState"),s=he(e,{relative:n});if(!r.isTransitioning)return!1;let o=D(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=D(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=j(s.pathname,a)||null!=j(s.pathname,o)}(m)&&!0===d,x=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,A=y.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(A=A.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&v&&(S=D(S,v)||S);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let I,P=A===x||!c&&A.startsWith(x)&&"/"===A.charAt(k),O=null!=S&&(S===x||!c&&S.startsWith(x)&&"/"===S.charAt(x.length)),N={isActive:P,isPending:O,isTransitioning:E},C=P?r:void 0;I="function"===typeof a?a(N):[a,P?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(N):l;return t.createElement(ut,(0,s.A)((0,s.A)({},g),{},{"aria-current":C,className:I,ref:n,style:R,to:h,viewTransition:d}),"function"===typeof f?f(N):f)});ht.displayName="NavLink";var dt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:a,reloadDocument:c,replace:l,state:u,method:d=Re,action:f,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:b}=e,v=(0,i.A)(e,h),E=yt(),x=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ne),i=t.useContext(ie);p(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a=(0,s.A)({},he(e||".",{relative:n})),c=ae();if(null==e){a.search=c.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:q([r,a.pathname]));return w(a)}(f,{relative:m}),A="get"===d.toLowerCase()?"get":"post",S="string"===typeof f&&lt.test(f);return t.createElement("form",(0,s.A)((0,s.A)({ref:n,method:A,action:x,onSubmit:c?g:e=>{if(g&&g(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;E(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:b})}},v),{},{"data-discover":S||"render"!==r?void 0:"true"}))});function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function pt(e){let n=t.useContext(Y);return p(n,ft(e)),n}dt.displayName="Form";var gt=0,mt=()=>"__".concat(String(++gt),"__");function yt(){let{router:e}=pt("useSubmit"),{basename:n}=t.useContext(ne),r=Ee("useRouteId");return t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:c,body:l}=Le(t,n);if(!1===i.navigate){let t=i.fetcherKey||mt();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,n,r])}var wt=n(579);function bt(){return(0,wt.jsxs)("div",{className:"container bg-n900 min-h-dvh relative overflow-hidden flex justify-start items-start text-white pb-28",children:[(0,wt.jsx)("div",{className:"w-[582px] h-[582px] rounded-full bg-g300 absolute -top-32 -left-20 blur-[575px]"}),(0,wt.jsxs)("div",{className:"px-6 py-8 relative z-20 w-full",children:[(0,wt.jsx)("div",{className:"flex justify-center items-center pb-8",children:(0,wt.jsx)("div",{className:"flex justify-center items-center w-full",children:(0,wt.jsx)("img",{src:"/logo.png",alt:"",width:150})})}),(0,wt.jsx)("div",{className:"",children:(0,wt.jsxs)("div",{className:"w-full bg-g300 p-5 flex justify-between items-center rounded-xl relative bg-opacity-20 overflow-hidden",children:[(0,wt.jsx)("img",{src:"assets/images/invite_bg.png",alt:"",className:"absolute top-0 right-0 bottom-0 h-full"}),(0,wt.jsxs)("div",{className:"max-w-[200px]",children:[(0,wt.jsxs)("p",{className:"text-xl font-semibold",children:["Smart Edges for"," ",(0,wt.jsx)("span",{className:"text-g300",children:"Accelerating Financial Growth"})]}),(0,wt.jsx)("p",{className:"text-n70 pt-4 text-xs",children:"THE SIMPLE MOVE TO INVEST & BEGIN CRYPTO FUTURE"})]}),(0,wt.jsx)("div",{className:"",children:(0,wt.jsx)("img",{src:"globe.gif",alt:""})})]})}),(0,wt.jsx)("div",{className:"flex justify-start items-center gap-3 overflow-y-auto pt-4 pb-3 pl-4",children:(0,wt.jsxs)(ut,{to:"/sign",className:"block bg-g300 font-semibold text-center py-3 px-3 rounded-lg",children:["Launch App ",(0,wt.jsx)("i",{className:"ph ph-caret-right"})]})}),(0,wt.jsx)("p",{className:"text-xl font-bold",children:"About UniDex"}),(0,wt.jsx)("p",{className:"pb-3",children:"At UniDex, we revolutionize the smart approach to transform the era of digital finance by integrating community-driven growth powered by blockchain technology. Our solution blends expansion of digital assets with a structured network model."}),(0,wt.jsx)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3 mt-4",children:(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold",children:"Maximize your earnings through smart investments."}),(0,wt.jsx)("p",{className:"font-medium text-n70",children:"Boost your earning potential with strategic asset investments and a blockchain-driven ecosystem, tailored for sustainable growth and effortless gain and scalable earning opportunities."})]})})}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-5",children:[(0,wt.jsxs)("div",{className:"rounded-xl overflow-hidden col-span-1",children:[(0,wt.jsx)("img",{src:"assets/images/nft-tab-img-1.png",alt:""}),(0,wt.jsx)("div",{className:"bg-white bg-opacity-5 p-3 flex justify-between items-start",children:(0,wt.jsxs)("div",{className:"flex justify-start items-start flex-col gap-2",children:[(0,wt.jsx)("p",{className:"text-sm font-semibold",children:"Blockchain-powered transparency"}),(0,wt.jsx)("div",{className:"flex justify-center items-center bg-white bg-opacity-5 py-1 px-2 rounded-md gap-1",children:(0,wt.jsx)("p",{className:"text-xs text-n70 font-medium",children:"Obtain trust with visible, tamper-proof, and real-time data with verification and validation."})})]})})]}),(0,wt.jsxs)("div",{className:"rounded-xl overflow-hidden col-span-1",children:[(0,wt.jsx)("img",{src:"assets/images/nft-tab-img-2.png",alt:""}),(0,wt.jsx)("div",{className:"bg-white bg-opacity-5 p-3 flex justify-between items-start",children:(0,wt.jsxs)("div",{className:"flex justify-start items-start flex-col gap-2",children:[(0,wt.jsx)("p",{className:"text-sm font-semibold",children:"Strong encryption and security"}),(0,wt.jsx)("div",{className:"flex justify-center items-center bg-white bg-opacity-5 py-1 px-2 rounded-md gap-1",children:(0,wt.jsx)("p",{className:"text-xs text-n70 font-medium",children:"Your information and assets are safeguarded with multi-layered blockchain security protocols."})})]})})]})]}),(0,wt.jsx)("div",{className:"fixed left-0 right-0 bottom-0",children:(0,wt.jsx)("div",{className:"container relative bg-white bg-opacity-5 py-5 flex justify-around items-center text-white",children:"Copyright www.unidex.world 2025."})})]})]})}function vt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Et(e,t,n){vt(e,t),t.set(e,n)}function xt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function At(e,t){return e.get(xt(e,t))}function St(e,t,n){return e.set(xt(e,t),n),n}function kt(e,t,n){const r=t.split("|").map(e=>e.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error("invalid value for type ".concat(t));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=e,i}async function It(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function Pt(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&kt(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function Ot(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>Ot(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return Ot(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>"".concat(Ot(n,t),": ").concat(Ot(e[n],t))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Nt(e,t){return e&&e.code===t}function Ct(e){return Nt(e,"CALL_EXCEPTION")}function Rt(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(Ot(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+Ot(t))}}r.push("code=".concat(t)),r.push("version=".concat("6.15.0")),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return Pt(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&Pt(r,{shortMessage:i}),r}function Tt(e,t,n,r){if(!e)throw Rt(t,n,r)}function _t(e,t,n,r){Tt(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function Bt(e,t,n){null==n&&(n=""),n&&(n=": "+n),Tt(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Tt(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const jt=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function Ut(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),Tt(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function Lt(e,t){vt(e,t),t.add(e)}var Dt=n(4467);function Mt(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}_t(!1,"invalid BytesLike value",t||"value",e)}function Ft(e,t){return Mt(e,t,!1)}function zt(e,t){return Mt(e,t,!0)}function Ht(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function qt(e){return Ht(e,!0)||e instanceof Uint8Array}const Vt="0123456789abcdef";function Wt(e){const t=Ft(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=Vt[(240&e)>>4]+Vt[15&e]}return n}function Kt(e){return"0x"+e.map(e=>Wt(e).substring(2)).join("")}function Gt(e){return Ht(e,!0)?(e.length-2)/2:Ft(e).length}function Qt(e,t,n){const r=Ft(e);return null!=n&&n>r.length&&Tt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Wt(r.slice(null==t?0:t,null==n?r.length:n))}function Jt(e,t,n){const r=Ft(e);Tt(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),Wt(i)}function Yt(e,t){return Jt(e,t,!0)}const Zt=BigInt(0),Xt=BigInt(1),$t=9007199254740991;function en(e,t){const n=sn(e,"value"),r=BigInt(cn(t,"width"));if(Tt(n>>r===Zt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Xt){return-((~n&(Xt<<r)-Xt)+Xt)}return n}function tn(e,t){let n=rn(e,"value");const r=BigInt(cn(t,"width")),i=Xt<<r-Xt;if(n<Zt){n=-n,Tt(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(Xt<<r)-Xt)+Xt}return Tt(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function nn(e,t){const n=sn(e,"value"),r=BigInt(cn(t,"bits"));return n&(Xt<<r)-Xt}function rn(e,t){switch(typeof e){case"bigint":return e;case"number":return _t(Number.isInteger(e),"underflow",t||"value",e),_t(e>=-$t&&e<=$t,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(uT){_t(!1,"invalid BigNumberish string: ".concat(uT.message),t||"value",e)}}_t(!1,"invalid BigNumberish value",t||"value",e)}function sn(e,t){const n=rn(e,t);return Tt(n>=Zt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const on="0123456789abcdef";function an(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=on[n>>4],t+=on[15&n];return BigInt(t)}return rn(e)}function cn(e,t){switch(typeof e){case"bigint":return _t(e>=-$t&&e<=$t,"overflow",t||"value",e),Number(e);case"number":return _t(Number.isInteger(e),"underflow",t||"value",e),_t(e>=-$t&&e<=$t,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return cn(BigInt(e),t)}catch(uT){_t(!1,"invalid numeric string: ".concat(uT.message),t||"value",e)}}_t(!1,"invalid numeric value",t||"value",e)}function ln(e,t){let n=sn(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=cn(t,"width");for(Tt(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function un(e){const t=sn(e,"value");if(t===Zt)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function hn(e){let t=Wt(qt(e)?e:un(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const dn=32,fn=new Uint8Array(dn),pn=["then"],gn={},mn=new WeakMap;function yn(e){return mn.get(e)}function wn(e,t){mn.set(e,t)}function bn(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function vn(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof xn?vn(yn(e),e,n):e):e.reduce((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof xn&&(s=vn(yn(s),s,n)),e[r]=s),e},{})}var En=new WeakMap;class xn extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==gn&&(i=t,s=[],o=!1),super(i.length),Et(this,En,void 0),i.forEach((e,t)=>{this[t]=e});const a=s.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(wn(this,Object.freeze(i.map((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null}))),St(En,this,[]),null==At(En,this)&&At(En,this),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=cn(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&bn("index ".concat(n),r),r}if(pn.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return wn(c,yn(this)),c}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&bn("index ".concat(r),n),e&&n instanceof xn&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=yn(this);return t.reduce((n,r,i)=>(Tt(null!=r,"value at index ".concat(i," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),vn(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=yn(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new xn(gn,r,i)}filter(e,t){const n=yn(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&bn("index ".concat(s),o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new xn(gn,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&bn("index ".concat(r),i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=yn(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&bn("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new xn(gn,e,t)}}function An(e){let t=un(e);return Tt(t.length<=dn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:dn,offset:t.length}),t.length!==dn&&(t=zt(Kt([fn.slice(t.length%dn),t]))),t}class Sn{constructor(e,t,n,r){(0,Dt.A)(this,"name",void 0),(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"localName",void 0),(0,Dt.A)(this,"dynamic",void 0),Pt(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){_t(!1,e,this.localName,t)}}var kn=new WeakMap,In=new WeakMap,Pn=new WeakSet;class On{constructor(){Lt(this,Pn),Et(this,kn,void 0),Et(this,In,void 0),St(kn,this,[]),St(In,this,0)}get data(){return Kt(At(kn,this))}get length(){return At(In,this)}appendWriter(e){return xt(Pn,this,Nn).call(this,zt(e.data))}writeBytes(e){let t=zt(e);const n=t.length%dn;return n&&(t=zt(Kt([t,fn.slice(n)]))),xt(Pn,this,Nn).call(this,t)}writeValue(e){return xt(Pn,this,Nn).call(this,An(e))}writeUpdatableValue(){const e=At(kn,this).length;return At(kn,this).push(fn),St(In,this,At(In,this)+dn),t=>{At(kn,this)[e]=An(t)}}}function Nn(e){return At(kn,this).push(e),St(In,this,At(In,this)+e.length),e.length}var Cn=new WeakMap,Rn=new WeakMap,Tn=new WeakMap,_n=new WeakMap,Bn=new WeakMap,jn=new WeakSet;class Un{constructor(e,t,n){Lt(this,jn),(0,Dt.A)(this,"allowLoose",void 0),Et(this,Cn,void 0),Et(this,Rn,void 0),Et(this,Tn,void 0),Et(this,_n,void 0),Et(this,Bn,void 0),Pt(this,{allowLoose:!!t}),St(Cn,this,zt(e)),St(Tn,this,0),St(_n,this,null),St(Bn,this,null!=n?n:1024),St(Rn,this,0)}get data(){return Wt(At(Cn,this))}get dataLength(){return At(Cn,this).length}get consumed(){return At(Rn,this)}get bytes(){return new Uint8Array(At(Cn,this))}subReader(e){const t=new Un(At(Cn,this).slice(At(Rn,this)+e),this.allowLoose,At(Bn,this));return St(_n,t,this),t}readBytes(e,t){let n=xt(jn,this,Dn).call(this,0,e,!!t);return xt(jn,this,Ln).call(this,e),St(Rn,this,At(Rn,this)+n.length),n.slice(0,e)}readValue(){return an(this.readBytes(dn))}readIndex(){return cn(an(this.readBytes(dn)))}}function Ln(e){var t;if(At(_n,this))return xt(jn,t=At(_n,this),Ln).call(t,e);St(Tn,this,At(Tn,this)+e),Tt(At(Bn,this)<1||At(Tn,this)<=At(Bn,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(At(Bn,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:zt(At(Cn,this)),offset:At(Rn,this),length:e,info:{bytesRead:At(Tn,this),dataLength:this.dataLength}})}function Dn(e,t,n){let r=Math.ceil(t/dn)*dn;return At(Rn,this)+r>At(Cn,this).length&&(this.allowLoose&&n&&At(Rn,this)+t<=At(Cn,this).length?r=t:Tt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:zt(At(Cn,this)),length:At(Cn,this).length,offset:At(Rn,this)+r})),At(Cn,this).slice(At(Rn,this),At(Rn,this)+r)}function Mn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Fn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function zn(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Mn(e.outputLen),Mn(e.blockLen)}function Hn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qn(e,t){Fn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Vn=BigInt(2**32-1),Wn=BigInt(32);function Kn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Vn),l:Number(e>>Wn&Vn)}:{h:0|Number(e>>Wn&Vn),l:0|Number(e&Vn)}}function Gn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Kn(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Qn=(e,t,n)=>e<<n|t>>>32-n,Jn=(e,t,n)=>t<<n|e>>>32-n,Yn=(e,t,n)=>t<<n-32|e>>>64-n,Zn=(e,t,n)=>e<<n-32|t>>>64-n;const Xn={fromBig:Kn,split:Gn,toBig:(e,t)=>BigInt(e>>>0)<<Wn|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Qn,rotlSL:Jn,rotlBH:Yn,rotlBL:Zn,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},$n=Xn,er="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,tr=e=>e instanceof Uint8Array,nr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rr=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ir(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!tr(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class sr{clone(){return this._cloneInto()}}function or(e){const t=t=>e().update(ir(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(er&&"function"===typeof er.getRandomValues)return er.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[cr,lr,ur]=[[],[],[]],hr=BigInt(0),dr=BigInt(1),fr=BigInt(2),pr=BigInt(7),gr=BigInt(256),mr=BigInt(113);for(let n=0,hT=dr,dT=1,fT=0;n<24;n++){[dT,fT]=[fT,(2*dT+3*fT)%5],cr.push(2*(5*fT+dT)),lr.push((n+1)*(n+2)/2%64);let e=hr;for(let t=0;t<7;t++)hT=(hT<<dr^(hT>>pr)*mr)%gr,hT&fr&&(e^=dr<<(dr<<BigInt(t))-dr);ur.push(e)}const[yr,wr]=Gn(ur,!0),br=(e,t,n)=>n>32?Yn(e,t,n):Qn(e,t,n),vr=(e,t,n)=>n>32?Zn(e,t,n):Jn(e,t,n);class Er extends sr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Mn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=br(s,o,1)^n[t],c=vr(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=lr[n],s=br(t,i,r),o=vr(t,i,r),a=cr[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=yr[r],e[1]^=wr[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Hn(this);const{blockLen:t,state:n}=this,r=(e=ir(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Hn(this,!1),Fn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Er(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const xr=(e,t,n)=>or(()=>new Er(t,e,n)),Ar=xr(1,136,32);let Sr=!1;const kr=function(e){return Ar(e)};let Ir=kr;function Pr(e){const t=Ft(e,"data");return Wt(Ir(t))}Pr._=kr,Pr.lock=function(){Sr=!0},Pr.register=function(e){if(Sr)throw new TypeError("keccak256 is locked");Ir=e},Object.freeze(Pr);const Or=BigInt(0),Nr=BigInt(36);function Cr(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=Ft(Pr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Rr={};for(let n=0;n<10;n++)Rr[String(n)]=String(n);for(let n=0;n<26;n++)Rr[String.fromCharCode(65+n)]=String(10+n);function Tr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>Rr[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const _r=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Br(e){if(_t("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Cr(e);return _t(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){_t(e.substring(2,4)===Tr(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Or;for(let n=0;n<e.length;n++)t=t*Nr+_r[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Cr("0x"+t)}_t(!1,"invalid address","address",e)}const jr={};function Ur(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Fr(jr,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function Lr(e,t){return new Fr(jr,"bytes".concat(t||""),e,{size:t})}const Dr=Symbol.for("_ethers_typed");var Mr=new WeakMap;class Fr{constructor(e,t,n,r){(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"value",void 0),Et(this,Mr,void 0),(0,Dt.A)(this,"_typedSymbol",void 0),null==r&&(r=null),Ut(jr,e,"Typed"),Pt(this,{_typedSymbol:Dr,type:t,value:n}),St(Mr,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(e=>e.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return At(Mr,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===At(Mr,this)?-1:!1===At(Mr,this)?this.value.length:null}static from(e,t){return new Fr(jr,e,t)}static uint8(e){return Ur(e,8)}static uint16(e){return Ur(e,16)}static uint24(e){return Ur(e,24)}static uint32(e){return Ur(e,32)}static uint40(e){return Ur(e,40)}static uint48(e){return Ur(e,48)}static uint56(e){return Ur(e,56)}static uint64(e){return Ur(e,64)}static uint72(e){return Ur(e,72)}static uint80(e){return Ur(e,80)}static uint88(e){return Ur(e,88)}static uint96(e){return Ur(e,96)}static uint104(e){return Ur(e,104)}static uint112(e){return Ur(e,112)}static uint120(e){return Ur(e,120)}static uint128(e){return Ur(e,128)}static uint136(e){return Ur(e,136)}static uint144(e){return Ur(e,144)}static uint152(e){return Ur(e,152)}static uint160(e){return Ur(e,160)}static uint168(e){return Ur(e,168)}static uint176(e){return Ur(e,176)}static uint184(e){return Ur(e,184)}static uint192(e){return Ur(e,192)}static uint200(e){return Ur(e,200)}static uint208(e){return Ur(e,208)}static uint216(e){return Ur(e,216)}static uint224(e){return Ur(e,224)}static uint232(e){return Ur(e,232)}static uint240(e){return Ur(e,240)}static uint248(e){return Ur(e,248)}static uint256(e){return Ur(e,256)}static uint(e){return Ur(e,256)}static int8(e){return Ur(e,-8)}static int16(e){return Ur(e,-16)}static int24(e){return Ur(e,-24)}static int32(e){return Ur(e,-32)}static int40(e){return Ur(e,-40)}static int48(e){return Ur(e,-48)}static int56(e){return Ur(e,-56)}static int64(e){return Ur(e,-64)}static int72(e){return Ur(e,-72)}static int80(e){return Ur(e,-80)}static int88(e){return Ur(e,-88)}static int96(e){return Ur(e,-96)}static int104(e){return Ur(e,-104)}static int112(e){return Ur(e,-112)}static int120(e){return Ur(e,-120)}static int128(e){return Ur(e,-128)}static int136(e){return Ur(e,-136)}static int144(e){return Ur(e,-144)}static int152(e){return Ur(e,-152)}static int160(e){return Ur(e,-160)}static int168(e){return Ur(e,-168)}static int176(e){return Ur(e,-176)}static int184(e){return Ur(e,-184)}static int192(e){return Ur(e,-192)}static int200(e){return Ur(e,-200)}static int208(e){return Ur(e,-208)}static int216(e){return Ur(e,-216)}static int224(e){return Ur(e,-224)}static int232(e){return Ur(e,-232)}static int240(e){return Ur(e,-240)}static int248(e){return Ur(e,-248)}static int256(e){return Ur(e,-256)}static int(e){return Ur(e,-256)}static bytes1(e){return Lr(e,1)}static bytes2(e){return Lr(e,2)}static bytes3(e){return Lr(e,3)}static bytes4(e){return Lr(e,4)}static bytes5(e){return Lr(e,5)}static bytes6(e){return Lr(e,6)}static bytes7(e){return Lr(e,7)}static bytes8(e){return Lr(e,8)}static bytes9(e){return Lr(e,9)}static bytes10(e){return Lr(e,10)}static bytes11(e){return Lr(e,11)}static bytes12(e){return Lr(e,12)}static bytes13(e){return Lr(e,13)}static bytes14(e){return Lr(e,14)}static bytes15(e){return Lr(e,15)}static bytes16(e){return Lr(e,16)}static bytes17(e){return Lr(e,17)}static bytes18(e){return Lr(e,18)}static bytes19(e){return Lr(e,19)}static bytes20(e){return Lr(e,20)}static bytes21(e){return Lr(e,21)}static bytes22(e){return Lr(e,22)}static bytes23(e){return Lr(e,23)}static bytes24(e){return Lr(e,24)}static bytes25(e){return Lr(e,25)}static bytes26(e){return Lr(e,26)}static bytes27(e){return Lr(e,27)}static bytes28(e){return Lr(e,28)}static bytes29(e){return Lr(e,29)}static bytes30(e){return Lr(e,30)}static bytes31(e){return Lr(e,31)}static bytes32(e){return Lr(e,32)}static address(e){return new Fr(jr,"address",e)}static bool(e){return new Fr(jr,"bool",!!e)}static bytes(e){return new Fr(jr,"bytes",e)}static string(e){return new Fr(jr,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Fr(jr,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===Dr}static dereference(e,t){if(Fr.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class zr extends Sn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Fr.dereference(t,"string");try{n=Br(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return Br(ln(e.readValue(),20))}}class Hr extends Sn{constructor(e){super(e.name,e.type,"_",e.dynamic),(0,Dt.A)(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function qr(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return Tt(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),Tt(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else _t(!1,"invalid tuple value","tuple",n);_t(t.length===r.length,"types/value length mismatch","tuple",n);let i=new On,s=new On,o=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push(e=>{r(e+t)})}else e.encode(i,n)}),o.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Vr(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(Nt(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(Nt(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)}),xn.fromItems(n,r)}class Wr extends Sn{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),(0,Dt.A)(this,"coder",void 0),(0,Dt.A)(this,"length",void 0),Pt(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=Fr.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),Bt(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return qr(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Tt(t*dn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*dn,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new Hr(this.coder));return Vr(e,n)}}class Kr extends Sn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=Fr.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Gr extends Sn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=zt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Qr extends Gr{constructor(e){super("bytes",e)}decode(e){return Wt(super.decode(e))}}class Jr extends Sn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),(0,Dt.A)(this,"size",void 0),Pt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=zt(Fr.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Wt(e.readBytes(this.size))}}const Yr=new Uint8Array([]);class Zr extends Sn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Yr)}decode(e){return e.readBytes(0),null}}const Xr=BigInt(0),$r=BigInt(1),ei=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ti extends Sn{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),(0,Dt.A)(this,"size",void 0),(0,Dt.A)(this,"signed",void 0),Pt(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=rn(Fr.dereference(t,this.type)),r=nn(ei,256);if(this.signed){let e=nn(r,8*this.size-1);(n>e||n<-(e+$r))&&this._throwError("value out-of-bounds",t),n=tn(n,256)}else(n<Xr||n>nn(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=nn(e.readValue(),8*this.size);return this.signed&&(t=en(t,8*this.size)),t}}function ni(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const ri=Object.freeze({error:function(e,t,n,r,i){_t(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:ni,replace:function(e,t,n,r,i){return"OVERLONG"===e?(_t("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),ni(e,t,n))}});function ii(e,t){null==t&&(t=ri.error);const n=Ft(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function si(e,t){_t("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){Tt(jt.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);_t(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function oi(e,t){return ii(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class ai extends Gr{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,si(Fr.dereference(t,"string")))}decode(e){return oi(super.decode(e))}}class ci extends Sn{constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),(0,Dt.A)(this,"coders",void 0),Pt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,t){const n=Fr.dereference(t,"tuple");return qr(e,this.coders,n)}decode(e){return Vr(e,this.coders)}}function li(e){return Pr(si(e))}var ui;function hi(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const di=hi("external public payable override".split(" ")),fi="constant external internal payable private public pure view override",pi=hi(fi.split(" ")),gi="constructor error event fallback function receive struct",mi=hi(gi.split(" ")),yi="calldata memory storage payable indexed",wi=hi(yi.split(" ")),bi=hi([gi,yi,"tuple returns",fi].join(" ").split(" ")),vi={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Ei=new RegExp("^(\\s*)"),xi=new RegExp("^([0-9]+)"),Ai=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Si=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ki=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ii=new WeakMap,Pi=new WeakMap,Oi=new WeakSet;class Ni{get offset(){return At(Ii,this)}get length(){return At(Pi,this).length-At(Ii,this)}constructor(e){Lt(this,Oi),Et(this,Ii,void 0),Et(this,Pi,void 0),St(Ii,this,0),St(Pi,this,e.slice())}clone(){return new Ni(At(Pi,this))}reset(){St(Ii,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=xt(Oi,this,Ci).call(this,At(Ii,this)+1,e.match+1);return St(Ii,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;At(Ii,this)<e.match-1;){const e=this.peek().linkNext;t.push(xt(Oi,this,Ci).call(this,At(Ii,this)+1,e)),St(Ii,this,e)}return St(Ii,this,e.match+1),t}peek(){if(At(Ii,this)>=At(Pi,this).length)throw new Error("out-of-bounds");return At(Pi,this)[At(Ii,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return St(Ii,this,(e=At(Ii,this),e++,e)),t}toString(){const e=[];for(let t=At(Ii,this);t<At(Pi,this).length;t++){const n=At(Pi,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new ui(At(Pi,this).slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}function Ri(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(s,": ").concat(t))};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(Ei);a&&(s+=a[1].length,o=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=vi[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=cn(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Ai),a){if(c.text=a[1],s+=c.text.length,bi.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ki)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(xi),!a)throw new Error("unexpected token ".concat(JSON.stringify(o[0])," at position ").concat(s));c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new Ni(t.map(e=>Object.freeze(e)))}function Ti(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function _i(e,t){if(t.peekKeyword(mi)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function Bi(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function ji(e){let t=Bi(e,pi);return Ti(t,hi("constant payable nonpayable".split(" "))),Ti(t,hi("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Ui(e,t){return e.popParams().map(e=>Zi.from(e,t))}function Li(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return rn(e.pop().text);throw new Error("invalid gas")}return null}function Di(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}ui=Ni;const Mi=new RegExp(/^(.*)\[([0-9]*)\]$/);function Fi(e){const t=e.match(ki);if(_t(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);_t(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);_t(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const zi={},Hi=Symbol.for("_ethers_internal"),qi="_ParamTypeInternal",Vi="_ErrorInternal",Wi="_EventInternal",Ki="_ConstructorInternal",Gi="_FallbackInternal",Qi="_FunctionInternal",Ji="_StructInternal";var Yi=new WeakSet;class Zi{constructor(e,t,n,r,i,s,o,a){if(Lt(this,Yi),(0,Dt.A)(this,"name",void 0),(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"baseType",void 0),(0,Dt.A)(this,"indexed",void 0),(0,Dt.A)(this,"components",void 0),(0,Dt.A)(this,"arrayLength",void 0),(0,Dt.A)(this,"arrayChildren",void 0),Ut(e,zi,"ParamType"),Object.defineProperty(this,Hi,{value:qi}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");Pt(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return xt(Yi,this,Xi).call(this,n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Zi.isParamType(e))return e;if("string"===typeof e)try{return Zi.from(Ri(e),t)}catch(o){_t(!1,"invalid param type","obj",e)}else if(e instanceof Ni){let n="",r="",i=null;Bi(e,hi(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map(e=>Zi.from(e)),n="tuple(".concat(i.map(e=>e.format()).join(","),")")):(n=Fi(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new Zi(zi,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(Bi(e,wi).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Zi(zi,c,n,r,a,i,o,s)}const n=e.name;_t(!n||"string"===typeof n&&n.match(Si),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(_t(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(Mi);if(s){const t=parseInt(s[2]||"-1"),o=Zi.from({type:s[1],components:e.components});return new Zi(zi,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map(e=>Zi.from(e)):null;return new Zi(zi,n||"",i,"tuple",r,t,null,null)}return i=Fi(e.type),new Zi(zi,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[Hi]===qi}}function Xi(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach((t,r)=>{xt(Yi,i,Xi).call(i,e,t,n,e=>{s[r]=e})}),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach((t,r)=>{var o;xt(Yi,o=i[r],Xi).call(o,e,t,n,e=>{s[r]=e})}),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}class $i{constructor(e,t,n){(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"inputs",void 0),Ut(e,zi,"Fragment"),Pt(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{$i.from(JSON.parse(e))}catch(uT){}return $i.from(Ri(e))}if(e instanceof Ni){switch(e.peekKeyword(mi)){case"constructor":return is.from(e);case"error":return ns.from(e);case"event":return rs.from(e);case"fallback":case"receive":return ss.from(e);case"function":return os.from(e);case"struct":return as.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return is.from(e);case"error":return ns.from(e);case"event":return rs.from(e);case"fallback":case"receive":return ss.from(e);case"function":return os.from(e);case"struct":return as.from(e)}Tt(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}_t(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return is.isFragment(e)}static isError(e){return ns.isFragment(e)}static isEvent(e){return rs.isFragment(e)}static isFunction(e){return os.isFragment(e)}static isStruct(e){return as.isFragment(e)}}class es extends $i{constructor(e,t,n,r){super(e,t,r),(0,Dt.A)(this,"name",void 0),_t("string"===typeof n&&n.match(Si),"invalid identifier","name",n),r=Object.freeze(r.slice()),Pt(this,{name:n})}}function ts(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class ns extends es{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Hi,{value:Vi})}get selector(){return li(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+ts(e,this.inputs)),t.join(" ")}static from(e){if(ns.isFragment(e))return e;if("string"===typeof e)return ns.from(Ri(e));if(e instanceof Ni){const t=_i("error",e),n=Ui(e);return Di(e),new ns(zi,t,n)}return new ns(zi,e.name,e.inputs?e.inputs.map(Zi.from):[])}static isFragment(e){return e&&e[Hi]===Vi}}class rs extends es{constructor(e,t,n,r){super(e,"event",t,n),(0,Dt.A)(this,"anonymous",void 0),Object.defineProperty(this,Hi,{value:Wi}),Pt(this,{anonymous:r})}get topicHash(){return li(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+ts(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>Zi.from(e));return new rs(zi,e,t,!1).topicHash}static from(e){if(rs.isFragment(e))return e;if("string"===typeof e)try{return rs.from(Ri(e))}catch(t){_t(!1,"invalid event fragment","obj",e)}else if(e instanceof Ni){const t=_i("event",e),n=Ui(e,!0),r=!!Bi(e,hi(["anonymous"])).has("anonymous");return Di(e),new rs(zi,t,n,r)}return new rs(zi,e.name,e.inputs?e.inputs.map(e=>Zi.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Hi]===Wi}}class is extends $i{constructor(e,t,n,r,i){super(e,t,n),(0,Dt.A)(this,"payable",void 0),(0,Dt.A)(this,"gas",void 0),Object.defineProperty(this,Hi,{value:Ki}),Pt(this,{payable:r,gas:i})}format(e){if(Tt(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=["constructor".concat(ts(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(is.isFragment(e))return e;if("string"===typeof e)try{return is.from(Ri(e))}catch(t){_t(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ni){Bi(e,hi(["constructor"]));const t=Ui(e),n=!!Bi(e,di).has("payable"),r=Li(e);return Di(e),new is(zi,"constructor",t,n,r)}return new is(zi,"constructor",e.inputs?e.inputs.map(Zi.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Hi]===Ki}}class ss extends $i{constructor(e,t,n){super(e,"fallback",t),(0,Dt.A)(this,"payable",void 0),Object.defineProperty(this,Hi,{value:Gi}),Pt(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(ss.isFragment(e))return e;if("string"===typeof e)try{return ss.from(Ri(e))}catch(t){_t(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ni){const t=e.toString();_t(e.peekKeyword(hi(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(hi(["fallback","receive"]))){const t=Ui(e);return _t(0===t.length,"receive cannot have arguments","obj.inputs",t),Bi(e,hi(["payable"])),Di(e),new ss(zi,[],!0)}let n=Ui(e);n.length?_t(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[Zi.from("bytes")];const r=ji(e);if(_t("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Bi(e,hi(["returns"])).has("returns")){const t=Ui(e);_t(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return Di(e),new ss(zi,n,"payable"===r)}if("receive"===e.type)return new ss(zi,[],!0);if("fallback"===e.type){const t=[Zi.from("bytes")],n="payable"===e.stateMutability;return new ss(zi,t,n)}_t(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Hi]===Gi}}class os extends es{constructor(e,t,n,r,i,s){super(e,"function",t,r),(0,Dt.A)(this,"constant",void 0),(0,Dt.A)(this,"outputs",void 0),(0,Dt.A)(this,"stateMutability",void 0),(0,Dt.A)(this,"payable",void 0),(0,Dt.A)(this,"gas",void 0),Object.defineProperty(this,Hi,{value:Qi});Pt(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return li(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+ts(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(ts(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>Zi.from(e));return new os(zi,e,"view",t,[],null).selector}static from(e){if(os.isFragment(e))return e;if("string"===typeof e)try{return os.from(Ri(e))}catch(n){_t(!1,"invalid function fragment","obj",e)}else if(e instanceof Ni){const t=_i("function",e),n=Ui(e),r=ji(e);let i=[];Bi(e,hi(["returns"])).has("returns")&&(i=Ui(e));const s=Li(e);return Di(e),new os(zi,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new os(zi,e.name,t,e.inputs?e.inputs.map(Zi.from):[],e.outputs?e.outputs.map(Zi.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Hi]===Qi}}class as extends es{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Hi,{value:Ji})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return as.from(Ri(e))}catch(t){_t(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ni){const t=_i("struct",e),n=Ui(e);return Di(e),new as(zi,t,n)}return new as(zi,e.name,e.inputs?e.inputs.map(Zi.from):[])}static isFragment(e){return e&&e[Hi]===Ji}}const cs=new Map;cs.set(0,"GENERIC_PANIC"),cs.set(1,"ASSERT_FALSE"),cs.set(17,"OVERFLOW"),cs.set(18,"DIVIDE_BY_ZERO"),cs.set(33,"ENUM_RANGE_ERROR"),cs.set(34,"BAD_STORAGE_DATA"),cs.set(49,"STACK_UNDERFLOW"),cs.set(50,"ARRAY_RANGE_ERROR"),cs.set(65,"OUT_OF_MEMORY"),cs.set(81,"UNINITIALIZED_FUNCTION_CALL");const ls=new RegExp(/^bytes([0-9]*)$/),us=new RegExp(/^(u?int)([0-9]*)$/);let hs=null,ds=1024;var fs=new WeakSet;class ps{constructor(){Lt(this,fs)}getDefaultValue(e){const t=e.map(e=>xt(fs,this,gs).call(this,Zi.from(e)));return new ci(t,"_").defaultValue()}encode(e,t){Bt(t.length,e.length,"types/values length mismatch");const n=e.map(e=>xt(fs,this,gs).call(this,Zi.from(e))),r=new ci(n,"_"),i=new On;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map(e=>xt(fs,this,gs).call(this,Zi.from(e)));return new ci(r,"_").decode(new Un(t,n,ds))}static _setDefaultMaxInflation(e){_t("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),ds=e}static defaultAbiCoder(){return null==hs&&(hs=new ps),hs}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=Ft(n);if(n=Wt(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Wt(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=": ".concat(JSON.stringify(s))}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Wt(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s="Panic due to ".concat(cs.get(t)||"UNKNOWN","(").concat(t,")"),i+=": ".concat(s)}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?Br(t.to):null,data:t.data||"0x"};return t.from&&(a.from=Br(t.from)),Rt(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,ps.defaultAbiCoder())}}function gs(e){if(e.isArray())return new Wr(xt(fs,this,gs).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ci(e.components.map(e=>xt(fs,this,gs).call(this,e)),e.name);switch(e.baseType){case"address":return new zr(e.name);case"bool":return new Kr(e.name);case"string":return new ai(e.name);case"bytes":return new Qr(e.name);case"":return new Zr(e.name)}let t=e.type.match(us);if(t){let n=parseInt(t[2]||"256");return _t(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new ti(n/8,"int"===t[1],e.name)}if(t=e.type.match(ls),t){let n=parseInt(t[1]);return _t(0!==n&&n<=32,"invalid bytes length","param",e),new Jr(n,e.name)}_t(!1,"invalid type","type",e.type)}function ms(e){return e&&"function"===typeof e.getAddress}async function ys(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(Tt("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),_t(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Br(n)}function ws(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Br(e):(Tt(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ys(e,t.resolveName(e))):ms(e)?ys(e,e.getAddress()):e&&"function"===typeof e.then?ys(e,e):void _t(!1,"unsupported addressable value","target",e)}const bs=new Uint8Array(32);bs.fill(0);const vs=BigInt(-1),Es=BigInt(0),xs=BigInt(1),As=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ss=ln(xs,32),ks=ln(Es,32),Is={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ps=["name","version","chainId","verifyingContract","salt"];function Os(e){return function(t){return _t("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const Ns={name:Os("name"),version:Os("version"),chainId:function(e){const t=rn(e,"domain.chainId");return _t(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):hn(t)},verifyingContract:function(e){try{return Br(e).toLowerCase()}catch(t){}_t(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Ft(e,"domain.salt");return _t(32===t.length,'invalid domain value "salt"',"domain.salt",e),Wt(t)}};function Cs(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);_t(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=nn(As,n?r-1:r),s=n?(i+xs)*vs:Es;return function(t){const r=rn(t,"value");return _t(r>=s&&r<=i,"value out-of-bounds for ".concat(e),"value",r),ln(n?tn(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return _t(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return _t(Ft(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=Ft(e),n=t.length%32;return n?Kt([t,bs.slice(n)]):Wt(t)}(t)}}}switch(e){case"address":return function(e){return Yt(Br(e),32)};case"bool":return function(e){return e?Ss:ks};case"bytes":return function(e){return Pr(e)};case"string":return function(e){return li(e)}}return null}function Rs(e,t){return"".concat(e,"(").concat(t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(","),")")}function Ts(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var _s=new WeakMap,Bs=new WeakMap,js=new WeakMap,Us=new WeakSet;class Ls{get types(){return JSON.parse(At(_s,this))}constructor(e){Lt(this,Us),(0,Dt.A)(this,"primaryType",void 0),Et(this,_s,void 0),Et(this,Bs,void 0),Et(this,js,void 0),St(Bs,this,new Map),St(js,this,new Map);const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach(s=>{i[s]=e[s].map(t=>{let{name:n,type:r}=t,{base:i,index:s}=Ts(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}}),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)}),St(_s,this,JSON.stringify(i));for(const o in i){const r=new Set;for(const s of i[o]){_t(!r.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(o)),"types",e),r.add(s.name);const i=Ts(s.type).base;_t(i!==o,"circular type reference to ".concat(JSON.stringify(i)),"types",e);Cs(i)||(_t(n.has(i),"unknown type ".concat(JSON.stringify(i)),"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter(e=>0===n.get(e).length);_t(0!==s.length,"missing primary type","types",e),_t(1===s.length,"ambiguous primary types or unused types: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"types",e),Pt(this,{primaryType:s[0]}),function i(s,o){_t(!o.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),At(Bs,this).set(o,Rs(o,i[o])+e.map(e=>Rs(e,i[e])).join(""))}}getEncoder(e){let t=At(js,this).get(e);return t||(t=xt(Us,this,Ds).call(this,e),At(js,this).set(e,t)),t}encodeType(e){const t=At(Bs,this).get(e);return _t(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Pr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Cs(e))return n(e,t);const r=Ts(e).array;if(r)return _t(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map(e=>this._visit(r.prefix,e,n));const i=this.types[e];if(i)return i.reduce((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e},{});_t(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ls(e)}static getPrimaryType(e){return Ls.from(e).primaryType}static hashStruct(e,t,n){return Ls.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Is[n];_t(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>Ps.indexOf(e.name)-Ps.indexOf(t.name)),Ls.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Kt(["0x1901",Ls.hashDomain(e),Ls.from(t).hash(n)])}static hash(e,t,n){return Pr(Ls.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!Ht(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Ls.from(t);s.visit(n,(e,t)=>("address"!==e||Ht(t,20)||(i[t]="0x"),t));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,(e,t)=>"address"===e&&i[t]?i[t]:t)}}static getPayload(e,t,n){Ls.hashDomain(e);const r={},i=[];Ps.forEach(t=>{const n=e[t];null!=n&&(r[t]=Ns[t](n),i.push({name:t,type:Is[t]}))});const s=Ls.from(t);t=s.types;const o=Object.assign({},t);return _t(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return Wt(Ft(t));if(e.match(/^u?int/))return rn(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return _t("string"===typeof t,"invalid string","value",t),t}_t(!1,"unsupported type","type",e)})}}}function Ds(e){{const t=Cs(e);if(t)return t}const t=Ts(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{_t(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let i=r.map(n);return At(Bs,this).has(e)&&(i=i.map(Pr)),Pr(Kt(i))}}const n=this.types[e];if(n){const t=li(At(Bs,this).get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return At(Bs,this).has(r)?Pr(i):i});return r.unshift(t),Kt(r)}}_t(!1,"unknown type: ".concat(e),"type",e)}function Ms(e,t){return{address:Br(e),storageKeys:t.map((e,t)=>(_t(Ht(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()))}}function Fs(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(_t(2===t.length,"invalid slot set","value[".concat(n,"]"),t),Ms(t[0],t[1])):(_t(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Ms(t.address,t.storageKeys)));_t(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return Ms(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const zs="0x0000000000000000000000000000000000000000000000000000000000000000",Hs=BigInt(0),qs=BigInt(1),Vs=BigInt(2),Ws=BigInt(27),Ks=BigInt(28),Gs=BigInt(35),Qs={};function Js(e){return Yt(un(e),32)}var Ys=new WeakMap,Zs=new WeakMap,Xs=new WeakMap,$s=new WeakMap;class eo{get r(){return At(Ys,this)}set r(e){_t(32===Gt(e),"invalid r","value",e),St(Ys,this,Wt(e))}get s(){return _t(parseInt(At(Zs,this).substring(0,3))<8,"non-canonical s; use ._s","s",At(Zs,this)),At(Zs,this)}set s(e){_t(32===Gt(e),"invalid s","value",e),St(Zs,this,Wt(e))}get _s(){return At(Zs,this)}isValid(){return parseInt(At(Zs,this).substring(0,3))<8}get v(){return At(Xs,this)}set v(e){const t=cn(e,"value");_t(27===t||28===t,"invalid v","v",e),St(Xs,this,t)}get networkV(){return At($s,this)}get legacyChainId(){const e=this.networkV;return null==e?null:eo.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Ft(this.s);return this.yParity&&(e[0]|=128),Wt(e)}get compactSerialized(){return Kt([this.r,this.yParityAndS])}get serialized(){return Kt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){Et(this,Ys,void 0),Et(this,Zs,void 0),Et(this,Xs,void 0),Et(this,$s,void 0),Ut(e,Qs,"Signature"),St(Ys,this,t),St(Zs,this,n),St(Xs,this,r),St($s,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this._s,'"').concat(this.isValid()?"":', valid: "false"',", yParity: ").concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new eo(Qs,this.r,this._s,this.v);return this.networkV&&St($s,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=rn(e,"v");return t==Ws||t==Ks?Hs:(_t(t>=Gs,"invalid EIP-155 v","v",e),(t-Gs)/Vs)}static getChainIdV(e,t){return rn(e)*Vs+BigInt(35+t-27)}static getNormalizedV(e){const t=rn(e);return t===Hs||t===Ws?27:t===qs||t===Ks?28:(_t(t>=Gs,"invalid v","v",e),t&qs?27:28)}static from(e){function t(t,n){_t(t,n,"signature",e)}if(null==e)return new eo(Qs,zs,zs,27);if("string"===typeof e){const n=Ft(e,"signature");if(64===n.length){const e=Wt(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new eo(Qs,e,Wt(t),r)}if(65===n.length){const e=Wt(n.slice(0,32)),t=Wt(n.slice(32,64)),r=eo.getNormalizedV(n[64]);return new eo(Qs,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof eo)return e.clone();const n=e.r;t(null!=n,"missing r");const r=Js(n),i=function(e,n){if(null!=e)return Js(e);if(null!=n){t(Ht(n,32),"invalid yParityAndS");const e=Ft(n);return e[0]&=127,Wt(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=rn(e);return{networkV:t>=Gs?t:void 0,v:eo.getNormalizedV(t)}}if(null!=n)return t(Ht(n,32),"invalid yParityAndS"),{v:128&Ft(n)[0]?28:27};if(null!=r){switch(cn(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new eo(Qs,r,i,o);return s&&St($s,a,s),t(null==e.yParity||cn(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function to(e){return{address:Br(e.address),nonce:rn(null!=e.nonce?e.nonce:0),chainId:rn(null!=e.chainId?e.chainId:0),signature:eo.from(e.signature)}}function no(e){return async function(t,n){Tt(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();Tt("http"===r||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Tt("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,o=setTimeout(()=>{i=Rt("request timeout","TIMEOUT"),s.abort()},t.timeout);n&&n.addListener(()=>{i=Rt("request cancelled","CANCELLED"),s.abort()});const a=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let c;try{c=await fetch(t.url,a)}catch(Mo){if(clearTimeout(o),i)throw i;throw Mo}clearTimeout(o);const l={};c.headers.forEach((e,t)=>{l[t.toLowerCase()]=e});const u=await c.arrayBuffer(),h=null==u?null:new Uint8Array(u);return{statusCode:c.status,statusMessage:c.statusText,headers:l,body:h}}}no({});let ro=no();const io=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),so=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let oo=!1;async function ao(e,t){try{const t=e.match(io);if(!t)throw new Error("invalid data");return new Fo(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Ft(t)}(t[3]):si(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new Fo(599,"BAD REQUEST (invalid data: URI)",{},null,new To(e))}}function co(e){return async function(t,n){try{const n=t.match(so);if(!n)throw new Error("invalid link");return new To("".concat(e).concat(n[2]))}catch(r){return new Fo(599,"BAD REQUEST (invalid IPFS URI)",{},null,new To(t))}}}const lo={data:ao,ipfs:co("https://gateway.ipfs.io/ipfs/")},uo=new WeakMap;var ho=new WeakMap,fo=new WeakMap;class po{constructor(e){Et(this,ho,void 0),Et(this,fo,void 0),St(ho,this,[]),St(fo,this,!1),uo.set(e,()=>{if(!At(fo,this)){St(fo,this,!0);for(const e of At(ho,this))setTimeout(()=>{e()},0);St(ho,this,[])}})}addListener(e){Tt(!At(fo,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),At(ho,this).push(e)}get cancelled(){return At(fo,this)}checkSignal(){Tt(!this.cancelled,"cancelled","CANCELLED",{})}}function go(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var mo=new WeakMap,yo=new WeakMap,wo=new WeakMap,bo=new WeakMap,vo=new WeakMap,Eo=new WeakMap,xo=new WeakMap,Ao=new WeakMap,So=new WeakMap,ko=new WeakMap,Io=new WeakMap,Po=new WeakMap,Oo=new WeakMap,No=new WeakMap,Co=new WeakMap,Ro=new WeakSet;class To{get url(){return At(Eo,this)}set url(e){St(Eo,this,String(e))}get body(){return null==At(xo,this)?null:new Uint8Array(At(xo,this))}set body(e){if(null==e)St(xo,this,void 0),St(Ao,this,void 0);else if("string"===typeof e)St(xo,this,si(e)),St(Ao,this,"text/plain");else if(e instanceof Uint8Array)St(xo,this,e),St(Ao,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");St(xo,this,si(JSON.stringify(e))),St(Ao,this,"application/json")}}hasBody(){return null!=At(xo,this)}get method(){return At(bo,this)?At(bo,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),St(bo,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},At(wo,this));return At(So,this)&&(e.authorization="Basic ".concat(function(e){const t=Ft(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(si(At(So,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&At(Ao,this)&&(e["content-type"]=At(Ao,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){At(wo,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){St(wo,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return At(So,this)||null}setCredentials(e,t){_t(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),St(So,this,"".concat(e,":").concat(t))}get allowGzip(){return At(yo,this)}set allowGzip(e){St(yo,this,!!e)}get allowInsecureAuthentication(){return!!At(mo,this)}set allowInsecureAuthentication(e){St(mo,this,!!e)}get timeout(){return At(vo,this)}set timeout(e){_t(e>=0,"timeout must be non-zero","timeout",e),St(vo,this,e)}get preflightFunc(){return At(ko,this)||null}set preflightFunc(e){St(ko,this,e)}get processFunc(){return At(Io,this)||null}set processFunc(e){St(Io,this,e)}get retryFunc(){return At(Po,this)||null}set retryFunc(e){St(Po,this,e)}get getUrlFunc(){return At(Co,this)||ro}set getUrlFunc(e){St(Co,this,e)}constructor(e){Lt(this,Ro),Et(this,mo,void 0),Et(this,yo,void 0),Et(this,wo,void 0),Et(this,bo,void 0),Et(this,vo,void 0),Et(this,Eo,void 0),Et(this,xo,void 0),Et(this,Ao,void 0),Et(this,So,void 0),Et(this,ko,void 0),Et(this,Io,void 0),Et(this,Po,void 0),Et(this,Oo,void 0),Et(this,No,void 0),Et(this,Co,void 0),St(Eo,this,String(e)),St(mo,this,!1),St(yo,this,!0),St(wo,this,{}),St(bo,this,""),St(vo,this,3e5),St(No,this,{slotInterval:250,maxAttempts:12}),St(Co,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(At(xo,this)?Wt(At(xo,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(At(No,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(At(No,this).maxAttempts=e.maxAttempts)}send(){return Tt(null==At(Oo,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),St(Oo,this,new po(this)),xt(Ro,this,_o).call(this,0,zo()+this.timeout,0,this,new Fo(0,"",{},null,this))}cancel(){Tt(null!=At(Oo,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=uo.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Tt("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new To(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,St(wo,r,Object.assign({},At(wo,this))),At(xo,this)&&St(xo,r,new Uint8Array(At(xo,this))),St(Ao,r,At(Ao,this)),r}clone(){const e=new To(this.url);return St(bo,e,At(bo,this)),At(xo,this)&&St(xo,e,At(xo,this)),St(Ao,e,At(Ao,this)),St(wo,e,Object.assign({},At(wo,this))),St(So,e,At(So,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),St(ko,e,At(ko,this)),St(Io,e,At(Io,this)),St(Po,e,At(Po,this)),St(No,e,Object.assign({},At(No,this))),St(Co,e,At(Co,this)),e}static lockConfig(){oo=!0}static getGateway(e){return lo[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(oo)throw new Error("gateways locked");lo[e]=t}static registerGetUrl(e){if(oo)throw new Error("gateways locked");ro=e}static createGetUrlFunc(e){return no(e)}static createDataGateway(){return ao}static createIpfsGatewayFunc(e){return co(e)}}async function _o(e,t,n,r,i){if(e>=At(No,this).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Tt(zo()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in lo){const e=await lo[o](s.url,go(At(Oo,r)));if(e instanceof Fo){let t=e;if(this.processFunc){go(At(Oo,r));try{t=await this.processFunc(s,t)}catch(d){null!=d.throttle&&"number"===typeof d.stall||t.makeServerError("error in post-processing function",d).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,go(At(Oo,r)));let c=new Fo(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{var l;const n=c.headers.location||"";return xt(Ro,l=s.redirect(n),_o).call(l,e+1,t,0,r,c)}catch(d){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){var u;const n=c.headers["retry-after"];let i=At(No,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),xt(Ro,u=s.clone(),_o).call(u,e+1,t,i,r,c)}if(this.processFunc){go(At(Oo,r));try{c=await this.processFunc(s,c)}catch(d){var h;null!=d.throttle&&"number"===typeof d.stall||c.makeServerError("error in post-processing function",d).assertOk();let n=At(No,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return d.stall>=0&&(n=d.stall),xt(Ro,h=s.clone(),_o).call(h,e+1,t,n,r,c)}}return c}var Bo=new WeakMap,jo=new WeakMap,Uo=new WeakMap,Lo=new WeakMap,Do=new WeakMap,Mo=new WeakMap;class Fo{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(At(Lo,this)?Wt(At(Lo,this)):"null",">")}get statusCode(){return At(Bo,this)}get statusMessage(){return At(jo,this)}get headers(){return Object.assign({},At(Uo,this))}get body(){return null==At(Lo,this)?null:new Uint8Array(At(Lo,this))}get bodyText(){try{return null==At(Lo,this)?"":oi(At(Lo,this))}catch(e){Tt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Tt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){Et(this,Bo,void 0),Et(this,jo,void 0),Et(this,Uo,void 0),Et(this,Lo,void 0),Et(this,Do,void 0),Et(this,Mo,void 0),St(Bo,this,e),St(jo,this,t),St(Uo,this,Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{})),St(Lo,this,null==r?null:new Uint8Array(r)),St(Do,this,i||null),St(Mo,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new Fo(599,n,this.headers,this.body,At(Do,this)||void 0);return St(Mo,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:_t(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw Pt(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=At(Lo,this)}get request(){return At(Do,this)}ok(){return""===At(Mo,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=At(Mo,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{At(Lo,this)&&(r=oi(At(Lo,this)))}catch(uT){}Tt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function zo(){return(new Date).getTime()}const Ho="0x0000000000000000000000000000000000000000";class qo{constructor(e,t,n){(0,Dt.A)(this,"fragment",void 0),(0,Dt.A)(this,"name",void 0),(0,Dt.A)(this,"signature",void 0),(0,Dt.A)(this,"topic",void 0),(0,Dt.A)(this,"args",void 0);const r=e.name,i=e.format();Pt(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class Vo{constructor(e,t,n,r){(0,Dt.A)(this,"fragment",void 0),(0,Dt.A)(this,"name",void 0),(0,Dt.A)(this,"args",void 0),(0,Dt.A)(this,"signature",void 0),(0,Dt.A)(this,"selector",void 0),(0,Dt.A)(this,"value",void 0);const i=e.name,s=e.format();Pt(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class Wo{constructor(e,t,n){(0,Dt.A)(this,"fragment",void 0),(0,Dt.A)(this,"name",void 0),(0,Dt.A)(this,"args",void 0),(0,Dt.A)(this,"signature",void 0),(0,Dt.A)(this,"selector",void 0);const r=e.name,i=e.format();Pt(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class Ko{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,Dt.A)(this,"hash",void 0),(0,Dt.A)(this,"_isIndexed",void 0),Pt(this,{hash:e,_isIndexed:!0})}}const Go={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Qo={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Go[e.toString()]&&(t=Go[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var Jo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,$o=new WeakSet;class ea{constructor(e){Lt(this,$o),(0,Dt.A)(this,"fragments",void 0),(0,Dt.A)(this,"deploy",void 0),(0,Dt.A)(this,"fallback",void 0),(0,Dt.A)(this,"receive",void 0),Et(this,Jo,void 0),Et(this,Yo,void 0),Et(this,Zo,void 0),Et(this,Xo,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,St(Zo,this,new Map),St(Jo,this,new Map),St(Yo,this,new Map);const n=[];for(const o of t)try{n.push($i.from(o))}catch(s){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(o),":"),s.message)}Pt(this,{fragments:Object.freeze(n)});let r=null,i=!1;St(Xo,this,this.getAbiCoder()),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Pt(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(_t(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,i=r.payable));case"function":n=At(Zo,this);break;case"event":n=At(Yo,this);break;case"error":n=At(Jo,this);break;default:return}const s=e.format();n.has(s)||n.set(s,e)}),this.deploy||Pt(this,{deploy:is.from("constructor()")}),Pt(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map(e=>e.format(t));return n}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return ps.defaultAbiCoder()}getFunctionName(e){const t=xt($o,this,ta).call(this,e,null,!1);return _t(t,"no matching function","key",e),t.name}hasFunction(e){return!!xt($o,this,ta).call(this,e,null,!1)}getFunction(e,t){return xt($o,this,ta).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(At(Zo,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(At(Zo,this).get(r),n)}}getEventName(e){const t=xt($o,this,na).call(this,e,null,!1);return _t(t,"no matching event","key",e),t.name}hasEvent(e){return!!xt($o,this,na).call(this,e,null,!1)}getEvent(e,t){return xt($o,this,na).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(At(Yo,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(At(Yo,this).get(r),n)}}getError(e,t){if(Ht(e)){const t=e.toLowerCase();if(Qo[t])return ns.from(Qo[t].signature);for(const e of At(Jo,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of At(Jo,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?ns.from("error Error(string)"):"Panic"===e?ns.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");_t(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=ns.from(e).format()))return ns.from("error Error(string)");if("Panic(uint256)"===e)return ns.from("error Panic(uint256)");const n=At(Jo,this).get(e);return n||null}forEachError(e){const t=Array.from(At(Jo,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(At(Jo,this).get(r),n)}}_decodeParams(e,t){return At(Xo,this).decode(e,t)}_encodeParams(e,t){return At(Xo,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);_t(t,"unknown error","fragment",e),e=t}return _t(Qt(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,Qt(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);_t(t,"unknown error","fragment",e),e=t}return Kt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);_t(t,"unknown function","fragment",e),e=t}return _t(Qt(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,Qt(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);_t(t,"unknown function","fragment",e),e=t}return Kt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);_t(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=zt(t);if(r.length%32===0)try{return At(Xo,this).decode(e.outputs,r)}catch(i){n="could not decode result data"}Tt(!1,n,"BAD_DATA",{value:Wt(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=Ft(e,"data"),r=ps.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Wt(n.slice(0,4)),t=this.getError(e);if(t)try{const e=At(Xo,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(uT){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);_t(t,"unknown function","fragment",e),e=t}return Wt(At(Xo,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);_t(t,"unknown event","eventFragment",e),e=t}Tt(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?li(t):"bytes"===e.type?Pr(Wt(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=ln(t):e.type.match(/^bytes/)?t=function(e,t){return Jt(e,t,!1)}(t,32):"address"===e.type&&At(Xo,this).encode(["address"],[t]),Yt(Wt(t),32));for(t.forEach((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?_t(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map(e=>r(s,e))):n.push(r(s,t)):_t(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);_t(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),_t(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(li(o));else if("bytes"===e.type)n.push(Pr(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(At(Xo,this).encode([e.type],[o]))}else r.push(e),i.push(o)}),{data:At(Xo,this).encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);_t(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;_t(Ht(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Zi.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))});const o=null!=n?At(Xo,this).decode(r,Kt(n)):null,a=At(Xo,this).decode(i,t,!0),c=[],l=[];let u=0,h=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new Ko(null);else if(s[t])n=new Ko(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}c.push(n),l.push(e.name||null)}),xn.fromItems(c,l)}parseTransaction(e){const t=Ft(e.data,"tx.data"),n=rn(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Wt(t.slice(0,4)));if(!r)return null;const i=At(Xo,this).decode(r.inputs,t.slice(4));return new Vo(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new qo(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Wt(e),n=this.getError(Qt(t,0,4));if(!n)return null;const r=At(Xo,this).decode(n.inputs,Qt(t,4));return new Wo(n,n.selector,r)}static from(e){return e instanceof ea?e:"string"===typeof e?new ea(JSON.parse(e)):"function"===typeof e.formatJson?new ea(e.formatJson()):"function"===typeof e.format?new ea(e.format("json")):new ea(e)}}function ta(e,t,n){if(Ht(e)){const t=e.toLowerCase();for(const e of At(Zo,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of At(Zo,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;Fr.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(Fr.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");_t(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=At(Zo,this).get(os.from(e).format());return r||null}function na(e,t,n){if(Ht(e)){const t=e.toLowerCase();for(const e of At(Yo,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of At(Yo,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(Fr.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");_t(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=At(Yo,this).get(rs.from(e).format());return r||null}const ra=BigInt(0);function ia(e){return null==e?null:e}function sa(e){return null==e?null:e.toString()}class oa{constructor(e,t,n){(0,Dt.A)(this,"gasPrice",void 0),(0,Dt.A)(this,"maxFeePerGas",void 0),(0,Dt.A)(this,"maxPriorityFeePerGas",void 0),Pt(this,{gasPrice:ia(e),maxFeePerGas:ia(t),maxPriorityFeePerGas:ia(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:sa(e),maxFeePerGas:sa(t),maxPriorityFeePerGas:sa(n)}}}function aa(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Wt(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=rn(e[i],"request.".concat(i)));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=cn(e[i],"request.".concat(i)));return e.accessList&&(t.accessList=Fs(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>qt(e)?Wt(e):Object.assign({},e))),t}var ca=new WeakMap;class la{constructor(e,t){(0,Dt.A)(this,"provider",void 0),(0,Dt.A)(this,"number",void 0),(0,Dt.A)(this,"hash",void 0),(0,Dt.A)(this,"timestamp",void 0),(0,Dt.A)(this,"parentHash",void 0),(0,Dt.A)(this,"parentBeaconBlockRoot",void 0),(0,Dt.A)(this,"nonce",void 0),(0,Dt.A)(this,"difficulty",void 0),(0,Dt.A)(this,"gasLimit",void 0),(0,Dt.A)(this,"gasUsed",void 0),(0,Dt.A)(this,"stateRoot",void 0),(0,Dt.A)(this,"receiptsRoot",void 0),(0,Dt.A)(this,"blobGasUsed",void 0),(0,Dt.A)(this,"excessBlobGas",void 0),(0,Dt.A)(this,"miner",void 0),(0,Dt.A)(this,"prevRandao",void 0),(0,Dt.A)(this,"extraData",void 0),(0,Dt.A)(this,"baseFeePerGas",void 0),Et(this,ca,void 0),St(ca,this,e.transactions.map(e=>"string"!==typeof e?new pa(e,t):e)),Pt(this,{provider:t,hash:ia(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:ia(e.prevRandao),extraData:e.extraData,baseFeePerGas:ia(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return At(ca,this).map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=At(ca,this).slice();return 0===e.length?[]:(Tt("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:sa(e),difficulty:sa(t),extraData:n,gasLimit:sa(r),gasUsed:sa(i),blobGasUsed:sa(this.blobGasUsed),excessBlobGas:sa(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return At(ca,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=At(ca,this)[e];else{const n=e.toLowerCase();for(const e of At(ca,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;_t(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class ua{constructor(e,t){(0,Dt.A)(this,"provider",void 0),(0,Dt.A)(this,"transactionHash",void 0),(0,Dt.A)(this,"blockHash",void 0),(0,Dt.A)(this,"blockNumber",void 0),(0,Dt.A)(this,"removed",void 0),(0,Dt.A)(this,"address",void 0),(0,Dt.A)(this,"data",void 0),(0,Dt.A)(this,"topics",void 0),(0,Dt.A)(this,"index",void 0),(0,Dt.A)(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());Pt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Tt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Tt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Tt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var ha=new WeakMap;class da{constructor(e,t){(0,Dt.A)(this,"provider",void 0),(0,Dt.A)(this,"to",void 0),(0,Dt.A)(this,"from",void 0),(0,Dt.A)(this,"contractAddress",void 0),(0,Dt.A)(this,"hash",void 0),(0,Dt.A)(this,"index",void 0),(0,Dt.A)(this,"blockHash",void 0),(0,Dt.A)(this,"blockNumber",void 0),(0,Dt.A)(this,"logsBloom",void 0),(0,Dt.A)(this,"gasUsed",void 0),(0,Dt.A)(this,"blobGasUsed",void 0),(0,Dt.A)(this,"cumulativeGasUsed",void 0),(0,Dt.A)(this,"gasPrice",void 0),(0,Dt.A)(this,"blobGasPrice",void 0),(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"status",void 0),(0,Dt.A)(this,"root",void 0),Et(this,ha,void 0),St(ha,this,Object.freeze(e.logs.map(e=>new ua(e,t))));let n=ra;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),Pt(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return At(ha,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:sa(this.cumulativeGasUsed),from:t,gasPrice:sa(this.gasPrice),blobGasUsed:sa(this.blobGasUsed),blobGasPrice:sa(this.blobGasPrice),gasUsed:sa(this.gasUsed),hash:r,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ma(this)}reorderedEvent(e){return Tt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ga(this,e)}}var fa=new WeakMap;class pa{constructor(e,t){(0,Dt.A)(this,"provider",void 0),(0,Dt.A)(this,"blockNumber",void 0),(0,Dt.A)(this,"blockHash",void 0),(0,Dt.A)(this,"index",void 0),(0,Dt.A)(this,"hash",void 0),(0,Dt.A)(this,"type",void 0),(0,Dt.A)(this,"to",void 0),(0,Dt.A)(this,"from",void 0),(0,Dt.A)(this,"nonce",void 0),(0,Dt.A)(this,"gasLimit",void 0),(0,Dt.A)(this,"gasPrice",void 0),(0,Dt.A)(this,"maxPriorityFeePerGas",void 0),(0,Dt.A)(this,"maxFeePerGas",void 0),(0,Dt.A)(this,"maxFeePerBlobGas",void 0),(0,Dt.A)(this,"data",void 0),(0,Dt.A)(this,"value",void 0),(0,Dt.A)(this,"chainId",void 0),(0,Dt.A)(this,"signature",void 0),(0,Dt.A)(this,"accessList",void 0),(0,Dt.A)(this,"blobVersionedHashes",void 0),(0,Dt.A)(this,"authorizationList",void 0),Et(this,fa,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,St(fa,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:sa(this.chainId),data:c,from:o,gasLimit:sa(this.gasLimit),gasPrice:sa(this.gasPrice),hash:r,maxFeePerGas:sa(this.maxFeePerGas),maxPriorityFeePerGas:sa(this.maxPriorityFeePerGas),maxFeePerBlobGas:sa(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:n,type:i,value:sa(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await It({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=At(fa,this),s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await It({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<At(fa,this)&&(s=At(fa,this)));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===ra&&(r="cancelled"),Tt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;Tt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(1===n||await l.confirmations()>=n)return c(l)}else if(await a(),0===n)return null;const u=new Promise((e,t)=>{const s=[],l=()=>{s.forEach(e=>e())};if(s.push(()=>{o=!0}),r>0){const e=setTimeout(()=>{l(),t(Rt("wait for transaction timeout","TIMEOUT"))},r);s.push(()=>{clearTimeout(e)})}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(i){t(i)}}};if(s.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(n){if(Nt(n,"TRANSACTION_REPLACED"))return l(),void t(n)}o||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Tt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ma(this)}reorderedEvent(e){return Tt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Tt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ga(this,e)}replaceableTransaction(e){_t(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new pa(this,this.provider);return St(fa,t,e),t}}function ga(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function ma(e){return{orphan:"drop-transaction",tx:e}}var ya=new WeakMap;class wa{constructor(e,t,n){(0,Dt.A)(this,"filter",void 0),(0,Dt.A)(this,"emitter",void 0),Et(this,ya,void 0),St(ya,this,t),Pt(this,{emitter:e,filter:n})}async removeListener(){null!=At(ya,this)&&await this.emitter.off(this.filter,At(ya,this))}}class ba extends ua{constructor(e,t,n){super(e,e.provider),(0,Dt.A)(this,"interface",void 0),(0,Dt.A)(this,"fragment",void 0),(0,Dt.A)(this,"args",void 0);Pt(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class va extends ua{constructor(e,t){super(e,e.provider),(0,Dt.A)(this,"error",void 0),Pt(this,{error:t})}}var Ea=new WeakMap;class xa extends da{constructor(e,t,n){super(n,t),Et(this,Ea,void 0),St(Ea,this,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?At(Ea,this).getEvent(e.topics[0]):null;if(t)try{return new ba(e,At(Ea,this),t)}catch(n){return new va(e,n)}return e})}}var Aa=new WeakMap;class Sa extends pa{constructor(e,t,n){super(n,t),Et(this,Aa,void 0),St(Aa,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new xa(At(Aa,this),this.provider,n)}}class ka extends wa{constructor(e,t,n,r){super(e,t,n),(0,Dt.A)(this,"log",void 0),Pt(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Ia extends ka{constructor(e,t,n,r,i){super(e,t,n,new ba(i,e.interface,r));Pt(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Pa=BigInt(0);function Oa(e){return e&&"function"===typeof e.call}function Na(e){return e&&"function"===typeof e.estimateGas}function Ca(e){return e&&"function"===typeof e.resolveName}function Ra(e){return e&&"function"===typeof e.sendTransaction}function Ta(e){if(null!=e){if(Ca(e))return e;if(e.provider)return e.provider}}var _a=new WeakMap;class Ba{constructor(e,t,n){if(Et(this,_a,void 0),(0,Dt.A)(this,"fragment",void 0),Pt(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=ja(e.runner,"resolveName"),i=Ca(r)?r:null;St(_a,this,async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>ws(e,i))):ws(t,i):t)));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return At(_a,this)}}function ja(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Ua(e){return null==e?null:e.provider||null}async function La(e,t){const n=Fr.dereference(e,"overrides");_t("object"===typeof n,"invalid overrides parameter","overrides",e);const r=aa(n);return _t(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),_t(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function Da(e){const t=async function(t){const n=await La(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await ws(n.from,Ta(e.runner)));const r=e.interface,i=rn(n.value||Pa,"overrides.value")===Pa,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||_t(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),_t(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return _t(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),_t(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;Tt(Ra(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Ua(e.runner);return new Sa(e.interface,s,i)},r=async e=>await n(e);return Pt(r,{_contract:e,estimateGas:async function(n){const r=ja(e.runner,"estimateGas");return Tt(Na(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=ja(e.runner,"call");Tt(Oa(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(Ct(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function Ma(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return Tt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await La(r.pop()),o.from&&(o.from=await ws(o.from,Ta(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=ja(e,"resolveName"),i=Ca(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=Fr.dereference(t,e),"address"===e?ws(t,i):t))))}(e.runner,s.inputs,r);return Object.assign({},o,await It({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;Tt(Ra(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Ua(e.runner);return new Sa(e.interface,i,n)},o=async function(){const t=ja(e.runner,"call");Tt(Oa(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(Ct(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return Pt(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=ja(e.runner,"estimateGas");return Tt(Na(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return Tt(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const Fa=Symbol.for("_ethersInternal_contract"),za=new WeakMap;function Ha(e){return za.get(e[Fa])}async function qa(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Ht(t,32))return t;const n=e.interface.getEvent(t);return _t(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?Ht(t,32)?n=[t]:(r=e.interface.getEvent(t),_t(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):_t(!1,"unknown event name","event",t);var i;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});return{fragment:r,tag:n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:n}}async function Va(e,t){const{subs:n}=Ha(e);return n.get((await qa(e,t)).tag)||null}async function Wa(e,t,n){const r=Ua(e.runner);Tt(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await qa(e,n),{addr:a,subs:c}=Ha(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];Ga(e,n,o,r=>new Ia(e,r,n,s,t))}else Ga(e,n,[],r=>new ka(e,r,n,t))};let h=[];l={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},c.set(s,l)}return l}let Ka=Promise.resolve();async function Ga(e,t,n,r){try{await Ka}catch(s){}const i=async function(e,t,n,r){await Ka;const i=await Va(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o}),0===i.listeners.length&&(i.stop(),Ha(e).subs.delete(i.tag)),o>0}(e,t,n,r);return Ka=i,await i}const Qa=["then"];class Ja{constructor(e,t,n,r){(0,Dt.A)(this,"target",void 0),(0,Dt.A)(this,"interface",void 0),(0,Dt.A)(this,"runner",void 0),(0,Dt.A)(this,"filters",void 0),(0,Dt.A)(this,Fa,void 0),(0,Dt.A)(this,"fallback",void 0),_t("string"===typeof e||ms(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=ea.from(t);let s;Pt(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Fa,{value:{}});let o=null,a=null;if(r){const e=Ua(n);a=new Sa(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(Ht(e))o=e,s=Promise.resolve(e);else{const t=ja(n,"resolveName");if(!Ca(t))throw Rt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw Rt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ha(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return Ha(this).addr=e,e});var l,u;l=this,u={addrPromise:s,addr:o,deployTx:a,subs:c},za.set(l[Fa],u);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||Qa.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!Nt(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>Qa.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return Pt(this,{filters:h}),Pt(this,{fallback:i.receive||i.fallback?Da(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||Qa.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!Nt(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||Qa.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Ja(this.target,this.interface,e)}attach(e){return new Ja(e,this.interface,this.runner)}async getAddress(){return await Ha(this).addrPromise}async getDeployedCode(){const e=Ua(this.runner);Tt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Ua(this.runner);return Tt(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()})}deploymentTransaction(){return Ha(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return Ma(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return Tt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Ba(e,n(...r),r)};return Pt(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return Tt(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=Ha(this),s=r||await i,{fragment:o,topics:a}=await qa(this,e),c={address:s,topics:a,fromBlock:t,toBlock:n},l=Ua(this.runner);return Tt(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new ba(e,this.interface,t)}catch(n){return new va(e,n)}return new ua(e,l)})}async on(e,t){const n=await Wa(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Wa(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await Ga(this,e,n,null)}async listenerCount(e){if(e){const t=await Va(this,e);return t?t.listeners.length:0}const{subs:t}=Ha(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await Va(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=Ha(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await Va(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),Ha(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Va(this,e);if(!t)return this;t.stop(),Ha(this).subs.delete(t.tag)}else{const{subs:e}=Ha(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Ja{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class Ya extends(function(){return Ja}()){}const Za=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function Xa(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let v=1;v<r;v++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=d>>1,p=h-1;let g=0;for(let v=0;v<31;v++)g=g<<1|u();let m=[],y=0,w=h;for(;;){let e=Math.floor(((g-y+1)*i-1)/w),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;m.push(t);let o=y+Math.floor(w*s[t]/i),a=y+Math.floor(w*s[t+1]/i)-1;for(;0==((o^a)&d);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|u(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,w=1+a-o}let b=r-4;return m.map(t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function $a(e){return 1&e?~e>>1:e>>1}function ec(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=$a(t());return n}function tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function nc(e){return ic(()=>{let t=tc(e);if(t.length)return t})}function rc(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(oc(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(ac(n,e))}return t.flat()}function ic(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function sc(e,t,n){let r=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)ec(e,n).forEach((e,t)=>r[t].push(e));return r}function oc(e,t){let n=1+t(),r=t(),i=ic(t);return sc(i.length,1+e,t).flatMap((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*r;return[s+t*n,o.map(e=>e+i)]})})}function ac(e,t){return sc(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function cc(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function lc(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function uc(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function hc(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const dc=44032,fc=4352,pc=4449,gc=4519,mc=28,yc=588;function wc(e){return e>>24&255}function bc(e){return 16777215&e}let vc,Ec,xc,Ac;function Sc(e){return e>=dc&&e<55204}function kc(e,t){if(e>=fc&&e<4371&&t>=pc&&t<4470)return dc+(e-fc)*yc+(t-pc)*mc;if(Sc(e)&&t>gc&&t<4547&&(e-dc)%mc==0)return e+(t-gc);{let n=Ac.get(e);return n&&(n=n.get(t),n)?n:-1}}function Ic(e){vc||function(){let e=Xa("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");vc=new Map(nc(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),Ec=new Set(tc(e)),xc=new Map,Ac=new Map;for(let[t,n]of rc(e)){if(!Ec.has(t)&&2==n.length){let[e,r]=n,i=Ac.get(e);i||(i=new Map,Ac.set(e,i)),i.set(r,t)}xc.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=vc.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Sc(s)){let e=s-dc,t=e%yc/mc|0,n=e%mc;i(fc+(e/yc|0)),i(pc+t),n>0&&i(gc+n)}else{let e=xc.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=wc(t[0]);for(let n=1;n<t.length;n++){let r=wc(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=wc(t[--i]),e<=r)break}e=wc(t[n])}}return t}function Pc(e){return Ic(e).map(bc)}function Oc(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=wc(s),o=bc(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=kc(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(Ic(e))}const Nc=".",Cc=e=>Array.from(e);function Rc(e,t){return e.P.has(t)||e.Q.has(t)}class Tc extends Array{get is_emoji(){return!0}}let _c,Bc,jc,Uc,Lc,Dc,Mc,Fc,zc,Hc,qc,Vc;function Wc(){if(_c)return;let e=Xa("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>tc(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));_c=new Map(rc(e)),Bc=n(),jc=t(),Uc=new Set(t().map(e=>jc[e])),jc=new Set(jc),Lc=n(),Dc=n();let i=nc(e),s=e();const o=()=>{let e=new Set;return t().forEach(t=>r(e,i[t])),r(e,t()),e};Mc=ic(t=>{let n=ic(e).map(e=>e+96);if(n.length){let r=t>=s;return n[0]-=32,n=uc(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:o(),Q:o(),M:!e(),R:r}}}),Fc=n(),zc=new Map;let a=t().concat(Cc(Fc)).sort((e,t)=>e-t);a.forEach((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),Fc.has(t)||zc.set(t,i)});for(let{V:u,M:h}of new Set(zc.values())){let e=[];for(let n of u){let t=Mc.filter(e=>Rc(e,n)),i=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap(e=>Cc(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)h.set(t,e)}}Hc=new Set;let c=new Set;const l=e=>Hc.has(e)?c.add(e):Hc.add(e);for(let u of Mc){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of Hc)zc.has(u)||c.has(u)||zc.set(u,1);r(Hc,Pc(Hc)),qc=function(e){let t=[],n=tc(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=ic(()=>{let r=tc(e).map(e=>n[e]);if(r.length)return t(r)});return{S:i,B:s,Q:r}}([]),[]),t}(e).map(e=>Tc.from(e)).sort(hc),Vc=new Map;for(let u of qc){let e=[Vc];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function Kc(e){return(Jc(e)?"":"".concat(Gc(Qc([e]))," "))+cc(e)}function Gc(e){return'"'.concat(e,'"\u200e')}function Qc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc,r=[];var i;i=e[0],Wc(),jc.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];Jc(t)&&(r.push(uc(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(uc(e.slice(s,o))),r.join("")}function Jc(e){return Wc(),Lc.has(e)}function Yc(e,t,n){if(!e)return[];Wc();let r=0;return e.split(Nc).map(e=>{let i=lc(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=tl(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(uc(e.slice(0,4)),'"'))}(a),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(jc.has(a[0]))throw el("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&jc.has(t[0]))throw el('emoji + combining mark: "'.concat(uc(r[e-1])," + ").concat(Qc([t[0]]),'"'))}!function(e){let t=e[0],n=Za.get(t);if(n)throw el("leading ".concat(n));let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=Za.get(t);if(r){if(i==s)throw el("".concat(n," + ").concat(r));i=s+1,n=r}}if(i==r)throw el("trailing ".concat(n))}(a);let n=Cc(new Set(t)),[i]=function(e){let t=Mc;for(let n of e){let e=t.filter(e=>Rc(e,n));if(!e.length)throw Mc.some(e=>Rc(e,n))?$c(t[0],n):Xc(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Rc(e,n))throw $c(e,n);if(e.M){let e=Pc(t);for(let t=1,n=e.length;t<n;t++)if(Uc.has(e[t])){let r=t+1;for(let i;r<n&&Uc.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error("duplicate non-spacing marks: ".concat(Kc(i)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(Gc(Qc(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=zc.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter(e=>t.has(e)):Cc(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every(e=>Rc(i,e)))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(i.N))}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s})}function Zc(e){return e.map(t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(Gc(Qc(n,63)),": ").concat(t))}return uc(i)}).join(Nc)}function Xc(e){return new Error("disallowed character: ".concat(Kc(e)))}function $c(e,t){let n=Kc(t),r=Mc.find(e=>e.P.has(t));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function el(e){return new Error("illegal placement: ".concat(e))}function tl(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=rl(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(Hc.has(t))i.push(t);else{let e=_c.get(t);if(e)i.push(...e);else if(!Bc.has(t))throw Xc(t)}}}return i.length&&r.push(t(i)),r}function nl(e){return e.filter(e=>65039!=e)}function rl(e,t){let n,r=Vc,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const il=new Uint8Array(32);function sl(e){return _t(0!==e.length,"invalid ENS name; empty component","comp",e),e}function ol(e){const t=si(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return Zc(Yc(e,Oc,nl))}(e)}catch(t){_t(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(sl(t.slice(r,i))),r=i+1)}return _t(r<t.length,"invalid ENS name; empty component","name",e),n.push(sl(t.slice(r))),n}function al(e){_t("string"===typeof e,"invalid ENS name; not a string","name",e),_t(e.length,"invalid ENS name (empty label)","name",e);let t=il;const n=ol(e);for(;n.length;)t=Pr(Kt([t,Pr(n.pop())]));return Wt(t)}function cl(e,t){const n=null!=t?t:63;return _t(n<=255,"DNS encoded label cannot exceed 255","length",n),Wt(Kt(ol(e).map(t=>{_t(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}il.fill(0);class ll extends sr{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nr(this.buffer)}update(e){Hn(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=ir(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=nr(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hn(this),qn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=nr(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const ul=(e,t,n)=>e&t^~e&n,hl=(e,t,n)=>e&t^e&n^t&n,dl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pl=new Uint32Array(64);class gl extends ll{constructor(){super(64,32,8,!1),this.A=0|fl[0],this.B=0|fl[1],this.C=0|fl[2],this.D=0|fl[3],this.E=0|fl[4],this.F=0|fl[5],this.G=0|fl[6],this.H=0|fl[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)pl[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=pl[u-15],t=pl[u-2],n=rr(e,7)^rr(e,18)^e>>>3,r=rr(t,17)^rr(t,19)^t>>>10;pl[u]=r+pl[u-7]+n+pl[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(rr(o,6)^rr(o,11)^rr(o,25))+ul(o,a,c)+dl[u]+pl[u]|0,t=(rr(n,2)^rr(n,13)^rr(n,22))+hl(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){pl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ml=or(()=>new gl),[yl,wl]=(()=>$n.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),bl=new Uint32Array(80),vl=new Uint32Array(80);class El extends ll{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)bl[w]=e.getUint32(t),vl[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|bl[w-15],t=0|vl[w-15],n=$n.rotrSH(e,t,1)^$n.rotrSH(e,t,8)^$n.shrSH(e,t,7),r=$n.rotrSL(e,t,1)^$n.rotrSL(e,t,8)^$n.shrSL(e,t,7),i=0|bl[w-2],s=0|vl[w-2],o=$n.rotrSH(i,s,19)^$n.rotrBH(i,s,61)^$n.shrSH(i,s,6),a=$n.rotrSL(i,s,19)^$n.rotrBL(i,s,61)^$n.shrSL(i,s,6),c=$n.add4L(r,a,vl[w-7],vl[w-16]),l=$n.add4H(c,n,o,bl[w-7],bl[w-16]);bl[w]=0|l,vl[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const e=$n.rotrSH(u,h,14)^$n.rotrSH(u,h,18)^$n.rotrBH(u,h,41),t=$n.rotrSL(u,h,14)^$n.rotrSL(u,h,18)^$n.rotrBL(u,h,41),b=u&d^~u&p,v=h&f^~h&g,E=$n.add5L(y,t,v,wl[w],vl[w]),x=$n.add5H(E,m,e,b,yl[w],bl[w]),A=0|E,S=$n.rotrSH(n,r,28)^$n.rotrBH(n,r,34)^$n.rotrBH(n,r,39),k=$n.rotrSL(n,r,28)^$n.rotrBL(n,r,34)^$n.rotrBL(n,r,39),I=n&i^n&o^i&o,P=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=$n.add(0|c,0|l,0|x,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=$n.add3L(A,k,P);n=$n.add3H(O,x,S,I),r=0|O}({h:n,l:r}=$n.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=$n.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=$n.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=$n.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=$n.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=$n.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=$n.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=$n.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){bl.fill(0),vl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xl=or(()=>new El);const Al=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Al.crypto||Al.msCrypto;function Sl(e){switch(e){case"sha256":return ml.create();case"sha512":return xl.create()}_t(!1,"invalid hashing algorithm name","algorithm",e)}const kl=function(e){return Sl("sha256").update(e).digest()},Il=function(e){return Sl("sha512").update(e).digest()};let Pl=kl,Ol=Il,Nl=!1,Cl=!1;function Rl(e){const t=Ft(e,"data");return Wt(Pl(t))}function Tl(e){const t=Ft(e,"data");return Wt(Ol(t))}Rl._=kl,Rl.lock=function(){Nl=!0},Rl.register=function(e){if(Nl)throw new Error("sha256 is locked");Pl=e},Object.freeze(Rl),Tl._=Il,Tl.lock=function(){Cl=!0},Tl.register=function(e){if(Cl)throw new Error("sha512 is locked");Ol=e},Object.freeze(Rl);BigInt(0);const _l=BigInt(1),Bl=BigInt(2),jl=e=>e instanceof Uint8Array,Ul=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ll(e){if(!jl(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Ul[e[n]];return t}function Dl(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Ml(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Fl(e){return Dl(Ll(e))}function zl(e){if(!jl(e))throw new Error("Uint8Array expected");return Dl(Ll(Uint8Array.from(e).reverse()))}function Hl(e,t){return Ml(e.toString(16).padStart(2*t,"0"))}function ql(e,t){return Hl(e,t).reverse()}function Vl(e,t,n){let r;if("string"===typeof t)try{r=Ml(t)}catch(uT){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(uT))}else{if(!jl(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!jl(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}const Kl=e=>(Bl<<BigInt(e-1))-_l,Gl=e=>new Uint8Array(e),Ql=e=>Uint8Array.from(e);function Jl(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Gl(e),i=Gl(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gl();i=a(Ql([0]),e),r=a(),0!==e.length&&(i=a(Ql([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Wl(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}const Yl={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Zl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Yl[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(n))};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Xl=BigInt(0),$l=BigInt(1),eu=BigInt(2),tu=BigInt(3),nu=BigInt(4),ru=BigInt(5),iu=BigInt(8);BigInt(9),BigInt(16);function su(e,t){const n=e%t;return n>=Xl?n:t+n}function ou(e,t,n){if(n<=Xl||t<Xl)throw new Error("Expected power/modulo > 0");if(n===$l)return Xl;let r=$l;for(;t>Xl;)t&$l&&(r=r*e%n),e=e*e%n,t>>=$l;return r}function au(e,t,n){let r=e;for(;t-- >Xl;)r*=r,r%=n;return r}function cu(e,t){if(e===Xl||t<=Xl)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=su(e,t),r=t,i=Xl,s=$l,o=$l,a=Xl;for(;n!==Xl;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==$l)throw new Error("invert: does not exist");return su(i,t)}function lu(e){if(e%nu===tu){const t=(e+$l)/nu;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%iu===ru){const t=(e-ru)/iu;return function(e,n){const r=e.mul(n,eu),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,eu),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-$l)/eu;let n,r,i;for(n=e-$l,r=0;n%eu===Xl;n/=eu,r++);for(i=eu;i<e&&ou(i,t,e)!==e-$l;i++);if(1===r){const t=(e+$l)/nu;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+$l)/eu;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,$l<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const uu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hu(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function du(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function fu(e){const t=du(e);return t+Math.ceil(t/2)}class pu extends sr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,zn(e);const n=ir(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Hn(this),this.iHash.update(e),this}digestInto(e){Hn(this),Fn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gu=(e,t,n)=>new pu(e,t).update(n).digest();gu.create=(e,t)=>new pu(e,t);const mu=BigInt(0),yu=BigInt(1);function wu(e){return Zl(e.Fp,uu.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Zl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,s.A)((0,s.A)((0,s.A)({},hu(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:bu,aT:vu}=e,Eu={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Eu;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:bu(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Eu,n="string"===typeof e?vu(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Eu._parseInt(n.subarray(2)),{d:o,l:a}=Eu._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return"30".concat(n(o+s+4),"02").concat(c).concat(i,"02").concat(a).concat(r)}},xu=BigInt(0),Au=BigInt(1),Su=(BigInt(2),BigInt(3));BigInt(4);function ku(e){const t=function(e){const t=wu(e);Zl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,s.A)({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Wl(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&xu<e&&e<t.n}function c(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Ll(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Fl(Vl("private key",e,r))}catch(a){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(o=su(o,s)),c(o),o}const u=new Map;function h(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Vl("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Su),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),l=n.add(l,h),p=n.mul(o,a),p=n.add(p,p),h=n.mul(p,g),c=n.sub(c,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){h(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,Su);let m=n.mul(r,o),y=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(m,y),b=n.sub(b,v),v=n.add(r,s);let E=n.add(o,c);return v=n.mul(v,E),E=n.add(m,w),v=n.sub(v,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(y,w),E=n.sub(E,l),f=n.mul(p,v),l=n.mul(g,w),f=n.add(l,f),l=n.sub(y,f),f=n.add(y,f),u=n.mul(l,f),y=n.add(m,m),y=n.add(y,m),w=n.mul(p,w),v=n.mul(g,v),y=n.add(y,w),w=n.sub(m,w),w=n.mul(p,w),v=n.add(v,w),m=n.mul(y,v),u=n.add(u,m),m=n.mul(E,v),l=n.mul(b,l),l=n.sub(l,m),m=n.mul(b,y),f=n.mul(E,f),f=n.add(f,m),new d(l,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,u,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)})}multiplyUnsafe(e){const r=d.ZERO;if(e===xu)return r;if(c(e),e===Au)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:l}=i.splitScalar(e),u=r,h=r,f=this;for(;o>xu||l>xu;)o&Au&&(u=u.add(f)),l&Au&&(h=h.add(f)),f=f.double(),o>>=Au,l>>=Au;return s&&(u=u.negate()),a&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){c(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(c);l=p.constTimeNegate(e,l),h=p.constTimeNegate(a,h),h=new d(n.mul(h.px,o.beta),h.py,h.pz),r=l.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==xu&&t!==Au&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Au)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Au?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ll(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>mu;)n&yu&&(r=r.add(i)),i=i.double(),n>>=yu;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=d,r>a&&(r-=h,s+=yu);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?l=l.add(n(p,i[o])):c=c.add(n(g,i[f]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function Iu(e){const t=function(e){const t=wu(e);return Zl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,s.A)({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return su(e,r)}function c(e){return cu(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=ku((0,s.A)((0,s.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Wl;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=Fl(s);if(!(xu<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=h(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Au)===Au)&&(i=n.neg(i)),{x:e,y:i}}var a}})),f=e=>Ll(Hl(e,t.nByteLength));function p(e){return e>r>>Au}const g=(e,t,n)=>Fl(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Vl("compactSignature",e,2*n),new m(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Eu.toSig(Vl("DER",e));return new m(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,o=v(Vl("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=l.fromHex(h+f(u)),p=c(u),g=a(-o*p),m=a(i*p),y=l.BASE.multiplyAndAddUnsafe(d,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ml(this.toDERHex())}toDERHex(){return Eu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ml(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=fu(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=du(t),s=fu(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));const o=su(n?Fl(e):zl(e),t-$l)+$l;return n?ql(o,i):Hl(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function w(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=Fl(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return a(b(e))},E=Kl(t.nBitLength);function x(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(xu<=e&&e<E))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Hl(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=Vl("msgHash",e),f&&(e=Vl("prehashed msgHash",s(e)));const y=v(e),w=u(r),E=[x(w),x(y)];if(null!=g){const e=!0===g?o(n.BYTES):g;E.push(Vl("extraEntropy",e))}const A=Wl(...E),k=y;return{seed:A,k2sig:function(e){const t=b(e);if(!d(t))return;const n=c(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===xu)return;const s=a(n*a(k+i*w));if(s===xu)return;let o=(r.x===i?0:2)|Number(r.y&Au),u=s;return h&&p(s)&&(u=function(e){return p(e)?a(-e):e}(s),o^=1),new m(i,u,o)}}}const S={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(w(e))throw new Error("first arg must be private key");if(!w(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:s}=A(e,n,r),o=t;return Jl(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const o=e;if(n=Vl("msgHash",n),r=Vl("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=s;let d,f;try{if("string"===typeof o||o instanceof Uint8Array)try{d=m.fromDER(o)}catch(A){if(!(A instanceof Eu.Err))throw A;d=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new m(e,t)}}f=l.fromHex(r)}catch(S){if("PARSE"===S.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(n=t.hash(n));const{r:p,s:g}=d,y=v(n),w=c(g),b=a(y*w),E=a(p*w),x=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,E))||void 0===i?void 0:i.toAffine();return!!x&&a(x.x)===p},ProjectivePoint:l,Signature:m,utils:y}}function Pu(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return gu(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!tr(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}(...r))},randomBytes:ar}}const Ou=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Cu=BigInt(1),Ru=BigInt(2),Tu=(e,t)=>(e+t/Ru)/t;function _u(e){const t=Ou,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=au(u,n,t)*u%t,d=au(h,n,t)*u%t,f=au(d,Ru,t)*l%t,p=au(f,i,t)*f%t,g=au(p,s,t)*p%t,m=au(g,a,t)*g%t,y=au(m,c,t)*m%t,w=au(y,a,t)*g%t,b=au(w,n,t)*u%t,v=au(b,o,t)*p%t,E=au(v,r,t)*l%t,x=au(E,Ru,t);if(!Bu.eql(Bu.sqr(x),e))throw new Error("Cannot find square root");return x}const Bu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Xl)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:s}=hu(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=lu(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Kl(i),ZERO:Xl,ONE:$l,create:t=>su(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return Xl<=t&&t<e},is0:e=>e===Xl,isOdd:e=>(e&$l)===$l,neg:t=>su(-t,e),eql:(e,t)=>e===t,sqr:t=>su(t*t,e),add:(t,n)=>su(t+n,e),sub:(t,n)=>su(t-n,e),mul:(t,n)=>su(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Xl)throw new Error("Expected power > 0");if(n===Xl)return e.ONE;if(n===$l)return t;let r=e.ONE,i=t;for(;n>Xl;)n&$l&&(r=e.mul(r,i)),i=e.sqr(i),n>>=$l;return r}(a,e,t),div:(t,n)=>su(t*cu(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>cu(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ql(e,s):Hl(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return n?zl(e):Fl(e)}});return Object.freeze(a)}(Ou,void 0,void 0,{sqrt:_u}),ju=function(e,t){const n=t=>Iu((0,s.A)((0,s.A)({},e),Pu(t)));return Object.freeze((0,s.A)((0,s.A)({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:Bu,n:Nu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Nu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Cu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Tu(s*e,t),c=Tu(-r*e,t);let l=su(e-a*n-c*i,t),u=su(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},ml);BigInt(0);ju.ProjectivePoint;var Uu=new WeakMap;class Lu{constructor(e){Et(this,Uu,void 0),_t(32===Gt(e),"invalid private key","privateKey","[REDACTED]"),St(Uu,this,Wt(e))}get privateKey(){return At(Uu,this)}get publicKey(){return Lu.computePublicKey(At(Uu,this))}get compressedPublicKey(){return Lu.computePublicKey(At(Uu,this),!0)}sign(e){_t(32===Gt(e),"invalid digest length","digest",e);const t=ju.sign(zt(e),zt(At(Uu,this)),{lowS:!0});return eo.from({r:ln(t.r,32),s:ln(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Lu.computePublicKey(e);return Wt(ju.getSharedSecret(zt(At(Uu,this)),Ft(t),!1))}static computePublicKey(e,t){let n=Ft(e,"key");if(32===n.length){return Wt(ju.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Wt(ju.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){_t(32===Gt(e),"invalid digest length","digest",e);const n=eo.from(t);let r=ju.Signature.fromCompact(zt(Kt([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(zt(e));return _t(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=ju.ProjectivePoint.fromHex(Lu.computePublicKey(e).substring(2)),i=ju.ProjectivePoint.fromHex(Lu.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function Du(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Mu(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function Fu(e,t,n,r){const i=[];for(;n<t+1+r;){const s=zu(e,n);i.push(s.result),Tt((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function zu(e,t){Tt(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{Tt(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=Mu(e,t+1,r);return n(t+1+r+i),Fu(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Fu(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=Mu(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:Wt(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:Wt(e.slice(t+1,t+1+r))}}return{consumed:1,result:Du(e[t])}}function Hu(e){const t=Ft(e,"data"),n=zu(t,0);return _t(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function qu(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Vu(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(Vu(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=qu(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(Ft(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=qu(t.length);return n.unshift(183+n.length),n.concat(t)}const Wu="0123456789abcdef";function Ku(e){let t="0x";for(const n of Vu(e))t+=Wu[n>>4],t+=Wu[15&n];return t}function Gu(e,t){return function(e){let t;return t="string"===typeof e?Lu.computePublicKey(e,!1):e.publicKey,Br(Pr("0x"+t.substring(4)).substring(26))}(Lu.recoverPublicKey(e,t))}const Qu=BigInt(0),Ju=BigInt(2),Yu=BigInt(27),Zu=BigInt(28),Xu=BigInt(35),$u=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eh=131072;function th(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Rl(t).substring(4),"0x"+n}function nh(e){return"0x"===e?null:Br(e)}function rh(e,t){try{return Fs(e)}catch(n){_t(!1,n.message,t,e)}}function ih(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error("authorization[".concat(n,"]: invalid array"));if(6!==r.length)throw new Error("authorization[".concat(n,"]: wrong length"));if(!r[1])throw new Error("authorization[".concat(n,"]: null address"));t.push({address:nh(r[1]),nonce:oh(r[2],"nonce"),chainId:oh(r[0],"chainId"),signature:eo.from({yParity:sh(r[3],"yParity"),r:Yt(r[4],32),s:Yt(r[5],32)})})}return t}catch(n){_t(!1,n.message,t,e)}}function sh(e,t){return"0x"===e?0:cn(e,t)}function oh(e,t){if("0x"===e)return Qu;const n=rn(e,t);return _t(n<=$u,"value exceeds uint size",t,n),n}function ah(e,t){const n=rn(e,"value"),r=un(n);return _t(r.length<=32,"value too large","tx.".concat(t),n),r}function ch(e){return Fs(e).map(e=>[e.address,e.storageKeys])}function lh(e,t){_t(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)_t(Ht(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function uh(e,t){let n;try{if(n=sh(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){_t(!1,"invalid yParity","yParity",t[0])}const r=Yt(t[1],32),i=Yt(t[2],32),s=eo.from({r:r,s:i,yParity:n});e.signature=s}var hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,yh=new WeakMap,wh=new WeakMap,bh=new WeakMap,vh=new WeakMap,Eh=new WeakMap,xh=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,kh=new WeakMap,Ih=new WeakMap,Ph=new WeakMap,Oh=new WeakSet;class Nh{get type(){return At(hh,this)}set type(e){switch(e){case null:St(hh,this,null);break;case 0:case"legacy":St(hh,this,0);break;case 1:case"berlin":case"eip-2930":St(hh,this,1);break;case 2:case"london":case"eip-1559":St(hh,this,2);break;case 3:case"cancun":case"eip-4844":St(hh,this,3);break;case 4:case"pectra":case"eip-7702":St(hh,this,4);break;default:_t(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=At(dh,this);return null==e&&3===this.type?Ho:e}set to(e){St(dh,this,null==e?null:Br(e))}get nonce(){return At(ph,this)}set nonce(e){St(ph,this,cn(e,"value"))}get gasLimit(){return At(gh,this)}set gasLimit(e){St(gh,this,rn(e))}get gasPrice(){const e=At(mh,this);return null!=e||0!==this.type&&1!==this.type?e:Qu}set gasPrice(e){St(mh,this,null==e?null:rn(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=At(yh,this);return null==e?2===this.type||3===this.type?Qu:null:e}set maxPriorityFeePerGas(e){St(yh,this,null==e?null:rn(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=At(wh,this);return null==e?2===this.type||3===this.type?Qu:null:e}set maxFeePerGas(e){St(wh,this,null==e?null:rn(e,"maxFeePerGas"))}get data(){return At(fh,this)}set data(e){St(fh,this,Wt(e))}get value(){return At(bh,this)}set value(e){St(bh,this,rn(e,"value"))}get chainId(){return At(vh,this)}set chainId(e){St(vh,this,rn(e))}get signature(){return At(Eh,this)||null}set signature(e){St(Eh,this,null==e?null:eo.from(e))}get accessList(){const e=At(xh,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){St(xh,this,null==e?null:Fs(e))}get authorizationList(){const e=At(Ph,this)||null;return null==e&&4===this.type?[]:e}set authorizationList(e){St(Ph,this,null==e?null:e.map(e=>to(e)))}get maxFeePerBlobGas(){const e=At(Ah,this);return null==e&&3===this.type?Qu:e}set maxFeePerBlobGas(e){St(Ah,this,null==e?null:rn(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=At(Sh,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){_t(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)_t(Ht(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}St(Sh,this,e)}get blobs(){return null==At(Ih,this)?null:At(Ih,this).map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void St(Ih,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(qt(i)){Tt(At(kh,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=Ft(i);if(_t(e.length<=eh,"blob is too large","blobs[".concat(r,"]"),i),e.length!==eh){const t=new Uint8Array(eh);t.set(e),e=t}const s=At(kh,this).blobToKzgCommitment(e),o=Wt(At(kh,this).computeBlobKzgProof(e,s));t.push({data:Wt(e),commitment:Wt(s),proof:o}),n.push(th(1,s))}else{const e=Wt(i.commitment);t.push({data:Wt(i.data),commitment:e,proof:Wt(i.proof)}),n.push(th(1,e))}}St(Ih,this,t),St(Sh,this,n)}get kzg(){return At(kh,this)}set kzg(e){St(kh,this,null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return Ft(e.blobToKzgCommitment(Wt(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return Ft(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return Ft(e.blobToKZGCommitment(Wt(t)));_t(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?Ft(e.computeBlobProof(Wt(t),Wt(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?Ft(e.computeBlobKZGProof(Wt(t),Wt(n))):void _t(!1,"unsupported KZG library","kzg",e)}}(e))}constructor(){Lt(this,Oh),Et(this,hh,void 0),Et(this,dh,void 0),Et(this,fh,void 0),Et(this,ph,void 0),Et(this,gh,void 0),Et(this,mh,void 0),Et(this,yh,void 0),Et(this,wh,void 0),Et(this,bh,void 0),Et(this,vh,void 0),Et(this,Eh,void 0),Et(this,xh,void 0),Et(this,Ah,void 0),Et(this,Sh,void 0),Et(this,kh,void 0),Et(this,Ih,void 0),Et(this,Ph,void 0),St(hh,this,null),St(dh,this,null),St(ph,this,0),St(gh,this,Qu),St(mh,this,null),St(yh,this,null),St(wh,this,null),St(fh,this,"0x"),St(bh,this,Qu),St(vh,this,Qu),St(Eh,this,null),St(xh,this,null),St(Ah,this,null),St(Sh,this,null),St(kh,this,null),St(Ih,this,null),St(Ph,this,null)}get hash(){return null==this.signature?null:Pr(xt(Oh,this,Ch).call(this,!0,!1))}get unsignedHash(){return Pr(this.unsignedSerialized)}get from(){return null==this.signature?null:Gu(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Lu.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return xt(Oh,this,Ch).call(this,!0,!0)}get unsignedSerialized(){return xt(Oh,this,Ch).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=At(Ah,this)||At(Sh,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Tt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Tt(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Tt(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Nh.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Nh;if("string"===typeof e){const t=Ft(e);if(t[0]>=127)return Nh.from(function(e){const t=Hu(e);_t(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:sh(t[0],"nonce"),gasPrice:oh(t[1],"gasPrice"),gasLimit:oh(t[2],"gasLimit"),to:nh(t[3]),value:oh(t[4],"value"),data:Wt(t[5]),chainId:Qu};if(6===t.length)return n;const r=oh(t[6],"v"),i=oh(t[7],"r"),s=oh(t[8],"s");if(i===Qu&&s===Qu)n.chainId=r;else{let e=(r-Xu)/Ju;e<Qu&&(e=Qu),n.chainId=e,_t(e!==Qu||r===Yu||r===Zu,"non-canonical legacy v","v",t[6]),n.signature=eo.from({r:Yt(t[7],32),s:Yt(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Nh.from(function(e){const t=Hu(Ft(e).slice(1));_t(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Wt(e));const n={type:1,chainId:oh(t[0],"chainId"),nonce:sh(t[1],"nonce"),gasPrice:oh(t[2],"gasPrice"),gasLimit:oh(t[3],"gasLimit"),to:nh(t[4]),value:oh(t[5],"value"),data:Wt(t[6]),accessList:rh(t[7],"accessList")};return 8===t.length||uh(n,t.slice(8)),n}(t));case 2:return Nh.from(function(e){const t=Hu(Ft(e).slice(1));_t(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Wt(e));const n={type:2,chainId:oh(t[0],"chainId"),nonce:sh(t[1],"nonce"),maxPriorityFeePerGas:oh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:oh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:oh(t[4],"gasLimit"),to:nh(t[5]),value:oh(t[6],"value"),data:Wt(t[7]),accessList:rh(t[8],"accessList")};return 9===t.length||uh(n,t.slice(9)),n}(t));case 3:return Nh.from(function(e){let t=Hu(Ft(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];_t(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),_t(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),_t(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),_t(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),_t(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}_t(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",Wt(e));const i={type:3,chainId:oh(t[0],"chainId"),nonce:sh(t[1],"nonce"),maxPriorityFeePerGas:oh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:oh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:oh(t[4],"gasLimit"),to:nh(t[5]),value:oh(t[6],"value"),data:Wt(t[7]),accessList:rh(t[8],"accessList"),maxFeePerBlobGas:oh(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),_t(null!=i.to,"invalid address for transaction type: ".concat(n),"data",e),_t(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)_t(Ht(i.blobVersionedHashes[s],32),"invalid blobVersionedHash at index ".concat(s,": must be length 32"),"data",e);return 11===t.length||uh(i,t.slice(11)),i}(t));case 4:return Nh.from(function(e){const t=Hu(Ft(e).slice(1));_t(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",Wt(e));const n={type:4,chainId:oh(t[0],"chainId"),nonce:sh(t[1],"nonce"),maxPriorityFeePerGas:oh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:oh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:oh(t[4],"gasLimit"),to:nh(t[5]),value:oh(t[6],"value"),data:Wt(t[7]),accessList:rh(t[8],"accessList"),authorizationList:ih(t[9],"authorizationList")};return 10===t.length||uh(n,t.slice(10)),n}(t))}Tt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Nh;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=eo.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(_t(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),_t(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(_t(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),_t(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function Ch(e,t){Tt(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[ah(e.nonce,"nonce"),ah(e.gasPrice||0,"gasPrice"),ah(e.gasLimit,"gasLimit"),e.to||"0x",ah(e.value,"value"),e.data];let r=Qu;if(e.chainId!=Qu)r=rn(e.chainId,"tx.chainId"),_t(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Qu&&(n.push(un(r)),n.push("0x"),n.push("0x")),Ku(n);let i=BigInt(27+t.yParity);return r!==Qu?i=eo.getChainIdV(r,t.v):BigInt(t.v)!==i&&_t(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(un(i)),n.push(un(t.r)),n.push(un(t.s)),Ku(n)}(this,n);case 1:return function(e,t){const n=[ah(e.chainId,"chainId"),ah(e.nonce,"nonce"),ah(e.gasPrice||0,"gasPrice"),ah(e.gasLimit,"gasLimit"),e.to||"0x",ah(e.value,"value"),e.data,ch(e.accessList||[])];return t&&(n.push(ah(t.yParity,"recoveryParam")),n.push(un(t.r)),n.push(un(t.s))),Kt(["0x01",Ku(n)])}(this,n);case 2:return function(e,t){const n=[ah(e.chainId,"chainId"),ah(e.nonce,"nonce"),ah(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ah(e.maxFeePerGas||0,"maxFeePerGas"),ah(e.gasLimit,"gasLimit"),e.to||"0x",ah(e.value,"value"),e.data,ch(e.accessList||[])];return t&&(n.push(ah(t.yParity,"yParity")),n.push(un(t.r)),n.push(un(t.s))),Kt(["0x02",Ku(n)])}(this,n);case 3:return function(e,t,n){const r=[ah(e.chainId,"chainId"),ah(e.nonce,"nonce"),ah(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ah(e.maxFeePerGas||0,"maxFeePerGas"),ah(e.gasLimit,"gasLimit"),e.to||Ho,ah(e.value,"value"),e.data,ch(e.accessList||[]),ah(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),lh(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(ah(t.yParity,"yParity")),r.push(un(t.r)),r.push(un(t.s)),n)?Kt(["0x03",Ku([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])]):Kt(["0x03",Ku(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[ah(e.chainId,"chainId"),ah(e.nonce,"nonce"),ah(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ah(e.maxFeePerGas||0,"maxFeePerGas"),ah(e.gasLimit,"gasLimit"),e.to||"0x",ah(e.value,"value"),e.data,ch(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[ah(e.chainId,"chainId"),e.address,ah(e.nonce,"nonce"),ah(e.signature.yParity,"yParity"),un(e.signature.r),un(e.signature.s)]))];var r;return t&&(n.push(ah(t.yParity,"yParity")),n.push(un(t.r)),n.push(un(t.s))),Kt(["0x04",Ku(n)])}(this,n)}Tt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const Rh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Th=BigInt(58);var _h;function Bh(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):_t(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class jh{constructor(e){(0,Dt.A)(this,"name",void 0),Pt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Uh=new RegExp("^(ipfs)://(.*)$","i"),Lh=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Uh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Dh=new WeakMap,Mh=new WeakMap,Fh=new WeakSet;class zh{constructor(e,t,n){Lt(this,Fh),(0,Dt.A)(this,"provider",void 0),(0,Dt.A)(this,"address",void 0),(0,Dt.A)(this,"name",void 0),Et(this,Dh,void 0),Et(this,Mh,void 0),Pt(this,{provider:e,address:t,name:n}),St(Dh,this,null),St(Mh,this,new Ya(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==At(Dh,this)&&St(Dh,this,(async()=>{try{return await At(Mh,this).supportsInterface("0x9061b923")}catch(e){if(Nt(e,"CALL_EXCEPTION"))return!1;throw St(Dh,this,null),e}})()),await At(Dh,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await xt(Fh,this,Hh).call(this,"addr(bytes32)");return null==e||e===Ho?null:e}catch(i){if(Nt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await xt(Fh,this,Hh).call(this,"addr(bytes32,uint)",[t]);if(Ht(n,20))return Br(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof jh&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await xt(Fh,this,Hh).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;Tt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await xt(Fh,this,Hh).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await xt(Fh,this,Hh).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=Ft(e);let n=an(t),r="";for(;n;)r=Rh[Number(n%Th)]+r,n/=Th;for(let i=0;i<t.length&&!t[i];i++)r=Rh[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);Tt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Lh.length;r++){const i=n.match(Lh[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=Bh(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:"!".concat(s,"caip"),value:i[2]||""}),{url:null,linkage:e};const c=a[1],l=new Ya(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(c);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(o,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](c);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",ln(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=Bh(u)),e.push({type:"metadata-url",value:u});let h={};const d=await new To(u).send();d.assertOk();try{h=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:Wt(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let f=h.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Uh))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=Bh(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return Tt(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await qh.call(zh,e,n);if(null!=r){const i=new zh(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}async function Hh(e,t){t=(t||[]).slice();const n=At(Mh,this).interface;t.unshift(al(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Tt(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[cl(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await At(Mh,this)[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Nt(i,"CALL_EXCEPTION"))throw i}return null}async function qh(e,t){const n=await _h.getEnsAddress(e);try{const r=new Ya(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(al(t),{enableCcipRead:!0});return i===Ho?null:i}catch(r){throw r}}_h=zh;const Vh=BigInt(0);function Wh(e,t){return function(n){return null==n?t:e(n)}}function Kh(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function Gh(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){const e=i instanceof Error?i.message:"not-an-error";Tt(!1,"invalid value for value.".concat(s," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function Qh(e){return _t(Ht(e,!0),"invalid data","value",e),e}function Jh(e){return _t(Ht(e,32),"invalid hash","value",e),e}const Yh=Gh({address:Br,blockHash:Jh,blockNumber:cn,data:Qh,index:cn,removed:Wh(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}_t(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},!1),topics:Kh(Jh),transactionHash:Jh,transactionIndex:cn},{index:["logIndex"]});const Zh=Gh({hash:Wh(Jh),parentHash:Jh,parentBeaconBlockRoot:Wh(Jh,null),number:cn,timestamp:cn,nonce:Wh(Qh),difficulty:rn,gasLimit:rn,gasUsed:rn,stateRoot:Wh(Jh,null),receiptsRoot:Wh(Jh,null),blobGasUsed:Wh(rn,null),excessBlobGas:Wh(rn,null),miner:Wh(Br),prevRandao:Wh(Jh,null),extraData:Qh,baseFeePerGas:Wh(rn)},{prevRandao:["mixHash"]});const Xh=Gh({transactionIndex:cn,blockNumber:cn,transactionHash:Jh,address:Br,topics:Kh(Jh),data:Qh,index:cn,blockHash:Jh},{index:["logIndex"]});const $h=Gh({to:Wh(Br,null),from:Wh(Br,null),contractAddress:Wh(Br,null),index:cn,root:Wh(Wt),gasUsed:rn,blobGasUsed:Wh(rn,null),logsBloom:Wh(Qh),blockHash:Jh,hash:Jh,logs:Kh(function(e){return Xh(e)}),blockNumber:cn,cumulativeGasUsed:rn,effectiveGasPrice:Wh(rn),blobGasPrice:Wh(rn,null),status:Wh(cn),type:Wh(cn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function ed(e){e.to&&rn(e.to)===Vh&&(e.to="0x0000000000000000000000000000000000000000");const t=Gh({hash:Jh,index:Wh(cn,void 0),type:e=>"0x"===e||null==e?0:cn(e),accessList:Wh(Fs,null),blobVersionedHashes:Wh(Kh(Jh,!0),null),authorizationList:Wh(Kh(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:Br(e.address),chainId:rn(e.chainId),nonce:rn(e.nonce),signature:eo.from(t)}},!1),null),blockHash:Wh(Jh,null),blockNumber:Wh(cn,null),transactionIndex:Wh(cn,null),from:Br,gasPrice:Wh(rn),maxPriorityFeePerGas:Wh(rn),maxFeePerGas:Wh(rn),maxFeePerBlobGas:Wh(rn,null),gasLimit:rn,to:Wh(Br,null),value:rn,nonce:cn,data:Qh,creates:Wh(Br,null),chainId:Wh(rn,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Br(e.from);let n=rn(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Br(Qt(Pr(Ku([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=eo.from(e.signature):t.signature=eo.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&rn(t.blockHash)===Vh&&(t.blockHash=null),t}class td{constructor(e){(0,Dt.A)(this,"name",void 0),Pt(this,{name:e})}clone(){return new td(this.name)}}class nd extends td{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),(0,Dt.A)(this,"effectiveBlock",void 0),(0,Dt.A)(this,"txBase",void 0),(0,Dt.A)(this,"txCreate",void 0),(0,Dt.A)(this,"txDataZero",void 0),(0,Dt.A)(this,"txDataNonzero",void 0),(0,Dt.A)(this,"txAccessListStorageKey",void 0),(0,Dt.A)(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),_t("number"===typeof i,"invalud value for ".concat(e),"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),Pt(this,n)}clone(){return new nd(this.effectiveBlock,this)}}class rd extends td{constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,Dt.A)(this,"address",void 0),(0,Dt.A)(this,"targetNetwork",void 0),Pt(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new rd(this.address,this.targetNetwork)}}var id=new WeakMap,sd=new WeakMap;class od extends td{get url(){return At(id,this)}get processFunc(){return At(sd,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),Et(this,id,void 0),Et(this,sd,void 0),St(id,this,e),St(sd,this,t)}clone(){return this}}const ad=new Map;var cd=new WeakMap,ld=new WeakMap,ud=new WeakMap;class hd{constructor(e,t){Et(this,cd,void 0),Et(this,ld,void 0),Et(this,ud,void 0),St(cd,this,e),St(ld,this,rn(t)),St(ud,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return At(cd,this)}set name(e){St(cd,this,e)}get chainId(){return At(ld,this)}set chainId(e){St(ld,this,rn(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===rn(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===rn(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===rn(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(At(ud,this).values())}attachPlugin(e){if(At(ud,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return At(ud,this).set(e.name,e.clone()),this}getPlugin(e){return At(ud,this).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new hd(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new nd;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Fs(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(pd)return;function e(e,t,n){const r=function(){const r=new hd(e,t);return null!=n.ensNetwork&&r.attachPlugin(new rd(null,n.ensNetwork)),r.attachPlugin(new nd),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};hd.register(e,r),hd.register(t,r),n.altNames&&n.altNames.forEach(e=>{hd.register(e,r)})}pd=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[fd("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[fd("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return hd.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=ad.get(e);if(t)return t();if("bigint"===typeof e)return new hd("unknown",e);_t(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){_t("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new hd(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new rd(e.ensAddress,e.ensNetwork)),t}_t(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=ad.get(e);n&&_t(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),ad.set(e,t)}}function dd(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function fd(e){return new od(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:dd(s.maxFee,9),maxPriorityFeePerGas:dd(s.maxPriorityFee,9)}}catch(i){Tt(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:i})}})}let pd=!1;function gd(e){return JSON.parse(JSON.stringify(e))}var md=new WeakMap,yd=new WeakMap,wd=new WeakMap,bd=new WeakMap,vd=new WeakSet;class Ed{constructor(e){Lt(this,vd),Et(this,md,void 0),Et(this,yd,void 0),Et(this,wd,void 0),Et(this,bd,void 0),St(md,this,e),St(yd,this,null),St(wd,this,4e3),St(bd,this,-2)}get pollingInterval(){return At(wd,this)}set pollingInterval(e){St(wd,this,e)}start(){At(yd,this)||(St(yd,this,At(md,this)._setTimeout(xt(vd,this,xd).bind(this),At(wd,this))),xt(vd,this,xd).call(this))}stop(){At(yd,this)&&(At(md,this)._clearTimeout(At(yd,this)),St(yd,this,null))}pause(e){this.stop(),e&&St(bd,this,-2)}resume(){this.start()}}async function xd(){try{const e=await At(md,this).getBlockNumber();if(-2===At(bd,this))return void St(bd,this,e);if(e!==At(bd,this)){for(let t=At(bd,this)+1;t<=e;t++){if(null==At(yd,this))return;await At(md,this).emit("block",t)}St(bd,this,e)}}catch(e){}null!=At(yd,this)&&St(yd,this,At(md,this)._setTimeout(xt(vd,this,xd).bind(this),At(wd,this)))}var Ad=new WeakMap,Sd=new WeakMap,kd=new WeakMap;class Id{constructor(e){Et(this,Ad,void 0),Et(this,Sd,void 0),Et(this,kd,void 0),St(Ad,this,e),St(kd,this,!1),St(Sd,this,e=>{this._poll(e,At(Ad,this))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){At(kd,this)||(St(kd,this,!0),At(Sd,this).call(this,-2),At(Ad,this).on("block",At(Sd,this)))}stop(){At(kd,this)&&(St(kd,this,!1),At(Ad,this).off("block",At(Sd,this)))}pause(e){this.stop()}resume(){this.start()}}var Pd=new WeakMap,Od=new WeakMap;class Nd extends Id{constructor(e,t){super(e),Et(this,Pd,void 0),Et(this,Od,void 0),St(Pd,this,t),St(Od,this,-2)}pause(e){e&&St(Od,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(At(Pd,this));null!=n&&(-2===At(Od,this)?St(Od,this,n.number):n.number>At(Od,this)&&(t.emit(At(Pd,this),n.number),St(Od,this,n.number)))}}var Cd=new WeakMap;class Rd extends Id{constructor(e,t){super(e),Et(this,Cd,void 0),St(Cd,this,gd(t))}async _poll(e,t){throw new Error("@TODO")}}var Td=new WeakMap;class _d extends Id{constructor(e,t){super(e),Et(this,Td,void 0),St(Td,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(At(Td,this));n&&t.emit(At(Td,this),n)}}var Bd=new WeakMap,jd=new WeakMap,Ud=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Md=new WeakSet;class Fd{constructor(e,t){Lt(this,Md),Et(this,Bd,void 0),Et(this,jd,void 0),Et(this,Ud,void 0),Et(this,Ld,void 0),Et(this,Dd,void 0),St(Bd,this,e),St(jd,this,gd(t)),St(Ud,this,xt(Md,this,zd).bind(this)),St(Ld,this,!1),St(Dd,this,-2)}start(){At(Ld,this)||(St(Ld,this,!0),-2===At(Dd,this)&&At(Bd,this).getBlockNumber().then(e=>{St(Dd,this,e)}),At(Bd,this).on("block",At(Ud,this)))}stop(){At(Ld,this)&&(St(Ld,this,!1),At(Bd,this).off("block",At(Ud,this)))}pause(e){this.stop(),e&&St(Dd,this,-2)}resume(){this.start()}}async function zd(e){if(-2===At(Dd,this))return;const t=gd(At(jd,this));t.fromBlock=At(Dd,this)+1,t.toBlock=e;const n=await At(Bd,this).getLogs(t);if(0!==n.length)for(const r of n)At(Bd,this).emit(At(jd,this),r),St(Dd,this,r.blockNumber);else At(Dd,this)<e-60&&St(Dd,this,e-60)}const Hd=BigInt(2);function qd(e){return e&&"function"===typeof e.then}function Vd(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class Wd{constructor(e){(0,Dt.A)(this,"name",void 0),Pt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Kd(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Gd(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Ht(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Vd("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Vd("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?Kd(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],i=[],s=n=>{Ht(n)?e.push(n):i.push((async()=>{e.push(await ws(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=Kd(e.map(e=>e.toLowerCase()))}return{filter:r,tag:Vd("event",r),type:"event"}}_t(!1,"unknown ProviderEvent","event",e)}function Qd(){return(new Date).getTime()}const Jd={cacheTimeout:250,pollingInterval:4e3};var Yd=new WeakMap,Zd=new WeakMap,Xd=new WeakMap,$d=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,sf=new WeakMap,of=new WeakMap,af=new WeakMap,cf=new WeakMap,lf=new WeakSet;class uf{constructor(e,t){if(Lt(this,lf),Et(this,Yd,void 0),Et(this,Zd,void 0),Et(this,Xd,void 0),Et(this,$d,void 0),Et(this,ef,void 0),Et(this,tf,void 0),Et(this,nf,void 0),Et(this,rf,void 0),Et(this,sf,void 0),Et(this,of,void 0),Et(this,af,void 0),Et(this,cf,void 0),St(cf,this,Object.assign({},Jd,t||{})),"any"===e)St(tf,this,!0),St(ef,this,null);else if(e){const t=hd.from(e);St(tf,this,!1),St(ef,this,Promise.resolve(t)),setTimeout(()=>{this.emit("network",t,null)},0)}else St(tf,this,!1),St(ef,this,null);St(rf,this,-1),St(nf,this,new Map),St(Yd,this,new Map),St(Zd,this,new Map),St(Xd,this,null),St($d,this,!1),St(sf,this,1),St(of,this,new Map),St(af,this,!1)}get pollingInterval(){return At(cf,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(At(Zd,this).values())}attachPlugin(e){if(At(Zd,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return At(Zd,this).set(e.name,e.connect(this)),this}getPlugin(e){return At(Zd,this).get(e)||null}get disableCcipRead(){return At(af,this)}set disableCcipRead(e){St(af,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],c=t.replace("{sender}",r).replace("{data}",i),l=new To(c);-1===t.indexOf("{data}")&&(l.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let u,h="unknown error";try{u=await l.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(o){}Tt(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}Tt(!1,"error encountered during CCIP fetch: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new la(function(e){const t=Zh(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:ed(e)),t}(e),this)}_wrapLog(e,t){return new ua(function(e){return Yh(e)}(e),this)}_wrapTransactionReceipt(e,t){return new da(function(e){return $h(e)}(e),this)}_wrapTransactionResponse(e,t){return new pa(ed(e),this)}_detectNetwork(){Tt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Tt(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=cn(await xt(lf,this,hf).call(this,{method:"getBlockNumber"}),"%response");return At(rf,this)>=0&&St(rf,this,e),e}_getAddress(e){return ws(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Ht(e)?Ht(e,32)?e:hn(e):("bigint"===typeof e&&(e=cn(e,"blockTag")),"number"===typeof e?e>=0?hn(e):At(rf,this)>=0?hn(At(rf,this)+e):this.getBlockNumber().then(t=>hn(t+e)):void _t(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?Kd(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!==typeof e).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then(e=>r(e[0],e[1],e[2])):r(o,i,s)}_getTransactionRequest(e){const t=aa(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=ws(t[e],this);qd(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);qd(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==At(ef,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw At(ef,this)===e&&St(ef,this,null),t}})();return St(ef,this,e),(await e).clone()}const e=At(ef,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(At(tf,this)?(this.emit("network",n,t),At(ef,this)===e&&St(ef,this,Promise.resolve(n))):Tt(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await It({_block:xt(lf,this,gf).call(this,"latest",!1),gasPrice:(async()=>{try{return rn(await xt(lf,this,hf).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return rn(await xt(lf,this,hf).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*Hd+s),new oa(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new To(n.url),r=await n.processFunc(t,this,e);return new oa(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return qd(t)&&(t=await t),rn(await xt(lf,this,hf).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await It({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await xt(lf,this,ff).call(this,xt(lf,this,df).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return rn(await xt(lf,this,pf).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return cn(await xt(lf,this,pf).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Wt(await xt(lf,this,pf).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=rn(t,"position");return Wt(await xt(lf,this,pf).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await It({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Nh.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await It({network:this.getNetwork(),params:xt(lf,this,gf).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await It({network:this.getNetwork(),params:xt(lf,this,hf).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await It({network:this.getNetwork(),params:xt(lf,this,hf).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await xt(lf,this,hf).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await It({network:this.getNetwork(),result:xt(lf,this,hf).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:Wt(t)}async getLogs(e){let t=this._getFilter(e);qd(t)&&(t=await t);const{network:n,params:r}=await It({network:this.getNetwork(),params:xt(lf,this,hf).call(this,{method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){Tt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await zh.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=al((e=Br(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await zh.getEnsAddress(this),r=new Ya(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===Ho)return null;const s=new Ya(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(Nt(n,"BAD_DATA")&&"0x"===n.value)return null;if(Nt(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",o),i(Rt("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){Tt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=At(of,this).get(e);t&&(t.timer&&clearTimeout(t.timer),At(of,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const i=(St(sf,this,(n=At(sf,this),r=n++,n)),r),s=()=>{At(of,this).delete(i),e()};if(this.paused)At(of,this).set(i,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);At(of,this).set(i,{timer:e,func:s,time:Qd()})}return i}_forEachSubscriber(e){for(const t of At(Yd,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Wd(e.type);case"block":{const e=new Ed(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Nd(this,e.type);case"event":return new Fd(this,e.filter);case"transaction":return new _d(this,e.hash);case"orphan":return new Rd(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of At(Yd,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=At(Xd,this)&&t.pause(At(Xd,this));break}}async on(e,t){const n=await xt(lf,this,yf).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=At(Xd,this)&&n.subscriber.pause(At(Xd,this))),this}async once(e,t){const n=await xt(lf,this,yf).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=At(Xd,this)&&n.subscriber.pause(At(Xd,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await xt(lf,this,mf).call(this,e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:r,once:i}=t;const s=new wa(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i}),0===i.listeners.length&&(i.started&&i.subscriber.stop(),At(Yd,this).delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await xt(lf,this,mf).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of At(Yd,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await xt(lf,this,mf).call(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of At(Yd,this).values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await xt(lf,this,mf).call(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),At(Yd,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await xt(lf,this,yf).call(this,e);n&&r.stop(),At(Yd,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of At(Yd,this))n&&r.stop(),At(Yd,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return At($d,this)}destroy(){this.removeAllListeners();for(const e of At(of,this).keys())this._clearTimeout(e);St($d,this,!0)}get paused(){return null!=At(Xd,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(St(rf,this,-1),null!=At(Xd,this)){if(At(Xd,this)==!!e)return;Tt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),St(Xd,this,!!e);for(const t of At(of,this).values())t.timer&&clearTimeout(t.timer),t.time=Qd()-t.time}resume(){if(null!=At(Xd,this)){this._forEachSubscriber(e=>e.resume()),St(Xd,this,null);for(const e of At(of,this).values()){let t=e.time;t<0&&(t=0),e.time=Qd(),setTimeout(e.func,t)}}}}async function hf(e){const t=At(cf,this).cacheTimeout;if(t<0)return await this._perform(e);const n=Vd(e.method,e);let r=At(nf,this).get(n);return r||(r=this._perform(e),At(nf,this).set(n,r),setTimeout(()=>{At(nf,this).get(n)===r&&At(nf,this).delete(n)},t)),await r}async function df(e,t,n){Tt(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=aa(e);try{return Wt(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&Ct(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===Qt(i.data,0,4)){const e=i.data,s=await ws(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Tt(Gt(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Qt(e,0,32);Tt(Qt(n,0,12)===Qt(Sf,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Qt(n,12);try{const n=[],r=cn(Qt(e,32,64)),i=cn(Qt(e,r,r+32)),s=Qt(e,r+32);for(let e=0;e<i;e++){const t=wf(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){Tt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=bf(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){Tt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Tt(Qt(e,100,128)===Qt(Sf,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Qt(e,96,100);try{const n=bf(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){Tt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(Qt(i.data,4))}catch(i){Tt(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}Tt(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);Tt(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:Kt([o.selector,Af([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await xt(lf,this,df).call(this,c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async function ff(e){const{value:t}=await It({network:this.getNetwork(),value:e});return t}async function pf(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await xt(lf,this,ff).call(this,xt(lf,this,hf).call(this,Object.assign(e,{address:r,blockTag:i})))}async function gf(e,t){if(Ht(e,32))return await xt(lf,this,hf).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await xt(lf,this,hf).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function mf(e,t){let n=await Gd(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Gd({orphan:"drop-log",log:t[0]},this)),At(Yd,this).get(n.tag)||null}async function yf(e){const t=await Gd(e,this),n=t.tag;let r=At(Yd,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},At(Yd,this).set(n,r)}return r}function wf(e,t){try{const n=bf(e,t);if(n)return oi(n)}catch(n){}return null}function bf(e,t){if("0x"===e)return null;try{const n=cn(Qt(e,t,t+32)),r=cn(Qt(e,n,n+32));return Qt(e,n+32,n+32+r)}catch(n){}return null}function vf(e){const t=un(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Ef(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const xf=new Uint8Array([]);function Af(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(xf),n+=32;for(let r=0;r<e.length;r++){const i=Ft(e[r]);t[r]=vf(n),t.push(vf(i.length)),t.push(Ef(i)),n+=32+32*Math.ceil(i.length/32)}return Kt(t)}const Sf="0x0000000000000000000000000000000000000000000000000000000000000000";function kf(e,t){if(e.provider)return e.provider;Tt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function If(e,t){let n=aa(t);if(null!=n.to&&(n.to=ws(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),ws(t,e)]).then(e=>{let[t,n]=e;return _t(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await It(n)}class Pf{constructor(e){(0,Dt.A)(this,"provider",void 0),Pt(this,{provider:e||null})}async getNonce(e){return kf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await If(this,e)}async populateTransaction(e){const t=kf(this,"populateTransaction"),n=await If(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){_t(rn(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||_t(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):_t(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();Tt(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Tt(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):Tt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await It(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await kf(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return kf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return kf(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=kf(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=kf(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Nh.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){Tt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Of=new WeakMap,Nf=new WeakMap,Cf=new WeakMap,Rf=new WeakMap,Tf=new WeakMap,_f=new WeakMap,Bf=new WeakSet;class jf{constructor(e){Lt(this,Bf),Et(this,Of,void 0),Et(this,Nf,void 0),Et(this,Cf,void 0),Et(this,Rf,void 0),Et(this,Tf,void 0),Et(this,_f,void 0),St(Of,this,e),St(Nf,this,null),St(Cf,this,xt(Bf,this,Uf).bind(this)),St(Rf,this,!1),St(Tf,this,null),St(_f,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){At(Rf,this)||(St(Rf,this,!0),xt(Bf,this,Uf).call(this,-2))}stop(){At(Rf,this)&&(St(Rf,this,!1),St(_f,this,!0),xt(Bf,this,Lf).call(this),At(Of,this).off("block",At(Cf,this)))}pause(e){e&&xt(Bf,this,Lf).call(this),At(Of,this).off("block",At(Cf,this))}resume(){this.start()}}async function Uf(e){try{null==At(Nf,this)&&St(Nf,this,this._subscribe(At(Of,this)));let e=null;try{e=await At(Nf,this)}catch(t){if(!Nt(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return St(Nf,this,null),void At(Of,this)._recoverSubscriber(this,this._recover(At(Of,this)));const n=await At(Of,this).getNetwork();if(At(Tf,this)||St(Tf,this,n),At(Tf,this).chainId!==n.chainId)throw new Error("chaid changed");if(At(_f,this))return;const r=await At(Of,this).send("eth_getFilterChanges",[e]);await this._emitResults(At(Of,this),r)}catch(t){console.log("@TODO",t)}At(Of,this).once("block",At(Cf,this))}function Lf(){const e=At(Nf,this);e&&(St(Nf,this,null),e.then(e=>{At(Of,this).destroyed||At(Of,this).send("eth_uninstallFilter",[e])}))}var Df=new WeakMap;class Mf extends jf{constructor(e,t){var n;super(e),Et(this,Df,void 0),St(Df,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new Fd(e,At(Df,this))}async _subscribe(e){return await e.send("eth_newFilter",[At(Df,this)])}async _emitResults(e,t){for(const n of t)e.emit(At(Df,this),e._wrapLog(n,e._network))}}class Ff extends jf{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const zf="bigint,boolean,function,number,string,symbol".split(/,/g);function Hf(e){if(null==e||zf.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Hf);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function qf(e){return new Promise(t=>{setTimeout(t,e)})}function Vf(e){return e?e.toLowerCase():e}function Wf(e){return e&&"number"===typeof e.pollingInterval}const Kf={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Gf extends Pf{constructor(e,t){super(e),(0,Dt.A)(this,"address",void 0),Pt(this,{address:t=Br(t)})}connect(e){Tt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Hf(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await ws(r,this.provider);_t(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas((0,s.A)((0,s.A)({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await ws(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(Nt(a,"CANCELLED")||Nt(a,"BAD_DATA")||Nt(a,"NETWORK_ERROR")||Nt(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(Nt(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",Rt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout(()=>{o()},i.pop()||4e3)};o()})}async signTransaction(e){const t=Hf(e);if(t.from){const n=await ws(t.from,this.provider);_t(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?si(e):e;return await this.provider.send("personal_sign",[Wt(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Hf(n),i=await Ls.resolveNames(e,t,r,async e=>{const t=await ws(e);return _t(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ls.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?si(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Wt(t)])}}var Qf=new WeakMap,Jf=new WeakMap,Yf=new WeakMap,Zf=new WeakMap,Xf=new WeakMap,$f=new WeakMap,ep=new WeakMap,tp=new WeakSet;class np extends uf{constructor(e,t){super(e,t),Lt(this,tp),Et(this,Qf,void 0),Et(this,Jf,void 0),Et(this,Yf,void 0),Et(this,Zf,void 0),Et(this,Xf,void 0),Et(this,$f,void 0),Et(this,ep,void 0),St(Jf,this,1),St(Qf,this,Object.assign({},Kf,t||{})),St(Yf,this,[]),St(Zf,this,null),St($f,this,null),St(ep,this,null);{let e=null;const t=new Promise(t=>{e=t});St(Xf,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(_t(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&St($f,this,hd.from(e))):n&&(_t(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),St($f,this,n))}_getOption(e){return At(Qf,this)[e]}get _network(){return Tt(At($f,this),"network is not available yet","NETWORK_ERROR"),At($f,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&rn(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(At($f,this))return At($f,this)}return At(ep,this)?await At(ep,this):this.ready?(St(ep,this,(async()=>{try{const e=hd.from(rn(await this.send("eth_chainId",[])));return St(ep,this,null),e}catch(e){throw St(ep,this,null),e}})()),await At(ep,this)):(St(ep,this,(async(e,t)=>{const n={id:(St(Jf,this,(e=At(Jf,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],St(ep,this,null)}catch(i){throw St(ep,this,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return hd.from(rn(r.result));throw this.getRpcError(n,r)})()),await At(ep,this))}_start(){null!=At(Xf,this)&&null!=At(Xf,this).resolve&&(At(Xf,this).resolve(),St(Xf,this,null),(async()=>{for(;null==At($f,this)&&!this.destroyed;)try{St($f,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Rt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await qf(1e3)}xt(tp,this,rp).call(this)})())}async _waitUntilReady(){if(null!=At(Xf,this))return await At(Xf,this).promise}_getSubscriber(e){return"pending"===e.type?new Ff(this):"event"===e.type?this._getOption("polling")?new Fd(this,e.filter):new Mf(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Wd("orphan"):super._getSubscriber(e)}get ready(){return null==At(Xf,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=hn(rn(e[n],"tx.".concat(n)))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=Wt(e[n]))}),e.accessList&&(t.accessList=Fs(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=to(e);return{address:t.address,nonce:hn(t.nonce),chainId:hn(t.chainId),yParity:hn(t.signature.yParity),r:hn(t.signature.r),s:hn(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Vf(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Vf(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Vf(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Vf(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Vf):e.filter.address=Vf(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Rt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return Rt("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=cp(r),i=ps.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return lp(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Rt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Rt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return Rt("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Rt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return Rt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?Rt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Rt("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(Rt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=(St(Jf,this,(n=At(Jf,this),r=n++,n)),r),s=new Promise((n,r)=>{At(Yf,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})});return xt(tp,this,rp).call(this),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Gf(this,n[e])}const{accounts:n}=await It({network:this.getNetwork(),accounts:t});e=Br(e);for(const r of n)if(Br(r)===e)return new Gf(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new Gf(this,e))}destroy(){At(Zf,this)&&(clearTimeout(At(Zf,this)),St(Zf,this,null));for(const{payload:e,reject:t}of At(Yf,this))t(Rt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));St(Yf,this,[]),super.destroy()}}function rp(){if(At(Zf,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");St(Zf,this,setTimeout(()=>{St(Zf,this,null);const e=At(Yf,this);for(St(Yf,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==At(Qf,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map(e=>e.payload));if(n.length>At(Qf,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(Rt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter(e=>e.id===i.id)[0];if(null==t){const e=Rt("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(i,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e))}var ip=new WeakMap;class sp extends np{constructor(e,t){super(e,t),Et(this,ip,void 0);let n=this._getOption("pollingInterval");null==n&&(n=Kf.pollingInterval),St(ip,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return Wf(t)&&(t.pollingInterval=At(ip,this)),t}get pollingInterval(){return At(ip,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");St(ip,this,e),this._forEachSubscriber(e=>{Wf(e)&&(e.pollingInterval=At(ip,this))})}}var op=new WeakMap;class ap extends sp{constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),Et(this,op,void 0),St(op,this,"string"===typeof e?new To(e):e.clone())}_getConnection(){return At(op,this).clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function cp(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&Ht(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=cp(e[t]);if(n)return n}return null}if("string"===typeof e)try{return cp(JSON.parse(e))}catch(t){}return null}function lp(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)lp(e[n],t);if("string"===typeof e)try{return lp(JSON.parse(e),t)}catch(n){}}}var up,hp=new WeakMap,dp=new WeakMap;class fp extends sp{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});_t(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),Et(this,hp,void 0),Et(this,dp,void 0),St(dp,this,null),n&&n.providerInfo&&St(dp,this,n.providerInfo),St(hp,this,async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(uT){const t=new Error(uT.message);throw t.code=uT.code,t.data=uT.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}})}get providerInfo(){return At(dp,this)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){_t(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await At(hp,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(uT){return[{id:e.id,error:{code:uT.code,data:uT.data,message:uT.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await At(hp,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new fp(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new fp(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((i,s)=>{let o=[];const a=e=>{o.push(e.detail),n&&c()},c=()=>{if(clearTimeout(l),o.length)if(e&&e.filter){const t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)i(null);else if(t instanceof fp)i(t);else{let e=null;if(t.uuid){const n=o.filter(e=>t.uuid===e.info.uuid);e=n[0]}if(e){const{provider:t,info:n}=e;i(new fp(t,void 0,{providerInfo:n}))}else s(Rt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=o[0];i(new fp(e,void 0,{providerInfo:t}))}else i(null);t.removeEventListener("eip6963:announceProvider",a)},l=setTimeout(()=>{c()},r);t.addEventListener("eip6963:announceProvider",a),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}const pp=BigInt(-1),gp=BigInt(0),mp=BigInt(1),yp=BigInt(5),wp={};let bp="0000";for(;bp.length<80;)bp+=bp;function vp(e){let t=bp;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Ep(e,t,n){const r=BigInt(t.width);if(t.signed){const t=mp<<r-mp;Tt(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>gp?en(nn(e,r),r):-en(nn(-e,r),r)}else{const t=mp<<r;Tt(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-mp}return e}function xp(e){"number"===typeof e&&(e="fixed128x".concat(e));let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);_t(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(_t(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}_t(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),_t(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var Ap=new WeakMap,Sp=new WeakMap,kp=new WeakMap,Ip=new WeakSet;class Pp{constructor(e,t,n){Lt(this,Ip),(0,Dt.A)(this,"format",void 0),Et(this,Ap,void 0),Et(this,Sp,void 0),Et(this,kp,void 0),(0,Dt.A)(this,"_value",void 0),Ut(e,wp,"FixedNumber"),St(Sp,this,t),St(Ap,this,n);const r=function(e,t){let n="";e<gp&&(n="-",e*=pp);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=bp+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);Pt(this,{format:n.name,_value:r}),St(kp,this,vp(n.decimals))}get signed(){return At(Ap,this).signed}get width(){return At(Ap,this).width}get decimals(){return At(Ap,this).decimals}get value(){return At(Sp,this)}addUnsafe(e){return xt(Ip,this,Cp).call(this,e)}add(e){return xt(Ip,this,Cp).call(this,e,"add")}subUnsafe(e){return xt(Ip,this,Rp).call(this,e)}sub(e){return xt(Ip,this,Rp).call(this,e,"sub")}mulUnsafe(e){return xt(Ip,this,Tp).call(this,e)}mul(e){return xt(Ip,this,Tp).call(this,e,"mul")}mulSignal(e){xt(Ip,this,Op).call(this,e);const t=At(Sp,this)*At(Sp,e);return Tt(t%At(kp,this)===gp,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),xt(Ip,this,Np).call(this,t/At(kp,this),"mulSignal")}divUnsafe(e){return xt(Ip,this,_p).call(this,e)}div(e){return xt(Ip,this,_p).call(this,e,"div")}divSignal(e){Tt(At(Sp,e)!==gp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),xt(Ip,this,Op).call(this,e);const t=At(Sp,this)*At(kp,this);return Tt(t%At(Sp,e)===gp,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),xt(Ip,this,Np).call(this,t/At(Sp,e),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=vp(r):r<0&&(t*=vp(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=At(Sp,this);return At(Sp,this)<gp&&(e-=At(kp,this)-mp),e=At(Sp,this)/At(kp,this)*At(kp,this),xt(Ip,this,Np).call(this,e,"floor")}ceiling(){let e=At(Sp,this);return At(Sp,this)>gp&&(e+=At(kp,this)-mp),e=At(Sp,this)/At(kp,this)*At(kp,this),xt(Ip,this,Np).call(this,e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=yp*vp(t-1);let r=this.value+n;const i=vp(t);return r=r/i*i,Ep(r,At(Ap,this),"round"),new Pp(wp,r,At(Ap,this))}isZero(){return At(Sp,this)===gp}isNegative(){return At(Sp,this)<gp}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Pp.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:cn(t),i=xp(n);let s=rn(e,"value");const o=r-i.decimals;if(o>0){const t=vp(o);Tt(s%t===gp,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=vp(-o));return Ep(s,i,"fromValue"),new Pp(wp,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);_t(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=xp(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=bp;Tt(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return Ep(o,r,"fromString"),new Pp(wp,o,r)}static fromBytes(e,t){let n=an(Ft(e,"value"));const r=xp(t);return r.signed&&(n=en(n,r.width)),Ep(n,r,"fromBytes"),new Pp(wp,n,r)}}function Op(e){_t(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function Np(e,t){return e=Ep(e,At(Ap,this),t),new up(wp,e,At(Ap,this))}function Cp(e,t){return xt(Ip,this,Op).call(this,e),xt(Ip,this,Np).call(this,At(Sp,this)+At(Sp,e),t)}function Rp(e,t){return xt(Ip,this,Op).call(this,e),xt(Ip,this,Np).call(this,At(Sp,this)-At(Sp,e),t)}function Tp(e,t){return xt(Ip,this,Op).call(this,e),xt(Ip,this,Np).call(this,At(Sp,this)*At(Sp,e)/At(kp,this),t)}function _p(e,t){return Tt(At(Sp,e)!==gp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),xt(Ip,this,Op).call(this,e),xt(Ip,this,Np).call(this,At(Sp,this)*At(kp,this)/At(Sp,e),t)}up=Pp;const Bp=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jp(e,t){let n=18;if("string"===typeof t){const e=Bp.indexOf(t);_t(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=cn(t,"unit"));return Pp.fromValue(e,n,{decimals:n,width:512}).toString()}function Up(e,t){_t("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=Bp.indexOf(t);_t(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=cn(t,"unit"));return Pp.fromString(e,{decimals:n,width:512}).value}var Lp=n(7284),Dp=n.n(Lp),Mp=n(9827),Fp=n(3901),zp=n(33),Hp=n(9332);const qp="2.36.0";let Vp={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(n).concat(r?"#".concat(r):""):void 0},version:"viem@".concat(qp)};class Wp extends Error{constructor(e){var t,n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=i.cause instanceof Wp?i.cause.details:null!==(a=i.cause)&&void 0!==a&&a.message?i.cause.message:i.details;var a;const c=i.cause instanceof Wp&&i.cause.docsPath||i.docsPath,l=null===(t=(n=Vp).getDocsUrl)||void 0===t?void 0:t.call(n,(0,s.A)((0,s.A)({},i),{},{docsPath:c}));super([e||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...l?["Docs: ".concat(l)]:[],...o?["Details: ".concat(o)]:[],...Vp.version?["Version: ".concat(Vp.version)]:[]].join("\n"),i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=o,this.docsPath=c,this.metaMessages=i.metaMessages,this.name=null!==(r=i.name)&&void 0!==r?r:this.name,this.shortMessage=e,this.version=qp}walk(e){return Kp(this,e)}}function Kp(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?Kp(e.cause,t):t?null:e}function Gp(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}class Qp extends Wp{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(n,")."),{name:"SizeExceedsPaddingSizeError"})}}function Jp(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new Qp({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return"0x".concat(r["right"===t?"padEnd":"padStart"](2*n,"0"))}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new Qp({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}class Yp extends Wp{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super('Number "'.concat(s,'" is not in safe ').concat(i?"".concat(8*i,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(n," to ").concat(t,")"):"(above ".concat(n,")")),{name:"IntegerOutOfRangeError"})}}class Zp extends Wp{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed ".concat(n," bytes. Given size: ").concat(t," bytes."),{name:"SizeOverflowError"})}}function Xp(e){return Gp(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function $p(e,t){let{size:n}=t;if(Xp(e)>n)throw new Zp({givenSize:Xp(e),maxSize:n})}function eg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n}=t;t.size&&$p(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function tg(e){return Number(eg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}const ng=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?sg(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=og.encode(e);return ig(n,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="0x".concat(Number(e));if("number"===typeof t.size)return $p(n,{size:t.size}),Jp(n,{size:t.size});return n}(e,t):ig(e,t)}function ig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=ng[e[i]];const r="0x".concat(n);return"number"===typeof t.size?($p(r,{size:t.size}),Jp(r,{dir:"right",size:t.size})):r}function sg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new Yp({max:s?"".concat(s).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a="0x".concat((n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16));return r?Jp(a,{size:r}):a}const og=new TextEncoder;const ag=new TextEncoder;function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const n=sg(e,t);return hg(n)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return $p(n,{size:t.size}),Jp(n,{size:t.size});return n}(e,t):Gp(e)?hg(e,t):dg(e,t)}const lg={zero:48,nine:57,A:65,F:70,a:97,f:102};function ug(e){return e>=lg.zero&&e<=lg.nine?e-lg.zero:e>=lg.A&&e<=lg.F?e-(lg.A-10):e>=lg.a&&e<=lg.f?e-(lg.a-10):void 0}function hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&($p(n,{size:t.size}),n=Jp(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r="0".concat(r));const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const e=ug(r.charCodeAt(a++)),t=ug(r.charCodeAt(a++));if(void 0===e||void 0===t)throw new Wp('Invalid byte sequence ("'.concat(r[a-2]).concat(r[a-1],'" in "').concat(r,'").'));s[o]=16*e+t}return s}function dg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ag.encode(e);return"number"===typeof t.size?($p(n,{size:t.size}),Jp(n,{dir:"right",size:t.size})):n}var fg=n(5449),pg=n(6499);const gg=BigInt(0),mg=BigInt(1),yg=BigInt(2),wg=BigInt(7),bg=BigInt(256),vg=BigInt(113),Eg=[],xg=[],Ag=[];for(let n=0,hT=mg,dT=1,fT=0;n<24;n++){[dT,fT]=[fT,(2*dT+3*fT)%5],Eg.push(2*(5*fT+dT)),xg.push((n+1)*(n+2)/2%64);let e=gg;for(let t=0;t<7;t++)hT=(hT<<mg^(hT>>wg)*vg)%bg,hT&yg&&(e^=mg<<(mg<<BigInt(t))-mg);Ag.push(e)}const Sg=(0,fg.lD)(Ag,!0),kg=Sg[0],Ig=Sg[1],Pg=(e,t,n)=>n>32?(0,fg.WM)(e,t,n):(0,fg.P5)(e,t,n),Og=(e,t,n)=>n>32?(0,fg.im)(e,t,n):(0,fg.B4)(e,t,n);class Ng extends pg.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,(0,pg.Fe)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,pg.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,pg.fd)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Pg(s,o,1)^n[t],c=Og(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=xg[n],s=Pg(t,i,r),o=Og(t,i,r),a=Eg[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=kg[r],e[1]^=Ig[r]}(0,pg.uH)(n)}(this.state32,this.rounds),(0,pg.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,pg.CC)(this),e=(0,pg.ZJ)(e),(0,pg.DO)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,pg.CC)(this,!1),(0,pg.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,pg.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,pg.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,pg.uH)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Ng(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Cg=(e,t,n)=>(0,pg.qj)(()=>new Ng(t,e,n)),Rg=(()=>Cg(1,136,32))();function Tg(e,t){const n=t||"hex",r=Rg(Gp(e,{strict:!1})?cg(e):e);return"bytes"===n?r:rg(r)}class _g extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Bg=new _g(8192);function jg(e,t){if(Bg.has("".concat(e,".").concat(t)))return Bg.get("".concat(e,".").concat(t));const n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=Tg(dg(n),"bytes"),i=(t?n.substring("".concat(t,"0x").length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s="0x".concat(i.join(""));return Bg.set("".concat(e,".").concat(t),s),s}function Ug(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function Lg(e){let{hash:t,signature:r}=e;return function(e){const t=Tg("0x".concat(e.substring(4))).substring(26);return jg("0x".concat(t))}(await async function(e){let{hash:t,signature:r}=e;const i=Gp(t)?t:rg(t),{secp256k1:s}=await n.e(753).then(n.bind(n,753)),o=(()=>{if("object"===typeof r&&"r"in r&&"s"in r){const{r:e,s:t,v:n,yParity:i}=r,o=Ug(Number(null!==i&&void 0!==i?i:n));return new s.Signature(eg(e),eg(t)).addRecoveryBit(o)}const e=Gp(r)?r:rg(r);if(65!==Xp(e))throw new Error("invalid signature length");const t=Ug(tg("0x".concat(e.slice(130))));return s.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})(),a=o.recoverPublicKey(i.substring(2)).toHex(!1);return"0x".concat(a)}({hash:t,signature:r}))}var Dg=n(1666),Mg=n(4017),Fg=n(5311),zg=n(5771),Hg=n(883),qg=n(8019),Vg=n(1757),Wg=n(5094);const Kg=":";function Gg(e){const[t,n]=e.split(Kg);return{namespace:t,reference:n}}function Qg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function Jg(e,t){return e.includes(":")?[e]:t.chains||[]}var Yg=Object.defineProperty,Zg=Object.defineProperties,Xg=Object.getOwnPropertyDescriptors,$g=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,nm=(e,t,n)=>t in e?Yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rm=(e,t)=>{for(var n in t||(t={}))em.call(t,n)&&nm(e,n,t[n]);if($g)for(var n of $g(t))tm.call(t,n)&&nm(e,n,t[n]);return e},im=(e,t,n)=>nm(e,"symbol"!=typeof t?t+"":t,n);const sm="react-native",om="node",am="browser",cm="unknown",lm="js";function um(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hm(){return!(0,zp.getDocument)()&&!!(0,zp.getNavigator)()&&"ReactNative"===navigator.product}function dm(){return!um()&&!!(0,zp.getNavigator)()&&!!(0,zp.getDocument)()}function fm(){return hm()?sm:um()?om:dm()?am:cm}function pm(){var e;try{return hm()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}function gm(e){var t,n;const r=mm();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn("The configured WalletConnect 'metadata.url':".concat(e.url," differs from the actual page url:").concat(r.url,". This is probably unintended and can lead to issues.")),e.url=r.url),null!=(t=null===e||void 0===e?void 0:e.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>Zg(e,Xg(t)))(rm(rm({},r),e),{url:(null===e||void 0===e?void 0:e.url)||r.url,name:(null===e||void 0===e?void 0:e.name)||r.name,description:(null===e||void 0===e?void 0:e.description)||r.description,icons:null!=(n=null===e||void 0===e?void 0:e.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function mm(){return(0,Hp.g)()||{name:"",description:"",url:"",icons:[""]}}function ym(e,t,r){const i=function(){if(fm()===sm&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=(0,Mp.o0)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=fm();return t===am?[t,(null==(e=(0,zp.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[lm,r].join("-"),i,s].join("/")}function wm(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=r.split("?"),h={auth:s,ua:ym(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[t,r]=e;null!=r&&n.set(t,String(r))}),n.toString()}(u[1]||"",h);return u[0]+"?"+d}function bm(e,t){return e.filter(e=>t.includes(e)).length===e.length}function vm(e){return Object.fromEntries(e.entries())}function Em(e){return new Map(Object.entries(e))}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fp.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,Fp.toMiliseconds)(e||Fp.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function Am(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(bA){i(bA)}clearTimeout(s)})}function Sm(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function km(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(n));r.id=Number(n)}return r}function Im(e,t){return(0,Fp.fromMiliseconds)((t||Date.now())+(0,Fp.toMiliseconds)(e))}function Pm(e){return Date.now()>=(0,Fp.toMiliseconds)(e)}function Om(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Nm(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function Cm(e){let{id:t,topic:r,wcDeepLink:i}=e;var s;try{if(!i)return;const e="string"==typeof i?JSON.parse(i):i,o=null===e||void 0===e?void 0:e.href;if("string"!=typeof o)return;const a=function(e,t,n){const r="requestId=".concat(t,"&sessionTopic=").concat(n);e.endsWith("/")&&(e=e.slice(0,-1));let i="".concat(e);if(e.startsWith("https://t.me")){const t=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0))}else i="".concat(i,"/wc?").concat(r);return i}(o,t,r),c=fm();if(c===am){if(null==(s=(0,zp.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch(e){return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(a)}else c===sm&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(o){console.error(o)}}function Rm(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Tm(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function _m(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://unidex-a92343a5cde1.herokuapp.com/api/",REACT_APP_RECEIVE_ADDRESS:"0x435c6e931b3ae74f448374f7e74cda97f4ef62fc"}.IS_VITEST}function Bm(e){return Buffer.from(e,"base64").toString("utf-8")}class jm{constructor(e){let{limit:t}=e;im(this,"limit"),im(this,"set"),this.limit=t,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const Um=BigInt(2**32-1),Lm=BigInt(32);function Dm(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Um),l:Number(e>>Lm&Um)}:{h:0|Number(e>>Lm&Um),l:0|Number(e&Um)}}function Mm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=Dm(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const Fm=(e,t,n)=>e>>>n,zm=(e,t,n)=>e<<32-n|t>>>n,Hm=(e,t,n)=>e>>>n|t<<32-n,qm=(e,t,n)=>e<<32-n|t>>>n,Vm=(e,t,n)=>e<<64-n|t>>>n-32,Wm=(e,t,n)=>e>>>n-32|t<<64-n,Km=(e,t)=>t,Gm=(e,t)=>e;function Qm(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const Jm=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Ym=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Zm=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Xm=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,$m=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),ey=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,ty="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function ny(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ry(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function iy(e){if(!ny(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function sy(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");ry(e.outputLen),ry(e.blockLen)}function oy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ay(e,t){iy(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function cy(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function uy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function hy(e,t){return e<<32-t|e>>>t}const dy=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function fy(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const py=dy?e=>e:e=>fy(e);const gy=dy?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=fy(e[t]);return e},my="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,yy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wy(e){if(iy(e),my)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=yy[e[n]];return t}const by=48,vy=57,Ey=65,xy=70,Ay=97,Sy=102;function ky(e){return e>=by&&e<=vy?e-by:e>=Ey&&e<=xy?e-(Ey-10):e>=Ay&&e<=Sy?e-(Ay-10):void 0}function Iy(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(my)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=ky(e.charCodeAt(s)),n=ky(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Py(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Oy(e){return"string"==typeof e&&(e=Py(e)),iy(e),e}function Ny(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];iy(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class Cy{}function Ry(e){const t=t=>e().update(Oy(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ty&&"function"==typeof ty.getRandomValues)return ty.getRandomValues(new Uint8Array(e));if(ty&&"function"==typeof ty.randomBytes)return Uint8Array.from(ty.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const _y=BigInt(0),By=BigInt(1),jy=BigInt(2),Uy=BigInt(7),Ly=BigInt(256),Dy=BigInt(113),My=[],Fy=[],zy=[];for(let n=0,hT=By,dT=1,fT=0;n<24;n++){[dT,fT]=[fT,(2*dT+3*fT)%5],My.push(2*(5*fT+dT)),Fy.push((n+1)*(n+2)/2%64);let e=_y;for(let t=0;t<7;t++)hT=(hT<<By^(hT>>Uy)*Dy)%Ly,hT&jy&&(e^=By<<(By<<BigInt(t))-By);zy.push(e)}const Hy=Mm(zy,!0),qy=Hy[0],Vy=Hy[1],Wy=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Ky=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Gy extends Cy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,ry(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cy(this.state)}clone(){return this._cloneInto()}keccak(){gy(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Wy(s,o,1)^n[t],c=Ky(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Fy[n],s=Wy(t,i,r),o=Ky(t,i,r),a=My[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=qy[r],e[1]^=Vy[r]}ly(n)}(this.state32,this.rounds),gy(this.state32),this.posOut=0,this.pos=0}update(e){oy(this),iy(e=Oy(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){oy(this,!1),iy(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ry(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ay(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ly(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Gy(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Qy=((e,t,n)=>Ry(()=>new Gy(t,e,n)))(1,136,32);function Jy(e,t,n){return e&t^~e&n}function Yy(e,t,n){return e&t^e&n^t&n}class Zy extends Cy{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=uy(this.buffer)}update(e){oy(this),iy(e=Oy(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=uy(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oy(this),ay(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,ly(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=uy(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Xy=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$y=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ew=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),tw=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nw=new Uint32Array(64);class rw extends Zy{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|Xy[0],this.B=0|Xy[1],this.C=0|Xy[2],this.D=0|Xy[3],this.E=0|Xy[4],this.F=0|Xy[5],this.G=0|Xy[6],this.H=0|Xy[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)nw[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=nw[u-15],t=nw[u-2],n=hy(e,7)^hy(e,18)^e>>>3,r=hy(t,17)^hy(t,19)^t>>>10;nw[u]=r+nw[u-7]+n+nw[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(hy(o,6)^hy(o,11)^hy(o,25))+Jy(o,a,c)+tw[u]+nw[u]|0,t=(hy(n,2)^hy(n,13)^hy(n,22))+Yy(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){ly(nw)}destroy(){this.set(0,0,0,0,0,0,0,0),ly(this.buffer)}}const iw=Mm(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),sw=iw[0],ow=iw[1],aw=new Uint32Array(80),cw=new Uint32Array(80);class lw extends Zy{constructor(){super(128,arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,16,!1),this.Ah=0|ew[0],this.Al=0|ew[1],this.Bh=0|ew[2],this.Bl=0|ew[3],this.Ch=0|ew[4],this.Cl=0|ew[5],this.Dh=0|ew[6],this.Dl=0|ew[7],this.Eh=0|ew[8],this.El=0|ew[9],this.Fh=0|ew[10],this.Fl=0|ew[11],this.Gh=0|ew[12],this.Gl=0|ew[13],this.Hh=0|ew[14],this.Hl=0|ew[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)aw[w]=e.getUint32(t),cw[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|aw[w-15],t=0|cw[w-15],n=Hm(e,t,1)^Hm(e,t,8)^Fm(e,0,7),r=qm(e,t,1)^qm(e,t,8)^zm(e,t,7),i=0|aw[w-2],s=0|cw[w-2],o=Hm(i,s,19)^Vm(i,s,61)^Fm(i,0,6),a=qm(i,s,19)^Wm(i,s,61)^zm(i,s,6),c=Zm(r,a,cw[w-7],cw[w-16]),l=Xm(c,n,o,aw[w-7],aw[w-16]);aw[w]=0|l,cw[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const e=Hm(u,h,14)^Hm(u,h,18)^Vm(u,h,41),t=qm(u,h,14)^qm(u,h,18)^Wm(u,h,41),b=u&d^~u&p,v=$m(y,t,h&f^~h&g,ow[w],cw[w]),E=ey(v,m,e,b,sw[w],aw[w]),x=0|v,A=Hm(n,r,28)^Vm(n,r,34)^Vm(n,r,39),S=qm(n,r,28)^Wm(n,r,34)^Wm(n,r,39),k=n&i^n&o^i&o,I=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=Qm(0|c,0|l,0|E,0|x)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const P=Jm(x,S,I);n=Ym(P,E,A,k),r=0|P}({h:n,l:r}=Qm(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Qm(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Qm(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Qm(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=Qm(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=Qm(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Qm(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=Qm(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){ly(aw,cw)}destroy(){ly(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class uw extends lw{constructor(){super(48),this.Ah=0|$y[0],this.Al=0|$y[1],this.Bh=0|$y[2],this.Bl=0|$y[3],this.Ch=0|$y[4],this.Cl=0|$y[5],this.Dh=0|$y[6],this.Dl=0|$y[7],this.Eh=0|$y[8],this.El=0|$y[9],this.Fh=0|$y[10],this.Fl=0|$y[11],this.Gh=0|$y[12],this.Gl=0|$y[13],this.Hh=0|$y[14],this.Hl=0|$y[15]}}const hw=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class dw extends lw{constructor(){super(32),this.Ah=0|hw[0],this.Al=0|hw[1],this.Bh=0|hw[2],this.Bl=0|hw[3],this.Ch=0|hw[4],this.Cl=0|hw[5],this.Dh=0|hw[6],this.Dl=0|hw[7],this.Eh=0|hw[8],this.El=0|hw[9],this.Fh=0|hw[10],this.Fl=0|hw[11],this.Gh=0|hw[12],this.Gl=0|hw[13],this.Hh=0|hw[14],this.Hl=0|hw[15]}}const fw=Ry(()=>new rw),pw=Ry(()=>new lw),gw=Ry(()=>new uw),mw=Ry(()=>new dw),yw=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ww=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),bw=new Uint32Array(32);function vw(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=bw[2*e],l=bw[2*e+1],u=bw[2*t],h=bw[2*t+1],d=bw[2*n],f=bw[2*n+1],p=bw[2*r],g=bw[2*r+1],m=Jm(c,u,o);l=Ym(m,l,h,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Km(0,p),Dl:Gm(g)}),({h:f,l:d}=Qm(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:Hm(h,u,24),Bl:qm(h,u,24)}),bw[2*e]=c,bw[2*e+1]=l,bw[2*t]=u,bw[2*t+1]=h,bw[2*n]=d,bw[2*n+1]=f,bw[2*r]=p,bw[2*r+1]=g}function Ew(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=bw[2*e],l=bw[2*e+1],u=bw[2*t],h=bw[2*t+1],d=bw[2*n],f=bw[2*n+1],p=bw[2*r],g=bw[2*r+1],m=Jm(c,u,o);l=Ym(m,l,h,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Hm(g,p,16),Dl:qm(g,p,16)}),({h:f,l:d}=Qm(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:Vm(h,u,63),Bl:Wm(h,u,63)}),bw[2*e]=c,bw[2*e+1]=l,bw[2*t]=u,bw[2*t+1]=h,bw[2*n]=d,bw[2*n+1]=f,bw[2*r]=p,bw[2*r+1]=g}class xw extends Cy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ry(e),ry(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=cy(this.buffer)}update(e){oy(this),iy(e=Oy(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(gy(r),this.compress(r,0,!1),gy(r),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){const e=new Uint32Array(o,l,Math.floor((i-a)/4));gy(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);gy(e);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){oy(this),ay(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,ly(this.buffer.subarray(t)),gy(n),this.compress(n,0,!0),gy(n);const r=cy(e);this.get().forEach((e,t)=>r[t]=py(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class Aw extends xw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|ww[0],this.v0h=0|ww[1],this.v1l=0|ww[2],this.v1h=0|ww[3],this.v2l=0|ww[4],this.v2h=0|ww[5],this.v3l=0|ww[6],this.v3h=0|ww[7],this.v4l=0|ww[8],this.v4h=0|ww[9],this.v5l=0|ww[10],this.v5h=0|ww[11],this.v6l=0|ww[12],this.v6h=0|ww[13],this.v7l=0|ww[14],this.v7h=0|ww[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(ry(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=Oy(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=Oy(i);const e=cy(i);this.v4l^=py(e[0]),this.v4h^=py(e[1]),this.v5l^=py(e[2]),this.v5h^=py(e[3])}if(void 0!==r){r=Oy(r);const e=cy(r);this.v6l^=py(e[0]),this.v6h^=py(e[1]),this.v7l^=py(e[2]),this.v7h^=py(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:u,v5h:h,v6l:d,v6h:f,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|h,this.v6l=0|d,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>bw[t]=e),bw.set(ww,16);let{h:r,l:i}=Dm(BigInt(this.length));bw[24]=ww[8]^i,bw[25]=ww[9]^r,n&&(bw[28]=~bw[28],bw[29]=~bw[29]);let s=0;const o=yw;for(let a=0;a<12;a++)vw(0,4,8,12,e,t+2*o[s++]),Ew(0,4,8,12,e,t+2*o[s++]),vw(1,5,9,13,e,t+2*o[s++]),Ew(1,5,9,13,e,t+2*o[s++]),vw(2,6,10,14,e,t+2*o[s++]),Ew(2,6,10,14,e,t+2*o[s++]),vw(3,7,11,15,e,t+2*o[s++]),Ew(3,7,11,15,e,t+2*o[s++]),vw(0,5,10,15,e,t+2*o[s++]),Ew(0,5,10,15,e,t+2*o[s++]),vw(1,6,11,12,e,t+2*o[s++]),Ew(1,6,11,12,e,t+2*o[s++]),vw(2,7,8,13,e,t+2*o[s++]),Ew(2,7,8,13,e,t+2*o[s++]),vw(3,4,9,14,e,t+2*o[s++]),Ew(3,4,9,14,e,t+2*o[s++]);this.v0l^=bw[0]^bw[16],this.v0h^=bw[1]^bw[17],this.v1l^=bw[2]^bw[18],this.v1h^=bw[3]^bw[19],this.v2l^=bw[4]^bw[20],this.v2h^=bw[5]^bw[21],this.v3l^=bw[6]^bw[22],this.v3h^=bw[7]^bw[23],this.v4l^=bw[8]^bw[24],this.v4h^=bw[9]^bw[25],this.v5l^=bw[10]^bw[26],this.v5h^=bw[11]^bw[27],this.v6l^=bw[12]^bw[28],this.v6h^=bw[13]^bw[29],this.v7l^=bw[14]^bw[30],this.v7h^=bw[15]^bw[31],ly(bw)}destroy(){this.destroyed=!0,ly(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Sw=function(e){const t=(t,n)=>e(n).update(Oy(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new Aw(e)),kw="https://rpc.walletconnect.org/v1";function Iw(e){const t="\x19Ethereum Signed Message:\n".concat(e.length),n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(Qy(n)).toString("hex")}async function Pw(e,t,n,r,i,s){switch(n.t){case"eip191":return await async function(e,t,n){return(await Lg({hash:Iw(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=Gg(r);if(!o.namespace||!o.reference)throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(r));try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:Iw(t)).substring(2)+a+l+c,h=await fetch("".concat(s||kw,"/?chainId=").concat(r,"&projectId=").concat(i),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Ow(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(iA){return console.error("isValidEip1271Signature: ",iA),!1}}(e,t,n.s,r,i,s);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(n.t))}}function Ow(){return Date.now()+Math.floor(1e3*Math.random())}function Nw(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=Sw(r,{dkLen:32});return Dg.A.encode(i)}function Cw(e){const t=new Uint8Array(fw(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return Dg.A.encode(t)}function Rw(e){const t=Buffer.from(e,"base64"),n=(0,Mg.D)(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(0,Fg.l)(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=mw(s);return zg.RG.encode(o).replace(/=+$/,"")}function Tw(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function _w(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Tw(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(Tw(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Tw(r.length)),i.push(r);const s=Buffer.concat(i),o=fw(s);return Buffer.from(o).toString("hex").toUpperCase()}var Bw=Object.defineProperty,jw=Object.defineProperties,Uw=Object.getOwnPropertyDescriptors,Lw=Object.getOwnPropertySymbols,Dw=Object.prototype.hasOwnProperty,Mw=Object.prototype.propertyIsEnumerable,Fw=(e,t,n)=>t in e?Bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zw=(e,t)=>{for(var n in t||(t={}))Dw.call(t,n)&&Fw(e,n,t[n]);if(Lw)for(var n of Lw(t))Mw.call(t,n)&&Fw(e,n,t[n]);return e},Hw=(e,t)=>jw(e,Uw(t));const qw=e=>null===e||void 0===e?void 0:e.split(":"),Vw=e=>{const t=e&&qw(e);if(t)return t[2]+":"+t[3]},Ww=e=>{const t=e&&qw(e);if(t)return t.pop()};async function Kw(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=Gw(i,i.iss),o=Ww(i.iss);return await Pw(o,s,r,Vw(i.iss),n)}const Gw=(e,t)=>{const n="".concat(e.domain," wants you to sign in with your Ethereum account:"),r=Ww(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s="URI: ".concat(e.aud||e.uri),o="Version: ".concat(e.version),a="Chain ID: ".concat((e=>{const t=e&&qw(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiration Time: ".concat(e.exp):void 0,h=e.nbf?"Not Before: ".concat(e.nbf):void 0,d=e.requestId?"Request ID: ".concat(e.requestId):void 0,f=e.resources?"Resources:".concat(e.resources.map(e=>"\n- ".concat(e)).join("")):void 0,p=ib(e.resources);if(p){i=tb(i,Zw(p))}return[n,r,"",i,"",s,o,a,c,l,u,h,d,f].filter(e=>null!=e).join("\n")};function Qw(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof n)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(n).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach(t=>{if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))})})})}function Jw(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(t=null===(n=t)||void 0===n?void 0:n.sort((e,t)=>e.localeCompare(t))).map(t=>({["".concat(e,"/").concat(t)]:[r]}));return Object.assign({},...i)}function Yw(e){return Qw(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function Zw(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return Qw(t),t}function Xw(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==n&&void 0!==n&&n.sort((e,t)=>e.localeCompare(t)),{att:{[e]:Jw(t,n,r)}}}(e,t,n);return Yw(r)}function $w(e){return e&&e.includes("urn:recap:")}function eb(e,t){const n=function(e,t){Qw(e),Qw(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=Hw(zw({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(Zw(e),Zw(t));return Yw(n)}function tb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;Qw(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,"(".concat(i,") '").concat(t,"': '").concat(s[t].join("', '"),"' for '").concat(e,"'.")));r.push(o.join(", ").replace(".,","."))});const s=r.join(" "),o="".concat(n).concat(s);return"".concat(e?e+" ":"").concat(o)}function nb(e){var t;const n=Zw(e);Qw(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function rb(e){const t=Zw(e);Qw(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function ib(e){if(!e)return;const t=null===e||void 0===e?void 0:e[e.length-1];return $w(t)?t:void 0}function sb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ob(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}function ab(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function cb(e){if(!sb(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function lb(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ub(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function hb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const db=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function fb(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!sb(e))throw new Error("Uint8Array expected, got "+typeof e);e=yb(e)}return e}function pb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function gb(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function mb(e,t,n){ob(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return gb(i,0,BigInt(t),n),gb(i,8,BigInt(e),n),r}function yb(e){return Uint8Array.from(e)}const wb=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),bb=wb("expand 16-byte k"),vb=wb("expand 32-byte k"),Eb=ub(bb),xb=ub(vb);function Ab(e,t){return e<<t|e>>>32-t}function Sb(e){return e.byteOffset%4===0}const kb=2**32-1,Ib=new Uint32Array;const Pb=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Ob{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,cb(e=fb(e),32);const t=Pb(e,0),n=Pb(e,2),r=Pb(e,4),i=Pb(e,6),s=Pb(e,8),o=Pb(e,10),a=Pb(e,12),c=Pb(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Pb(e,16+2*l)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],h=i[6],d=i[7],f=i[8],p=i[9],g=Pb(e,t+0),m=Pb(e,t+2),y=Pb(e,t+4),w=Pb(e,t+6),b=Pb(e,t+8),v=Pb(e,t+10),E=Pb(e,t+12),x=Pb(e,t+14);let A=r[0]+(8191&g),S=r[1]+(8191&(g>>>13|m<<3)),k=r[2]+(8191&(m>>>10|y<<6)),I=r[3]+(8191&(y>>>7|w<<9)),P=r[4]+(8191&(w>>>4|b<<12)),O=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|v<<2)),C=r[7]+(8191&(v>>>11|E<<5)),R=r[8]+(8191&(E>>>8|x<<8)),T=r[9]+(x>>>5|n),_=0,B=_+A*s+S*(5*p)+k*(5*f)+I*(5*d)+P*(5*h);_=B>>>13,B&=8191,B+=O*(5*u)+N*(5*l)+C*(5*c)+R*(5*a)+T*(5*o),_+=B>>>13,B&=8191;let j=_+A*o+S*s+k*(5*p)+I*(5*f)+P*(5*d);_=j>>>13,j&=8191,j+=O*(5*h)+N*(5*u)+C*(5*l)+R*(5*c)+T*(5*a),_+=j>>>13,j&=8191;let U=_+A*a+S*o+k*s+I*(5*p)+P*(5*f);_=U>>>13,U&=8191,U+=O*(5*d)+N*(5*h)+C*(5*u)+R*(5*l)+T*(5*c),_+=U>>>13,U&=8191;let L=_+A*c+S*a+k*o+I*s+P*(5*p);_=L>>>13,L&=8191,L+=O*(5*f)+N*(5*d)+C*(5*h)+R*(5*u)+T*(5*l),_+=L>>>13,L&=8191;let D=_+A*l+S*c+k*a+I*o+P*s;_=D>>>13,D&=8191,D+=O*(5*p)+N*(5*f)+C*(5*d)+R*(5*h)+T*(5*u),_+=D>>>13,D&=8191;let M=_+A*u+S*l+k*c+I*a+P*o;_=M>>>13,M&=8191,M+=O*s+N*(5*p)+C*(5*f)+R*(5*d)+T*(5*h),_+=M>>>13,M&=8191;let F=_+A*h+S*u+k*l+I*c+P*a;_=F>>>13,F&=8191,F+=O*o+N*s+C*(5*p)+R*(5*f)+T*(5*d),_+=F>>>13,F&=8191;let z=_+A*d+S*h+k*u+I*l+P*c;_=z>>>13,z&=8191,z+=O*a+N*o+C*s+R*(5*p)+T*(5*f),_+=z>>>13,z&=8191;let H=_+A*f+S*d+k*h+I*u+P*l;_=H>>>13,H&=8191,H+=O*c+N*a+C*o+R*s+T*(5*p),_+=H>>>13,H&=8191;let q=_+A*p+S*f+k*d+I*h+P*u;_=q>>>13,q&=8191,q+=O*l+N*c+C*a+R*o+T*s,_+=q>>>13,q&=8191,_=(_<<2)+_|0,_=_+B|0,B=8191&_,_>>>=13,j+=_,r[0]=B,r[1]=j,r[2]=U,r[3]=L,r[4]=D,r[5]=M,r[6]=F,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;hb(n)}update(e){lb(this),cb(e=fb(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){hb(this.h,this.r,this.buffer,this.pad)}digestInto(e){lb(this),function(e,t){cb(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const Nb=function(e){const t=(t,n)=>e(n).update(fb(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new Ob(e));const Cb=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return ab(i),ab(o),ob(s),ob(n),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;cb(t),cb(a),cb(c);const h=c.length;if(void 0===l&&(l=new Uint8Array(h)),cb(l),ab(u),u<0||u>=kb)throw new Error("arx: counter overflow");if(l.length<h)throw new Error("arx: output (".concat(l.length,") is shorter than data (").concat(h,")"));const d=[];let f,p,g=t.length;if(32===g)d.push(f=yb(t)),p=xb;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=Eb,d.push(f)}Sb(a)||d.push(a=yb(a));const m=ub(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,m,ub(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-i;if(y!==a.length)throw new Error("arx: nonce must be ".concat(y," or 16 bytes"));if(12!==y){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,d.push(a)}const w=ub(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=ub(l),h=Sb(i)&&Sb(s),d=h?ub(i):Ib,f=h?ub(s):Ib;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=kb)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=d[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}(e,p,m,w,c,l,u,o),hb(...d),l}}(function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],h=t[1],d=t[2],f=t[3],p=t[4],g=t[5],m=t[6],y=t[7],w=i,b=n[0],v=n[1],E=n[2],x=o,A=a,S=c,k=l,I=u,P=h,O=d,N=f,C=p,R=g,T=m,_=y,B=w,j=b,U=v,L=E;for(let M=0;M<s;M+=2)x=x+I|0,B=Ab(B^x,16),C=C+B|0,I=Ab(I^C,12),x=x+I|0,B=Ab(B^x,8),C=C+B|0,I=Ab(I^C,7),A=A+P|0,j=Ab(j^A,16),R=R+j|0,P=Ab(P^R,12),A=A+P|0,j=Ab(j^A,8),R=R+j|0,P=Ab(P^R,7),S=S+O|0,U=Ab(U^S,16),T=T+U|0,O=Ab(O^T,12),S=S+O|0,U=Ab(U^S,8),T=T+U|0,O=Ab(O^T,7),k=k+N|0,L=Ab(L^k,16),_=_+L|0,N=Ab(N^_,12),k=k+N|0,L=Ab(L^k,8),_=_+L|0,N=Ab(N^_,7),x=x+P|0,L=Ab(L^x,16),T=T+L|0,P=Ab(P^T,12),x=x+P|0,L=Ab(L^x,8),T=T+L|0,P=Ab(P^T,7),A=A+O|0,B=Ab(B^A,16),_=_+B|0,O=Ab(O^_,12),A=A+O|0,B=Ab(B^A,8),_=_+B|0,O=Ab(O^_,7),S=S+N|0,j=Ab(j^S,16),C=C+j|0,N=Ab(N^C,12),S=S+N|0,j=Ab(j^S,8),C=C+j|0,N=Ab(N^C,7),k=k+I|0,U=Ab(U^k,16),R=R+U|0,I=Ab(I^R,12),k=k+I|0,U=Ab(U^k,8),R=R+U|0,I=Ab(I^R,7);let D=0;r[D++]=o+x|0,r[D++]=a+A|0,r[D++]=c+S|0,r[D++]=l+k|0,r[D++]=u+I|0,r[D++]=h+P|0,r[D++]=d+O|0,r[D++]=f+N|0,r[D++]=p+C|0,r[D++]=g+R|0,r[D++]=m+T|0,r[D++]=y+_|0,r[D++]=w+B|0,r[D++]=b+j|0,r[D++]=v+U|0,r[D++]=E+L|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),Rb=new Uint8Array(16),Tb=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Rb.subarray(n))},_b=new Uint8Array(32);function Bb(e,t,n,r,i){const s=e(t,n,_b),o=Nb.create(s);i&&Tb(o,i),Tb(o,r);const a=mb(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return hb(s,a),c}const jb=((e,t)=>{function n(n){if(cb(n),!db)throw new Error("Non little-endian hardware is not yet supported");for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?cb(t):cb(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&cb(i[1]);const a=t(n,...i),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");cb(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,cb(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(cb(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(Ub=Cb,(e,t,n)=>({encrypt(r,i){const s=r.length;(i=pb(s+16,i,!1)).set(r);const o=i.subarray(0,-16);Ub(e,t,o,o,1);const a=Bb(Ub,e,t,o,n);return i.set(a,s),hb(a),i},decrypt(r,i){i=pb(r.length-16,i,!1);const s=r.subarray(0,-16),o=r.subarray(-16),a=Bb(Ub,e,t,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o,a))throw new Error("invalid tag");return i.set(r.subarray(0,-16)),Ub(e,t,i,i,1),hb(a),i}})));var Ub;class Lb extends Cy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,sy(e);const n=Oy(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),ly(i)}update(e){return oy(this),this.iHash.update(e),this}digestInto(e){oy(this),iy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Db=(e,t,n)=>new Lb(e,t).update(n).digest();Db.create=(e,t)=>new Lb(e,t);const Mb=Uint8Array.from([0]),Fb=Uint8Array.of();const zb=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;sy(e),ry(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=Fb);const o=new Uint8Array(s*i),a=Db.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Mb[0]=u+1,c.update(0===u?Fb:l).update(n).update(Mb).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),ly(l,Mb),o.slice(0,r)}(e,function(e,t,n){return sy(e),void 0===n&&(n=new Uint8Array(e.outputLen)),Db(e,Oy(n),Oy(t))}(e,t,n),r,i),Hb=fw,qb=BigInt(0),Vb=BigInt(1);function Wb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("boolean"!=typeof e){const n=t&&'"'.concat(t,'"');throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Kb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=ny(e),i=null===e||void 0===e?void 0:e.length,s=void 0!==t;if(!r||s&&i!==t){const o=n&&'"'.concat(n,'" '),a=s?" of length ".concat(t):"",c=r?"length=".concat(i):"type=".concat(typeof e);throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Gb(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Qb(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?qb:BigInt("0x"+e)}function Jb(e){return Qb(wy(e))}function Yb(e){return iy(e),Qb(wy(Uint8Array.from(e).reverse()))}function Zb(e,t){return Iy(e.toString(16).padStart(2*t,"0"))}function Xb(e,t){return Zb(e,t).reverse()}function $b(e,t,n){let r;if("string"==typeof t)try{r=Iy(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!ny(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const ev=e=>"bigint"==typeof e&&qb<=e;function tv(e,t,n,r){if(!function(e,t,n){return ev(e)&&ev(t)&&ev(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function nv(e){let t;for(t=0;e>qb;e>>=Vb,t+=1);return t}const rv=e=>(Vb<<BigInt(e))-Vb;function iv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error('param "'.concat(t,'" is invalid: expected ').concat(n,", got ").concat(s))}Object.entries(t).forEach(e=>{let[t,n]=e;return r(t,n,!1)}),Object.entries(n).forEach(e=>{let[t,n]=e;return r(t,n,!0)})}function sv(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const ov=BigInt(0),av=BigInt(1),cv=BigInt(2),lv=BigInt(3),uv=BigInt(4),hv=BigInt(5),dv=BigInt(7),fv=BigInt(8),pv=BigInt(9),gv=BigInt(16);function mv(e,t){const n=e%t;return n>=ov?n:t+n}function yv(e,t,n){let r=e;for(;t-- >ov;)r*=r,r%=n;return r}function wv(e,t){if(e===ov)throw new Error("invert: expected non-zero number");if(t<=ov)throw new Error("invert: expected positive modulus, got "+t);let n=mv(e,t),r=t,i=ov,s=av;for(;n!==ov;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==av)throw new Error("invert: does not exist");return mv(i,t)}function bv(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function vv(e,t){const n=(e.ORDER+av)/uv,r=e.pow(t,n);return bv(e,r,t),r}function Ev(e,t){const n=(e.ORDER-hv)/fv,r=e.mul(t,cv),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,cv),i),a=e.mul(s,e.sub(o,e.ONE));return bv(e,a,t),a}function xv(e){if(e<lv)throw new Error("sqrt is not defined for small field");let t=e-av,n=0;for(;t%cv===ov;)t/=cv,n++;let r=cv;const i=Ov(e);for(;1===Iv(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return vv;let s=i.pow(r,t);const o=(t+av)/cv;return function(e,r){if(e.is0(r))return r;if(1!==Iv(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=av<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}function Av(e){return e%uv===lv?vv:e%fv===hv?Ev:e%gv===pv?function(e){const t=Ov(e),n=xv(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+dv)/gv;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),h=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,h);const d=e.eql(e.sqr(a),t),f=e.cmov(n,a,d);return bv(e,f,t),f}}(e):xv(e)}const Sv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function Iv(e,t){const n=(e.ORDER-av)/cv,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Pv(e,t){void 0!==t&&ry(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=ov)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=Pv(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:rv(c),ZERO:ov,ONE:av,allowedLengths:o,create:t=>mv(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ov<=t&&t<e},is0:e=>e===ov,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&av)===av,neg:t=>mv(-t,e),eql:(e,t)=>e===t,sqr:t=>mv(t*t,e),add:(t,n)=>mv(t+n,e),sub:(t,n)=>mv(t-n,e),mul:(t,n)=>mv(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ov)throw new Error("invalid exponent, negatives unsupported");if(n===ov)return e.ONE;if(n===av)return t;let r=e.ONE,i=t;for(;n>ov;)n&av&&(r=e.mul(r,i)),i=e.sqr(i),n>>=av;return r}(h,e,t),div:(t,n)=>mv(t*wv(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>wv(t,e),sqrt:s||(t=>(u||(u=Av(e)),u(h,t))),toBytes:e=>n?Xb(e,l):Zb(e,l),fromBytes:function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?Yb(t):Jb(t);if(a&&(i=mv(i,e)),!r&&!h.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>kv(h,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(h)}function Nv(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Cv(e){const t=Nv(e);return t+Math.ceil(t/2)}const Rv=BigInt(0),Tv=BigInt(1);function _v(e,t){const n=t.negate();return e?n:t}function Bv(e,t){const n=kv(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function jv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Uv(e,t){jv(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:rv(e),maxNumber:n,shiftBy:BigInt(e)}}function Lv(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=Tv);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:l}}const Dv=new WeakMap,Mv=new WeakMap;function Fv(e){return Mv.get(e)||1}function zv(e){if(e!==Rv)throw new Error("invalid wNAF")}class Hv{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ZERO,r=e;for(;t>Rv;)t&Tv&&(n=n.add(r)),r=r.double(),t>>=Tv;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=Uv(t,this.bits),i=[];let s=e,o=s;for(let a=0;a<n;a++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=Uv(e,this.bits);for(let o=0;o<s.windows;o++){const{nextN:e,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:h}=Lv(n,o,s);n=e,c?i=i.add(_v(u,t[h])):r=r.add(_v(l,t[a]))}return zv(n),{p:r,f:i}}wNAFUnsafe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.ZERO;const i=Uv(e,this.bits);for(let s=0;s<i.windows&&n!==Rv;s++){const{nextN:e,offset:o,isZero:a,isNeg:c}=Lv(n,s,i);if(n=e,!a){const e=t[o];r=r.add(c?e.negate():e)}}return zv(n),r}getPrecomputes(e,t,n){let r=Dv.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),Dv.set(t,r))),r}cached(e,t,n){const r=Fv(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=Fv(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){jv(t,this.bits),Mv.set(e,t),Dv.delete(e)}hasCache(e){return 1!==Fv(e)}}function qv(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=nv(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=rv(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((t.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(d)&l);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==d)for(let t=0;t<c;t++)h=h.double()}return h}function Vv(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){iv(e,Sv.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Ov(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Py("HashToScalar-");const Wv=BigInt(0),Kv=BigInt(1),Gv=BigInt(2);function Qv(e){const t=function(e){return iv(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze((0,s.A)({},e))}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:a}=t,c="x25519"===r;if(!c&&"x448"!==r)throw new Error("invalid type");const l=a||Ty,u=c?255:448,h=c?32:56,d=BigInt(c?9:5),f=BigInt(c?121665:39081),p=c?Gv**BigInt(254):Gv**BigInt(447),g=c?BigInt(8)*Gv**BigInt(251)-Kv:BigInt(4)*Gv**BigInt(445)-Kv,m=p+g+Kv,y=e=>mv(e,n),w=b(d);function b(e){return Xb(y(e),h)}function v(e,t){const r=function(e,t){tv("u",e,Wv,n),tv("scalar",t,p,m);const r=t,i=e;let s=Kv,a=Wv,c=e,l=Kv,h=Wv;for(let n=BigInt(u-1);n>=Wv;n--){const e=r>>n&Kv;h^=e,({x_2:s,x_3:c}=x(h,s,c)),({x_2:a,x_3:l}=x(h,a,l)),h=e;const t=s+a,o=y(t*t),u=s-a,d=y(u*u),p=o-d,g=c+l,m=y((c-l)*t),w=y(g*u),b=m+w,v=m-w;c=y(b*b),l=y(i*y(v*v)),s=y(o*d),a=y(p*(o+y(f*p)))}({x_2:s,x_3:c}=x(h,s,c)),({x_2:a,x_3:l}=x(h,a,l));const d=o(a);return y(s*d)}(function(e){const t=$b("u coordinate",e,h);return c&&(t[31]&=127),y(Yb(t))}(t),function(e){return Yb(i($b("scalar",e,h)))}(e));if(r===Wv)throw new Error("invalid private or public key received");return b(r)}function E(e){return v(e,w)}function x(e,t,n){const r=y(e*(t-n));return{x_2:t=y(t-r),x_3:n=y(n+r)}}const A={secretKey:h,publicKey:h,seed:h},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(h);return iy(e,A.seed),e};return{keygen:function(e){const t=S(e);return{secretKey:t,publicKey:E(t)}},getSharedSecret:(e,t)=>v(e,t),getPublicKey:e=>E(e),scalarMult:v,scalarMultBase:E,utils:{randomSecretKey:S,randomPrivateKey:S},GuBytes:w.slice(),lengths:A}}const Jv=BigInt(1),Yv=BigInt(2),Zv=BigInt(3),Xv=BigInt(5),$v=BigInt(8),eE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function tE(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const nE=Ov({p:eE,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:$v,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),rE=(()=>{const e=nE.ORDER;return Qv({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=eE,o=e*e%s*e%s,a=yv(o,Yv,s)*o%s,c=yv(a,Jv,s)*e%s,l=yv(c,Xv,s)*c%s,u=yv(l,t,s)*l%s,h=yv(u,n,s)*u%s,d=yv(h,r,s)*h%s,f=yv(d,i,s)*d%s,p=yv(f,i,s)*d%s,g=yv(p,t,s)*l%s;return{pow_p_5_8:yv(g,Yv,s)*e%s,b2:o}}(t);return mv(yv(n,Zv,e)*r,e)},adjustScalarBytes:tE})})(),iE=(e,t)=>(e+(e>=0?t:-t)/hE)/t;function sE(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function oE(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return Wb(n.lowS,"lowS"),Wb(n.prehash,"prehash"),void 0!==n.format&&sE(n.format),n}class aE extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const cE={Err:aE,_tlv:{encode:(e,t)=>{const{Err:n}=cE;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Gb(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Gb(i.length/2|128):"";return Gb(e)+s+i+t},decode(e,t){const{Err:n}=cE;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=cE;if(e<lE)throw new t("integer: negative integers are not allowed");let n=Gb(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=cE;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Jb(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=cE,i=$b("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=cE,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},lE=BigInt(0),uE=BigInt(1),hE=BigInt(2),dE=BigInt(3),fE=BigInt(4);function pE(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let s=$b("private key",t);try{r=e.fromBytes(s)}catch(i){throw new Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(typeof t))}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function gE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error("expected valid ".concat(e," CURVE object"));for(const a of["p","n","h"]){const e=t[a];if(!("bigint"==typeof e&&e>Rv))throw new Error("CURVE.".concat(a," must be positive bigint"))}const i=Vv(t.p,n.Fp,r),s=Vv(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const a of o)if(!i.isValid(t[a]))throw new Error("CURVE.".concat(a," must be valid field element of CURVE.Fp"));return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;iv(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=yE(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if(Wb(n,"isCompressed"),n){u();return Ny(mE(!r.isOdd(s)),o)}return Ny(Uint8Array.of(4),o,r.toBytes(s))},d=t.fromBytes||function(e){Kb(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error("bad point: got length ".concat(i,", expected compressed=").concat(t," or uncompressed=").concat(n))}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}u();return 1===(1&s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,dE),fE),m=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r.isValid(t)||n&&r.is0(t))throw new Error("bad point coordinate ".concat(e));return t}function w(e){if(!(e instanceof A))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=iE(o*e,n),c=iE(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const h=l<lE,d=u<lE;h&&(l=-l),d&&(u=-u);const f=rv(Math.ceil(nv(n)/2))+uE;if(l<lE||l>=f||u<lE||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}(e,c.basises,i.ORDER)}const v=sv((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),E=sv(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(e,t,n,i,s){return n=new A(r.mul(n.X,e),n.Y,n.Z),t=_v(i,t),n=_v(s,n),t.add(n)}class A{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof A)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?A.ZERO:new A(t,n,r.ONE)}static fromBytes(e){const t=A.fromAffine(d(Kb(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return A.fromBytes($b("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return k.createCache(this,e),t||this.multiply(dE),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){w(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new A(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,dE),{X:i,Y:o,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(i,i),d=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(d,l),l=r.add(d,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(h,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,f),h=r.mul(h,p),l=r.add(l,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,p),c=r.sub(c,h),u=r.mul(f,d),u=r.add(u,u),u=r.add(u,u),new A(c,l,u)}add(e){w(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=r.ZERO,u=r.ZERO,h=r.ZERO;const d=s.a,f=r.mul(s.b,dE);let p=r.mul(t,o),g=r.mul(n,a),m=r.mul(i,c),y=r.add(t,n),b=r.add(o,a);y=r.mul(y,b),b=r.add(p,g),y=r.sub(y,b),b=r.add(t,i);let v=r.add(o,c);return b=r.mul(b,v),v=r.add(p,m),b=r.sub(b,v),v=r.add(n,i),l=r.add(a,c),v=r.mul(v,l),l=r.add(g,m),v=r.sub(v,l),h=r.mul(d,b),l=r.mul(f,m),h=r.add(l,h),l=r.sub(g,h),h=r.add(g,h),u=r.mul(l,h),g=r.add(p,p),g=r.add(g,p),m=r.mul(d,m),b=r.mul(f,b),g=r.add(g,m),m=r.sub(p,m),m=r.mul(d,m),b=r.add(b,m),p=r.mul(g,b),u=r.add(u,p),p=r.mul(v,b),l=r.mul(y,l),l=r.sub(l,p),p=r.mul(y,g),h=r.mul(v,h),h=r.add(h,p),new A(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(A.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>k.cached(this,e,e=>Bv(A,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:u}=o(i),{p:h,f:d}=o(c);s=u.add(d),r=x(n.beta,l,h,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return Bv(A,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===lE||r.is0())return A.ZERO;if(e===uE)return r;if(k.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>Rv||r>Rv;)n&Tv&&(s=s.add(i)),r&Tv&&(o=o.add(i)),i=i.double(),n>>=Tv,r>>=Tv;return{p1:s,p2:o}}(A,r,i,o);return x(n.beta,a,c,t,s)}return k.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===uE||(e?e(A,this):k.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===uE?this:e?e(A,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Wb(e,"isCompressed"),this.assertValidity(),h(A,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return wy(this.toBytes(e))}toString(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return Bv(A,e)}static msm(e,t){return qv(A,i,e,t)}static fromPrivateKey(e){return A.BASE.multiply(pE(i,e))}}A.BASE=new A(s.Gx,s.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO),A.Fp=r,A.Fn=i;const S=i.BITS,k=new Hv(A,t.endo?Math.ceil(S/2):S);return A.BASE.precompute(8),A}function mE(e){return Uint8Array.of(e?2:3)}function yE(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function wE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{Fn:n}=e,r=t.randomBytes||Ty,i=Object.assign(yE(e.Fp,n),{seed:Cv(n.ORDER)});function s(e){try{return!!pE(n,e)}catch(t){return!1}}function o(){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Nv(t),s=Cv(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=mv(n?Yb(e):Jb(e),t-av)+av;return n?Xb(o,i):Zb(o,i)}(Kb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(i.seed),i.seed,"seed"),n.ORDER)}function a(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.BASE.multiply(pE(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=$b("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const s=pE(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==s)&&!!e.fromBytes(t)}catch(o){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>pE(n,e),precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE).precompute(t,!1)}},lengths:i})}function bE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sy(t),iv(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Ty,i=n.hmac||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Db(t,e,Ny(...r))},{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f}=wE(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>uE}function y(e,t){if(!o.isValidNot0(t))throw new Error("invalid signature ".concat(e,": out of range 1..Point.Fn.ORDER"));return t}class w{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(function(e,t){sE(t);const n=f.signature;Kb(e,"compact"===t?n:"recovered"===t?n+1:void 0,"".concat(t," signature"))}(e,n),"der"===n){const{r:t,s:n}=cE.toSig(Kb(e));return new w(t,n)}"recovered"===n&&(t=e[0],n="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new w(o.fromBytes(i),o.fromBytes(s),t)}static fromHex(e,t){return this.fromBytes(Iy(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r:r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*hE<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),h=e.fromBytes(Ny(mE(0===(1&c)),u)),d=o.inv(l),f=v($b("msgHash",t)),p=o.create(-f*d),g=o.create(i*d),m=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(sE(e),"der"===e)return Iy(cE.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Ny(Uint8Array.of(this.recovery),t,n)}return Ny(t,n)}toHex(e){return wy(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes($b("sig",e),"compact")}static fromDER(e){return w.fromBytes($b("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return wy(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return wy(this.toBytes("compact"))}}const b=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Jb(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return o.create(b(e))},E=rv(c);function x(e){return tv("num < 2^"+c,e,lE,E),o.toBytes(e)}function A(e,n){return Kb(e,void 0,"message"),n?Kb(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f,Point:e,sign:function(n,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=$b("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=oE(i,p);t=A(t,a);const l=v(t),u=pE(o,n),h=[x(u),x(l)];if(null!=c&&!1!==c){const e=!0===c?r(f.secretKey):c;h.push($b("extraEntropy",e))}const d=Ny(...h),g=l;return{seed:d,k2sig:function(t){const n=b(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===lE)return;const c=o.create(r*o.create(g+a*u));if(c===lE)return;let l=(i.x===a?0:2)|Number(i.y&uE),h=c;return s&&m(c)&&(h=o.neg(c),l^=1),new w(a,h,l)}}}(n,s,a);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(o,s,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(0);o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return Ny(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(h()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{lowS:s,prehash:a,format:c}=oE(i,p);if(r=$b("publicKey",r),n=A($b("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||ny(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new w(e.r,e.s);else if(n){try{t=w.fromBytes($b("sig",e),"der")}catch(s){if(!(s instanceof cE.Err))throw s}if(!t)try{t=w.fromBytes($b("sig",e),"compact")}catch(i){return!1}}return t||!1}(t):w.fromBytes($b("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(n),u=o.inv(a),h=o.create(c*u),d=o.create(i*u),f=e.BASE.multiplyUnsafe(h).add(t.multiplyUnsafe(d));return!f.is0()&&o.create(f.x)===i}catch(u){return!1}},recoverPublicKey:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{prehash:r}=oE(n,p);return t=A(t,r),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function vE(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:Ov(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function EE(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=vE(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Pv(n.Fn.ORDER,n.Fn.BITS))})}(e,bE(gE(t,n),r,i))}function xE(e,t){const n=t=>EE((0,s.A)((0,s.A)({},e),{},{hash:t}));return(0,s.A)((0,s.A)({},n(t)),{},{create:n})}const AE={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},SE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},kE={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},IE=Ov(AE.p),PE=Ov(SE.p),OE=Ov(kE.p),NE=xE((0,s.A)((0,s.A)({},AE),{},{Fp:IE,lowS:!1}),fw);xE((0,s.A)((0,s.A)({},SE),{},{Fp:PE,lowS:!1}),gw),xE((0,s.A)((0,s.A)({},kE),{},{Fp:OE,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),pw);const CE=NE,RE="base10",TE="base16",_E="base64pad",BE="base64url",jE="utf8";function UE(){const e=Ty(32);return(0,qg.dI)(e,TE)}function LE(e){const t=Hb((0,qg.sH)(e,TE));return(0,qg.dI)(t,TE)}function DE(e){const t=Hb((0,qg.sH)(e,jE));return(0,qg.dI)(t,TE)}function ME(e){return(0,qg.sH)("".concat(e),RE)}function FE(e){return Number((0,qg.dI)(e,RE))}function zE(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function HE(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function qE(e){if(2===FE(e.type))return(0,qg.dI)((0,qg.xW)([e.type,e.sealed]),_E);if(1===FE(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,qg.dI)((0,qg.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),_E)}return(0,qg.dI)((0,qg.xW)([e.type,e.iv,e.sealed]),_E)}function VE(e){const t=(e.encoding||_E)===BE?HE(e.encoded):e.encoded,n=(0,qg.sH)(t,_E),r=n.slice(0,1);if(1===FE(r)){const e=33,t=e+12,i=n.slice(1,e),s=n.slice(e,t);return{type:r,sealed:n.slice(t),iv:s,senderPublicKey:i}}if(2===FE(r)){return{type:r,sealed:n.slice(1),iv:Ty(12)}}const i=n.slice(1,13);return{type:r,sealed:n.slice(13),iv:i}}function WE(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function KE(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function GE(e){return 2===e.type}function QE(e,t){const[n,r,i]=e.split("."),s=Buffer.from(HE(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c="".concat(n,".").concat(r),l=Hb(c),u=function(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return(0,qg.xW)([new Uint8Array([4]),t,n])}(t);if(!CE.verify((0,qg.xW)([o,a]),l,u))throw new Error("Invalid signature");return(0,Hg.Cq)(e).payload}function JE(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function YE(e){const t=Vg.CG[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var ZE=Object.defineProperty,XE=Object.defineProperties,$E=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,tx=Object.prototype.hasOwnProperty,nx=Object.prototype.propertyIsEnumerable,rx=(e,t,n)=>t in e?ZE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ix=(e,t)=>{for(var n in t||(t={}))tx.call(t,n)&&rx(e,n,t[n]);if(ex)for(var n of ex(t))nx.call(t,n)&&rx(e,n,t[n]);return e};function sx(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach(r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}}),t}function ox(e){if(!e.includes("wc:")){const t=Bm(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:ax(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:sx(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function ax(e){return e.startsWith("//")?e.substring(2):e}function cx(e){const t=new URLSearchParams,n=ix(ix(((e,t)=>XE(e,$E(t)))(ix({},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[n,r]=e;void 0!==r&&t.append(n,String(r))}),"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(t)}function lx(e,t,n){return"".concat(e,"?wc_ev=").concat(n,"&topic=").concat(t)}var ux=Object.defineProperty,hx=Object.defineProperties,dx=Object.getOwnPropertyDescriptors,fx=Object.getOwnPropertySymbols,px=Object.prototype.hasOwnProperty,gx=Object.prototype.propertyIsEnumerable,mx=(e,t,n)=>t in e?ux(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yx=(e,t)=>{for(var n in t||(t={}))px.call(t,n)&&mx(e,n,t[n]);if(fx)for(var n of fx(t))gx.call(t,n)&&mx(e,n,t[n]);return e},wx=(e,t)=>hx(e,dx(t));function bx(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push("".concat(n,":").concat(r))}),t}function vx(e){return e.includes(":")}function Ex(e){return vx(e)?e.split(":")[0]:e}function xx(e){var t,n,r;const i={};if(!Nx(e))return i;for(const[s,o]of Object.entries(e)){const e=vx(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=Ex(s);i[l]=wx(yx({},i[l]),{chains:Nm(e,null==(t=i[l])?void 0:t.chains),methods:Nm(a,null==(n=i[l])?void 0:n.methods),events:Nm(c,null==(r=i[l])?void 0:r.events)})}return i}function Ax(e,t){const n=function(e){const t={};return null!==e&&void 0!==e&&e.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push("".concat(r,":").concat(i))}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[r,i]of Object.entries(n))i.methods?i.methods=Nm(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const Sx={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},kx={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ix(e,t){const{message:n,code:r}=kx[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function Px(e,t){const{message:n,code:r}=Sx[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function Ox(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function Nx(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Cx(e){return typeof e>"u"}function Rx(e,t){return!(!t||!Cx(e))||"string"==typeof e&&!!e.trim().length}function Tx(e,t){return!(!t||!Cx(e))||"number"==typeof e&&!isNaN(e)}function _x(e){return!(!Rx(e,!1)||!e.includes(":"))&&2===e.split(":").length}function Bx(e){let t=!0;return Ox(e)?e.length&&(t=e.every(e=>Rx(e,!1))):t=!1,t}function jx(e,t,n){let r=null;return Object.entries(e).forEach(e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return Ox(t)&&t.length?t.forEach(e=>{r||_x(e)||(r=Px("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):_x(e)||(r=Px("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(i,Jg(i,s),"".concat(t," ").concat(n));o&&(r=o)}),r}function Ux(e,t){let n=null;return Ox(e)?e.forEach(e=>{n||function(e){if(Rx(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&_x(e)}}return!1}(e)||(n=Px("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):n=Px("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function Lx(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return Bx(null===e||void 0===e?void 0:e.methods)?Bx(null===e||void 0===e?void 0:e.events)||(n=Px("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=Px("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}),n}function Dx(e,t){let n=null;if(e&&Nx(e)){const r=Lx(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=Ux(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}),n}(e,t);i&&(n=i)}else n=Ix("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function Mx(e){return Rx(e.protocol,!0)}function Fx(e){return typeof e<"u"&&null!==typeof e}function zx(e,t){return!(!_x(t)||!function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...bx(e.accounts))}),t}(e).includes(t))}function Hx(e,t,n){return!!Rx(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{bx(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}function qx(e,t,n){return!!Rx(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{bx(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}function Vx(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=bx(e[n].accounts);null===r||void 0===r||r.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes("".concat(r,":"))),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=Wx(Object.keys(e)),l=Wx(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=Ix("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),bm(o,a)||(r=Ix("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=bx(t[e].accounts);i.includes(e)||(r=Ix("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}),o.forEach(e=>{r||(bm(i[e].methods,s[e].methods)?bm(i[e].events,s[e].events)||(r=Ix("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=Ix("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))}),r}function Wx(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Kx(){const e=fm();return new Promise(t=>{switch(e){case am:t(function(){var e;return dm()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case sm:t(async function(){if(hm()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}})}function Gx(e){switch(fm()){case am:!function(e){!hm()&&dm()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case sm:!function(e){var t;hm()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&(null===(t=n.g)||void 0===t||t.NetInfo.addEventListener(t=>e(null===t||void 0===t?void 0:t.isConnected)))}(e)}}const Qx={};class Jx{static get(e){return Qx[e]}static set(e,t){Qx[e]=t}static delete(e){delete Qx[e]}}function Yx(e){let{publicKey:t,signature:n,payload:r}=e;var i;const s=Zx(r.method),o=128|parseInt((null==(i=r.version)?void 0:i.toString())||"4"),a=function(e){const t=Dg.A.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),c="00"===r.era?new Uint8Array([0]):Zx(r.era);if(1!==c.length&&2!==c.length)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),u=new Uint8Array([255&l,l>>8&255]),h=BigInt("0x".concat(function(e){return e.startsWith("0x")?e.slice(2):e}(r.tip))),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(h),f=new Uint8Array([0,...t,a,...n,...c,...u,...d,...s]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(f.length+1);return new Uint8Array([...p,o,...f])}function Zx(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Xx(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=function(e){const t=Dg.A.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=Yx({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=Zx(e),n=(0,Wg.blake2b)(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}(Buffer.from(r).toString("hex"))}var $x=n(917),eA=n(8129),tA=n(9397),nA=n(1775),rA=Object.defineProperty,iA=(e,t,n)=>((e,t,n)=>t in e?rA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class sA extends nA.H{constructor(e){super(),this.opts=e,iA(this,"protocol","wc"),iA(this,"version",2)}}var oA=Object.defineProperty,aA=(e,t,n)=>((e,t,n)=>t in e?oA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class cA extends nA.H{constructor(e,t){super(),this.core=e,this.logger=t,aA(this,"records",new Map)}}class lA{constructor(e,t){this.logger=e,this.core=t}}class uA extends nA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class hA extends nA.H{constructor(e){super()}}class dA{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class fA extends nA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class pA extends nA.H{constructor(e,t){super(),this.core=e,this.logger=t}}class gA{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class mA{constructor(e,t){this.projectId=e,this.logger=t}}class yA{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var wA=Object.defineProperty,bA=(e,t,n)=>((e,t,n)=>t in e?wA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);Dp();class vA{constructor(e){this.opts=e,bA(this,"protocol","wc"),bA(this,"version",2)}}Lp.EventEmitter;class EA{constructor(e){this.client=e}}var xA=n(8661),AA=n(7312),SA=n(632),kA=n(2636);const IA="core",PA="".concat("wc","@2:").concat(IA,":"),OA="error",NA={database:":memory:"},CA="client_ed25519_seed",RA=Fp.ONE_DAY,TA=Fp.SIX_HOURS,_A="wss://relay.walletconnect.org",BA="relayer_message",jA="relayer_message_ack",UA="relayer_connect",LA="relayer_disconnect",DA="relayer_error",MA="relayer_connection_stalled",FA="relayer_publish",zA="payload",HA="connect",qA="disconnect",VA="error",WA="2.21.9",KA={link_mode:"link_mode",relay:"relay"},GA="inbound",QA="outbound",JA="WALLETCONNECT_LINK_MODE_APPS",YA="subscription_created",ZA="subscription_deleted",XA="subscription_sync",$A="subscription_resubscribed",eS=(Fp.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Fp.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Fp.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:0},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:0}}}),tS="pairing_create",nS="pairing_expire",rS="pairing_delete",iS="pairing_ping",sS="history_created",oS="history_updated",aS="history_deleted",cS="history_sync",lS="expirer_created",uS="expirer_deleted",hS="expirer_expired",dS="expirer_sync",fS="https://verify.walletconnect.org",pS=fS,gS="".concat(pS,"/v3"),mS=["https://verify.walletconnect.com",fS],yS="pairing_started",wS="pairing_uri_validation_success",bS="pairing_uri_not_expired",vS="store_new_pairing",ES="subscribing_pairing_topic",xS="subscribe_pairing_topic_success",AS="existing_pairing",SS="pairing_not_expired",kS="emit_inactive_pairing",IS="emit_session_proposal",PS="no_internet_connection",OS="malformed_pairing_uri",NS="active_pairing_already_exists",CS="subscribe_pairing_topic_failure",RS="pairing_expired",TS="proposal_listener_not_found",_S="session_approve_started",BS="session_namespaces_validation_success",jS="subscribing_session_topic",US="subscribe_session_topic_success",LS="session_approve_publish_success",DS="store_session",MS="no_internet_connection",FS="proposal_expired",zS="subscribe_session_topic_failure",HS="session_approve_namespace_validation_failure",qS="proposal_not_found",VS="authenticated_session_approve_started",WS="create_authenticated_session_topic",KS="cacaos_verified",GS="store_authenticated_session",QS="subscribing_authenticated_session_topic",JS="subscribe_authenticated_session_topic_success",YS="publishing_authenticated_session_approve",ZS="no_internet_connection",XS="invalid_cacao",$S="subscribe_authenticated_session_topic_failure",ek="authenticated_session_approve_publish_failure",tk="authenticated_session_pending_request_not_found";var nk=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},rk=nk;const ik=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class sk{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class ok{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ck(this,e)}}class ak{constructor(e){this.decoders=e}or(e){return ck(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const ck=(e,t)=>new ak((0,s.A)((0,s.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class lk{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new sk(e,t,n),this.decoder=new ok(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const uk=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new lk(t,n,r,i)},hk=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=rk(r,n);return uk({prefix:t,name:n,encode:i,decode:e=>ik(s(e))})},dk=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return uk({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},fk=uk({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var pk=Object.freeze({__proto__:null,identity:fk});const gk=dk({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mk=Object.freeze({__proto__:null,base2:gk});const yk=dk({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wk=Object.freeze({__proto__:null,base8:yk});const bk=hk({prefix:"9",name:"base10",alphabet:"0123456789"});var vk=Object.freeze({__proto__:null,base10:bk});const Ek=dk({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xk=dk({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ak=Object.freeze({__proto__:null,base16:Ek,base16upper:xk});const Sk=dk({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kk=dk({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ik=dk({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pk=dk({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ok=dk({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nk=dk({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ck=dk({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rk=dk({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tk=dk({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _k=Object.freeze({__proto__:null,base32:Sk,base32upper:kk,base32pad:Ik,base32padupper:Pk,base32hex:Ok,base32hexupper:Nk,base32hexpad:Ck,base32hexpadupper:Rk,base32z:Tk});const Bk=hk({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jk=hk({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Uk=Object.freeze({__proto__:null,base36:Bk,base36upper:jk});const Lk=hk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dk=hk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mk=Object.freeze({__proto__:null,base58btc:Lk,base58flickr:Dk});const Fk=dk({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zk=dk({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hk=dk({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qk=dk({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Vk=Object.freeze({__proto__:null,base64:Fk,base64pad:zk,base64url:Hk,base64urlpad:qk});const Wk=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Kk=Wk.reduce((e,t,n)=>(e[n]=t,e),[]),Gk=Wk.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const Qk=uk({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Kk[t],"")},decode:function(e){const t=[];for(const n of e){const e=Gk[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var Jk=Object.freeze({__proto__:null,base256emoji:Qk}),Yk=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=$k;)n[r++]=255&t|Zk,t/=128;for(;t&Xk;)n[r++]=255&t|Zk,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Zk=128,Xk=-128,$k=Math.pow(2,31);var eI=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&nI)<<s:(r&nI)*Math.pow(2,s),s+=7}while(r>=tI);return e.bytes=o-n,i},tI=128,nI=127;var rI=Math.pow(2,7),iI=Math.pow(2,14),sI=Math.pow(2,21),oI=Math.pow(2,28),aI=Math.pow(2,35),cI=Math.pow(2,42),lI=Math.pow(2,49),uI=Math.pow(2,56),hI=Math.pow(2,63),dI={encode:Yk,decode:eI,encodingLength:function(e){return e<rI?1:e<iI?2:e<sI?3:e<oI?4:e<aI?5:e<cI?6:e<lI?7:e<uI?8:e<hI?9:10}};const fI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return dI.encode(e,t,n),t},pI=e=>dI.encodingLength(e),gI=(e,t)=>{const n=t.byteLength,r=pI(e),i=r+pI(n),s=new Uint8Array(i+n);return fI(e,s,0),fI(n,s,r),s.set(t,i),new mI(e,n,t,s)};class mI{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const yI=e=>{let{name:t,code:n,encode:r}=e;return new wI(t,n,r)};class wI{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?gI(this.code,t):t.then(e=>gI(this.code,e))}throw Error("Unknown type, must be binary type")}}const bI=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),vI=yI({name:"sha2-256",code:18,encode:bI("SHA-256")}),EI=yI({name:"sha2-512",code:19,encode:bI("SHA-512")});var xI=Object.freeze({__proto__:null,sha256:vI,sha512:EI});const AI=ik,SI={code:0,name:"identity",encode:AI,digest:e=>gI(0,AI(e))};var kI=Object.freeze({__proto__:null,identity:SI});new TextEncoder,new TextDecoder;const II=(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},pk),mk),wk),vk),Ak),_k),Uk),Mk),Vk),Jk);function PI(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function OI(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,s.A)((0,s.A)({},xI),kI);const NI=OI("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),CI=OI("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?PI(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),RI=(0,s.A)({utf8:NI,"utf-8":NI,hex:II.base16,latin1:CI,ascii:CI,binary:CI},II);var TI=Object.defineProperty,_I=(e,t,n)=>((e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class BI{constructor(e,t){this.core=e,this.logger=t,_I(this,"keychain",new Map),_I(this,"name","keychain"),_I(this,"version","0.3"),_I(this,"initialized",!1),_I(this,"storagePrefix",PA),_I(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),_I(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),_I(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),_I(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=Ix("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}),_I(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,tA.U5)(t,this.name)}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,vm(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Em(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jI=Object.defineProperty,UI=(e,t,n)=>((e,t,n)=>t in e?jI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class LI{constructor(e,t,n){this.core=e,this.logger=t,UI(this,"name","crypto"),UI(this,"keychain"),UI(this,"randomSessionIdentifier",UE()),UI(this,"initialized",!1),UI(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),UI(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),UI(this,"getClientId",async()=>{this.isInitialized();const e=await this.getClientSeed(),t=Hg.TZ(e);return Hg.UF(t.publicKey)}),UI(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=rE.utils.randomPrivateKey(),t=rE.getPublicKey(e);return{privateKey:(0,qg.dI)(e,TE),publicKey:(0,qg.dI)(t,TE)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),UI(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=Hg.TZ(t),r=this.randomSessionIdentifier,i=RA;return await Hg.FA(r,e,i,n)}),UI(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=rE.getSharedSecret((0,qg.sH)(e,TE),(0,qg.sH)(t,TE)),r=zb(Hb,n,void 0,void 0,32);return(0,qg.dI)(r,TE)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),UI(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||LE(e);return await this.keychain.set(n,e),n}),UI(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),UI(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),UI(this,"encode",async(e,t,n)=>{this.isInitialized();const r=WE(n),i=(0,xA.h)(t);if(GE(r))return function(e,t){const n=ME(2),r=Ty(12),i=qE({type:n,sealed:(0,qg.sH)(e,jE),iv:r});return t===BE?zE(i):i}(i,null===n||void 0===n?void 0:n.encoding);if(KE(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=ME(typeof e.type<"u"?e.type:0);if(1===FE(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,qg.sH)(e.senderPublicKey,TE):void 0,r=typeof e.iv<"u"?(0,qg.sH)(e.iv,TE):Ty(12),i=(0,qg.sH)(e.symKey,TE),s=qE({type:t,sealed:jb(i,r).encrypt((0,qg.sH)(e.message,jE)),iv:r,senderPublicKey:n});return e.encoding===BE?zE(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:null===n||void 0===n?void 0:n.encoding})}),UI(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=VE({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return WE({type:FE(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,qg.dI)(n.senderPublicKey,TE):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,n);if(GE(r)){const e=function(e,t){const{sealed:n}=VE({encoded:e,encoding:t});return(0,qg.dI)(n,jE)}(t,null===n||void 0===n?void 0:n.encoding);return(0,xA.j)(e)}if(KE(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=(0,qg.sH)(e.symKey,TE),{sealed:n,iv:r}=VE({encoded:e.encoded,encoding:e.encoding}),i=jb(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return(0,qg.dI)(i,jE)}({symKey:this.getSymKey(e),encoded:t,encoding:null===n||void 0===n?void 0:n.encoding});return(0,xA.j)(r)}catch(iA){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(iA)}}),UI(this,"getPayloadType",function(e){return FE(VE({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:_E}).type)}),UI(this,"getPayloadSenderPublicKey",function(e){const t=VE({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:_E});return t.senderPublicKey?(0,qg.dI)(t.senderPublicKey,TE):void 0}),this.core=e,this.logger=(0,tA.U5)(t,this.name),this.keychain=n||new BI(this.core,this.logger)}get context(){return(0,tA.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(CA)}catch(t){e=UE(),await this.keychain.set(CA,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=RI[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):PI(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var DI=Object.defineProperty,MI=Object.defineProperties,FI=Object.getOwnPropertyDescriptors,zI=Object.getOwnPropertySymbols,HI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,VI=(e,t,n)=>t in e?DI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WI=(e,t,n)=>VI(e,"symbol"!=typeof t?t+"":t,n);class KI extends lA{constructor(e,t){super(e,t),this.logger=e,this.core=t,WI(this,"messages",new Map),WI(this,"messagesWithoutClientAck",new Map),WI(this,"name","messages"),WI(this,"version","0.3"),WI(this,"initialized",!1),WI(this,"storagePrefix",PA),WI(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(bA){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(bA)}finally{this.initialized=!0}}}),WI(this,"set",async(e,t,n)=>{this.isInitialized();const r=DE(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===GA){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>MI(e,FI(t)))(((e,t)=>{for(var n in t||(t={}))HI.call(t,n)&&VI(e,n,t[n]);if(zI)for(var n of zI(t))qI.call(t,n)&&VI(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),WI(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),WI(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),WI(this,"has",(e,t)=>{this.isInitialized();return typeof this.get(e)[DE(t)]<"u"}),WI(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[DE(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()}),WI(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,tA.U5)(e,this.name),this.core=t}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,vm(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,vm(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Em(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Em(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var GI=Object.defineProperty,QI=Object.defineProperties,JI=Object.getOwnPropertyDescriptors,YI=Object.getOwnPropertySymbols,ZI=Object.prototype.hasOwnProperty,XI=Object.prototype.propertyIsEnumerable,$I=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eP=(e,t)=>{for(var n in t||(t={}))ZI.call(t,n)&&$I(e,n,t[n]);if(YI)for(var n of YI(t))XI.call(t,n)&&$I(e,n,t[n]);return e},tP=(e,t)=>QI(e,JI(t)),nP=(e,t,n)=>$I(e,"symbol"!=typeof t?t+"":t,n);class rP extends uA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,nP(this,"events",new Lp.EventEmitter),nP(this,"name","publisher"),nP(this,"queue",new Map),nP(this,"publishTimeout",(0,Fp.toMiliseconds)(Fp.ONE_MINUTE)),nP(this,"initialPublishTimeout",(0,Fp.toMiliseconds)(15*Fp.ONE_SECOND)),nP(this,"needsTransportRestart",!1),nP(this,"publish",async(e,t,n)=>{var r,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=(null===n||void 0===n?void 0:n.ttl)||TA,l=(null===n||void 0===n?void 0:n.prompt)||!1,u=(null===n||void 0===n?void 0:n.tag)||0,h=(null===n||void 0===n?void 0:n.id)||(0,SA.getBigIntRpcId)().toString(),d=YE(JE().protocol),f={id:h,method:(null===n||void 0===n?void 0:n.publishMethod)||d.publish,params:eP({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:null===n||void 0===n?void 0:n.attestation},null===n||void 0===n?void 0:n.tvf)},p="Failed to publish payload, please try again. id:".concat(h," tag:").concat(u);try{Cx(null==(r=f.params)?void 0:r.prompt)&&(null==(i=f.params)||delete i.prompt),Cx(null==(s=f.params)?void 0:s.tag)&&(null==(o=f.params)||delete o.tag);const a=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=f.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(FA,t),e())};this.relayer.events.on(FA,t);const r=Am(new Promise((e,t)=>{this.rpcPublish(f,n).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(h," tag:").concat(u));try{await r,this.events.removeListener(FA,t)}catch(wA){this.queue.set(h,{request:f,opts:n,attempt:1}),this.logger.warn(wA,null===wA||void 0===wA?void 0:wA.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:e,message:t,opts:n}}),await Am(a,this.publishTimeout,p)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),null!=(a=null===n||void 0===n?void 0:n.internal)&&a.throwOnFailedPublish)throw g}finally{this.queue.delete(h)}}),nP(this,"publishCustom",async e=>{var t,n,r,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:h,tag:d,ttl:f=Fp.FIVE_MINUTES}=a,p=a.id||(0,SA.getBigIntRpcId)().toString(),g=YE(JE().protocol),m=u||g.publish,y={id:p,method:m,params:eP(tP(eP({},o),{ttl:f,prompt:h,tag:d,attestation:c}),l)},w="Failed to publish custom payload, please try again. id:".concat(p," tag:").concat(d);try{Cx(null==(t=y.params)?void 0:t.prompt)&&(null==(n=y.params)||delete n.prompt),Cx(null==(r=y.params)?void 0:r.tag)&&(null==(i=y.params)||delete i.tag);const e=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=y.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(FA,t),e())};this.relayer.events.on(FA,t);const n=Am(new Promise((e,t)=>{this.rpcPublish(y,a).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial custom payload publish, retrying.... method:".concat(m," id:").concat(p," tag:").concat(d));try{await n,this.events.removeListener(FA,t)}catch(oN){this.queue.set(p,{request:y,opts:a,attempt:1}),this.logger.warn(oN,null===oN||void 0===oN?void 0:oN.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:o,opts:a}}),await Am(e,this.publishTimeout,w)}catch(wA){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(wA),null!=(s=null===a||void 0===a?void 0:a.internal)&&s.throwOnFailedPublish)throw wA}finally{this.queue.delete(p)}}),nP(this,"on",(e,t)=>{this.events.on(e,t)}),nP(this,"once",(e,t)=>{this.events.once(e,t)}),nP(this,"off",(e,t)=>{this.events.off(e,t)}),nP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,tA.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,tA.oI)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(FA,eP(eP({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,tP(eP({},e),{attempt:r})),this.logger.warn({},"Publisher: queue->publishing: ".concat(e.request.id,", tag: ").concat(null==(n=e.request.params)?void 0:n.tag,", attempt: ").concat(r)),await this.rpcPublish(e.request,e.opts),this.logger.warn({},"Publisher: queue->published: ".concat(e.request.id))})}registerEventListeners(){this.relayer.core.heartbeat.on($x.li.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(MA);this.checkQueue()}),this.relayer.on(jA,e=>{this.removeRequestFromQueue(e.id.toString())})}}var iP=Object.defineProperty,sP=(e,t,n)=>((e,t,n)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class oP{constructor(){sP(this,"map",new Map),sP(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),sP(this,"get",e=>this.map.get(e)||[]),sP(this,"exists",(e,t)=>this.get(e).includes(t)),sP(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),sP(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var aP=Object.defineProperty,cP=Object.defineProperties,lP=Object.getOwnPropertyDescriptors,uP=Object.getOwnPropertySymbols,hP=Object.prototype.hasOwnProperty,dP=Object.prototype.propertyIsEnumerable,fP=(e,t,n)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pP=(e,t)=>{for(var n in t||(t={}))hP.call(t,n)&&fP(e,n,t[n]);if(uP)for(var n of uP(t))dP.call(t,n)&&fP(e,n,t[n]);return e},gP=(e,t)=>cP(e,lP(t)),mP=(e,t,n)=>fP(e,"symbol"!=typeof t?t+"":t,n);class yP extends fA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,mP(this,"subscriptions",new Map),mP(this,"topicMap",new oP),mP(this,"events",new Lp.EventEmitter),mP(this,"name","subscription"),mP(this,"version","0.3"),mP(this,"pending",new Map),mP(this,"cached",[]),mP(this,"initialized",!1),mP(this,"storagePrefix",PA),mP(this,"subscribeTimeout",(0,Fp.toMiliseconds)(Fp.ONE_MINUTE)),mP(this,"initialSubscribeTimeout",(0,Fp.toMiliseconds)(15*Fp.ONE_SECOND)),mP(this,"clientId"),mP(this,"batchSubscribeTopicsLimit",500),mP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),mP(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=JE(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};null!=(n=null===t||void 0===t?void 0:t.internal)&&n.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,r,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}}),mP(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),mP(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),mP(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),mP(this,"on",(e,t)=>{this.events.on(e,t)}),mP(this,"once",(e,t)=>{this.events.once(e,t)}),mP(this,"off",(e,t)=>{this.events.off(e,t)}),mP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),mP(this,"start",async()=>{await this.onConnect()}),mP(this,"stop",async()=>{await this.onDisconnect()}),mP(this,"restart",async()=>{await this.restore(),await this.onRestart()}),mP(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),mP(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on($x.li.pulse,async()=>{await this.checkPending()}),this.events.on(YA,async e=>{const t=YA;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(ZA,async e=>{const t=ZA;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,tA.U5)(t,this.name),this.clientId=""}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch(r){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=JE(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=Px("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(r){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(r),r}}async rpcSubscribe(e,t,n){var r,i;const s=await this.getSubscriptionId(e);if(null!=(r=null===n||void 0===n?void 0:n.internal)&&r.skipSubscribe)return s;(!n||(null===n||void 0===n?void 0:n.transportType)===KA.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:YE(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=null===n||void 0===n?void 0:n.internal)?void 0:i.throwOnFailedPublish;try{if((null===n||void 0===n?void 0:n.transportType)===KA.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,Fp.toMiliseconds)(Fp.ONE_SECOND)),s;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(YA,n),t(r.id))};this.events.on(YA,n);try{const r=await Am(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)}).then(e)}),this.initialSubscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));this.events.removeListener(YA,n),t(r)}catch(r){}}),r=await Am(t,this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!r&&a)throw new Error("Subscribing to ".concat(e," failed, please try again"));return r?s:null}catch(sA){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(MA),a)throw sA}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:YE(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Am(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(n){this.relayer.events.emit(MA)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:YE(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await Am(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(r){this.relayer.events.emit(MA)}return n}rpcUnsubscribe(e,t,n){const r={method:YE(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,gP(pP({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,pP({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,pP({},t)),this.topicMap.set(t.topic,e),this.events.emit(YA,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=Ix("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(ZA,gP(pP({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(XA)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit($A)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=Ix("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(uT){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(uT)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>gP(pP({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,Fp.toMiliseconds)(Fp.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return DE(e+await this.getClientId())}}var wP=Object.defineProperty,bP=Object.getOwnPropertySymbols,vP=Object.prototype.hasOwnProperty,EP=Object.prototype.propertyIsEnumerable,xP=(e,t,n)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AP=(e,t)=>{for(var n in t||(t={}))vP.call(t,n)&&xP(e,n,t[n]);if(bP)for(var n of bP(t))EP.call(t,n)&&xP(e,n,t[n]);return e},SP=(e,t,n)=>xP(e,"symbol"!=typeof t?t+"":t,n);class kP extends hA{constructor(e){super(e),SP(this,"protocol","wc"),SP(this,"version",2),SP(this,"core"),SP(this,"logger"),SP(this,"events",new Lp.EventEmitter),SP(this,"provider"),SP(this,"messages"),SP(this,"subscriber"),SP(this,"publisher"),SP(this,"name","relayer"),SP(this,"transportExplicitlyClosed",!1),SP(this,"initialized",!1),SP(this,"connectionAttemptInProgress",!1),SP(this,"relayUrl"),SP(this,"projectId"),SP(this,"packageName"),SP(this,"bundleId"),SP(this,"hasExperiencedNetworkDisruption",!1),SP(this,"pingTimeout"),SP(this,"heartBeatTimeout",(0,Fp.toMiliseconds)(Fp.THIRTY_SECONDS+Fp.FIVE_SECONDS)),SP(this,"reconnectTimeout"),SP(this,"connectPromise"),SP(this,"reconnectInProgress",!1),SP(this,"requestsInFlight",[]),SP(this,"connectTimeout",(0,Fp.toMiliseconds)(15*Fp.ONE_SECOND)),SP(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||(0,SA.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i="".concat(r,":").concat((null==(n=e.params)?void 0:n.tag)||"");this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(i){throw this.logger.debug("Failed to Publish Request: ".concat(r)),i}}),SP(this,"resetPingTimeout",()=>{um()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(i){this.logger.warn(i,null===i||void 0===i?void 0:i.message)}},this.heartBeatTimeout))}),SP(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),SP(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(UA)}),SP(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()}),SP(this,"onProviderErrorHandler",e=>{this.logger.fatal("Fatal socket error: ".concat(e.message)),this.events.emit(DA,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),SP(this,"registerProviderListeners",()=>{this.provider.on(zA,this.onPayloadHandler),this.provider.on(HA,this.onConnectHandler),this.provider.on(qA,this.onDisconnectHandler),this.provider.on(VA,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,tA.U5)(e.logger,this.name):(0,tA.h6)((0,tA.iP)({level:e.logger||"error"})),this.messages=new KI(this.logger,e.core),this.subscriber=new yP(this,this.logger),this.publisher=new rP(this,this.logger),this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||_A,hm()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?this.packageName=pm():hm()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(this.bundleId=pm()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,null===e||void 0===e?void 0:e.message))}get context(){return(0,tA.oI)(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:KA.relay},QA)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===(null===t||void 0===t?void 0:t.transportType))&&await this.toEstablishConnection();const s=typeof(null==(n=null===t||void 0===t?void 0:t.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(YA,c),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(YA,c)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,AP({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Am(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl))}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Kx())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug("Batch of ".concat(t.length," message events sorted"));for(const r of t)try{await this.onMessageEvent(r)}catch(n){this.logger.warn(n,"Error while processing batch message event: "+(null===n||void 0===n?void 0:n.message))}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:Im(Fp.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(BA,e),await this.recordMessageEvent(e,GA)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(t,"...")),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(qA,n),await Am(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch(e=>{t(e)}).finally(()=>{this.provider.off(qA,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(qA,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(qA,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(bA){await this.subscriber.stop();const t=bA;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(t));break}await new Promise(e=>setTimeout(e,(0,Fp.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if(um())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,null===s||void 0===s?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new AA.F(new kA.A(wm({sdkVersion:WA,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn("Ignoring invalid/empty message: ".concat(n)),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn("Ignoring message for unknown topic ".concat(t)),!0;const r=this.messages.has(t,n);return r&&this.logger.warn("Ignoring duplicate message: ".concat(n)),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,SA.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:KA.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(AP({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,SA.isJsonRpcResponse)(e)&&this.events.emit(jA,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,GA),this.events.emit(BA,e))}async acknowledgePayload(e){const t=(0,SA.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(zA,this.onPayloadHandler),this.provider.off(HA,this.onConnectHandler),this.provider.off(qA,this.onDisconnectHandler),this.provider.off(VA,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Kx();Gx(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on($x.li.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!dm()||!(0,zp.getDocument)()||"visible"===(null==(e=(0,zp.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(Ub){this.logger.warn(Ub,null===Ub||void 0===Ub?void 0:Ub.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(LA),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Fp.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function IP(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function PP(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const OP="[object Arguments]",NP="[object Object]";function CP(){}function RP(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function TP(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return _P(e,t,s,o)}return _P(e,t,s,o)}function _P(e,t,n,r){if(Object.is(e,t))return!0;let i=PP(e),s=PP(t);if(i===OP&&(i=NP),s===OP&&(s=NP),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=null!==n&&void 0!==n?n:new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!TP(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex(i=>TP(a,i,void 0,e,t,n,r));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!TP(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&_P(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&_P(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case NP:{if(!(_P(e.constructor,t.constructor,n,r)||RP(e)&&RP(t)))return!1;const i=[...Object.keys(e),...IP(e)],s=[...Object.keys(t),...IP(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!TP(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function BP(e,t){return function(e,t,n){return TP(e,t,void 0,void 0,void 0,void 0,n)}(e,t,CP)}var jP=Object.defineProperty,UP=Object.getOwnPropertySymbols,LP=Object.prototype.hasOwnProperty,DP=Object.prototype.propertyIsEnumerable,MP=(e,t,n)=>t in e?jP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FP=(e,t)=>{for(var n in t||(t={}))LP.call(t,n)&&MP(e,n,t[n]);if(UP)for(var n of UP(t))DP.call(t,n)&&MP(e,n,t[n]);return e},zP=(e,t,n)=>MP(e,"symbol"!=typeof t?t+"":t,n);class HP extends dA{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:PA,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,zP(this,"map",new Map),zP(this,"version","0.3"),zP(this,"cached",[]),zP(this,"initialized",!1),zP(this,"getKey"),zP(this,"storagePrefix",PA),zP(this,"recentlyDeleted",[]),zP(this,"recentlyDeletedLimit",200),zP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!Cx(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),zP(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),zP(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),zP(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>BP(t[n],e[n]))):this.values)),zP(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=FP(FP({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),zP(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,tA.U5)(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=Ix("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=Ix("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=Ix("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(uT){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(uT)}}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qP=Object.defineProperty,VP=(e,t,n)=>((e,t,n)=>t in e?qP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class WP{constructor(e,t){this.core=e,this.logger=t,VP(this,"name","pairing"),VP(this,"version","0.3"),VP(this,"events",new(Dp())),VP(this,"pairings"),VP(this,"initialized",!1),VP(this,"storagePrefix",PA),VP(this,"ignoredPayloadTypes",[1]),VP(this,"registeredMethods",[]),VP(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),VP(this,"register",e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]}),VP(this,"create",async e=>{this.isInitialized();const t=UE(),n=await this.core.crypto.setSymKey(t),r=Im(Fp.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=cx({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(tS,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:null===e||void 0===e?void 0:e.transportType,internal:null===e||void 0===e?void 0:e.internal}),{topic:n,uri:o}}),VP(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[yS]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=ox(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(wS),t.addTrace(bS),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace(AS),a.active)throw t.setError(NS),new Error("Pairing already exists: ".concat(n,". Please try again with a new connection URI."));t.addTrace(SS)}const c=s||Im(Fp.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace(vS),e.activatePairing&&await this.activate({topic:n}),this.events.emit(tS,l),t.addTrace(kS),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(ES);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(PS)}try{await this.core.relayer.subscribe(n,{relay:i})}catch(h){throw t.setError(CS),h}return t.addTrace(xS),l}),VP(this,"activate",async e=>{let{topic:t}=e;this.isInitialized();const n=Im(Fp.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})}),VP(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=xm();this.events.once(Om("pairing_ping",e),e=>{let{error:t}=e;t?i(t):r()}),await n()}}),VP(this,"updateExpiry",async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})}),VP(this,"updateMetadata",async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})}),VP(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),VP(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",Px("USER_DISCONNECTED")),await this.deletePairing(t))}),VP(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return cx({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),VP(this,"sendRequest",async(e,t,n)=>{const r=(0,SA.formatJsonRpcRequest)(t,n),i=await this.core.crypto.encode(e,r),s=eS[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),VP(this,"sendResult",async(e,t,n)=>{const r=(0,SA.formatJsonRpcResult)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=eS[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),VP(this,"sendError",async(e,t,n)=>{const r=(0,SA.formatJsonRpcError)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=eS[s]?eS[s].res:eS.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),VP(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,Px("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),VP(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>Pm(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),VP(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),VP(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),VP(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(iS,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),VP(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("pairing_ping",n),{}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("pairing_ping",n),{error:t.error})},500)}),VP(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(rS,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),VP(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=Px("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(rA){await this.sendError(n,e,rA),this.logger.error(rA)}}),VP(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(Px("WC_METHOD_UNSUPPORTED",e))}),VP(this,"isValidPair",(e,t)=>{var n;if(!Fx(e)){const{message:n}=Ix("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(OS),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(Rx(e,!1))return!!t(e)||t(Bm(e))}catch(n){}return!1}(e.uri)){const{message:n}=Ix("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(OS),new Error(n)}const r=ox(null===e||void 0===e?void 0:e.uri);if(null==(n=null===r||void 0===r?void 0:r.relay)||!n.protocol){const{message:e}=Ix("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(OS),new Error(e)}if(null==r||!r.symKey){const{message:e}=Ix("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(OS),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Fp.toMiliseconds)(null===r||void 0===r?void 0:r.expiryTimestamp)<Date.now()){t.setError(RS);const{message:e}=Ix("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),VP(this,"isValidPing",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),VP(this,"isValidDisconnect",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),VP(this,"isValidPairingTopic",async e=>{if(!Rx(e,!1)){const{message:t}=Ix("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=Ix("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(Pm(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=Ix("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}),this.core=e,this.logger=(0,tA.U5)(t,this.name),this.pairings=new HP(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,tA.oI)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(BA,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==KA.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);(0,SA.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,SA.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(Ur){this.logger.error(Ur)}})}registerExpirerEvents(){this.core.expirer.on(hS,async e=>{const{topic:t}=km(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(nS,{topic:t}))})}}var KP=Object.defineProperty,GP=(e,t,n)=>((e,t,n)=>t in e?KP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class QP extends cA{constructor(e,t){super(e,t),this.core=e,this.logger=t,GP(this,"records",new Map),GP(this,"events",new Lp.EventEmitter),GP(this,"name","history"),GP(this,"version","0.3"),GP(this,"cached",[]),GP(this,"initialized",!1),GP(this,"storagePrefix",PA),GP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),GP(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Im(Fp.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(sS,r)}),GP(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,SA.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(oS,t))}),GP(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),GP(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(aS,n)}}),this.persist()}),GP(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),GP(this,"on",(e,t)=>{this.events.on(e,t)}),GP(this,"once",(e,t)=>{this.events.once(e,t)}),GP(this,"off",(e,t)=>{this.events.off(e,t)}),GP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,tA.U5)(t,this.name)}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,SA.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=Ix("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(cS)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=Ix("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(uT){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(uT)}}registerEventListeners(){this.events.on(sS,e=>{const t=sS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(oS,e=>{const t=oS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(aS,e=>{const t=aS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on($x.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,Fp.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(aS,t,!1),e=!0)}),e&&this.persist()}catch(uT){this.logger.warn(uT)}}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var JP=Object.defineProperty,YP=(e,t,n)=>((e,t,n)=>t in e?JP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ZP extends pA{constructor(e,t){super(e,t),this.core=e,this.logger=t,YP(this,"expirations",new Map),YP(this,"events",new Lp.EventEmitter),YP(this,"name","expirer"),YP(this,"version","0.3"),YP(this,"cached",[]),YP(this,"initialized",!1),YP(this,"storagePrefix",PA),YP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),YP(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}}),YP(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(lS,{target:n,expiration:r})}),YP(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),YP(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(uS,{target:t,expiration:n})}}),YP(this,"on",(e,t)=>{this.events.on(e,t)}),YP(this,"once",(e,t)=>{this.events.once(e,t)}),YP(this,"off",(e,t)=>{this.events.off(e,t)}),YP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,tA.U5)(t,this.name)}get context(){return(0,tA.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Sm("topic",e)}(e);if("number"==typeof e)return function(e){return Sm("id",e)}(e);const{message:t}=Ix("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dS)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=Ix("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(uT){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(uT)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=Ix("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Fp.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(hS,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on($x.li.pulse,()=>this.checkExpirations()),this.events.on(lS,e=>{const t=lS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(hS,e=>{const t=hS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(uS,e=>{const t=uS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}}var XP=Object.defineProperty,$P=(e,t,n)=>((e,t,n)=>t in e?XP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class eO extends gA{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,$P(this,"name","verify-api"),$P(this,"abortController"),$P(this,"isDevEnv"),$P(this,"verifyUrlV3",gS),$P(this,"storagePrefix",PA),$P(this,"version",2),$P(this,"publicKey"),$P(this,"fetchPromise"),$P(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Fp.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),$P(this,"register",async e=>{if(!dm()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(n,"&decryptedId=").concat(r);try{const e=(0,zp.getDocument)(),t=this.startAbortTimer(5*Fp.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,Hg.Cq)(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",r),r}catch(sA){this.logger.warn(sA)}return""}),$P(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,Hg.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(n,i)}),$P(this,"fetchAttestation",async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const n=this.startAbortTimer(5*Fp.ONE_SECOND),r=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),$P(this,"getVerifyUrl",e=>{let t=e||pS;return mS.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(pS)),t=pS),t}),$P(this,"fetchPublicKey",async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(Fp.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),$P(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),$P(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),$P(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(rA){this.logger.error(rA),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(rA){this.logger.error(rA),this.logger.warn("error validating attestation")}}),$P(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),$P(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),$P(this,"validateAttestation",(e,t)=>{const n=QE(e,t.publicKey),r={hasExpired:(0,Fp.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=(0,tA.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=_m(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,tA.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Fp.toMiliseconds)(e))}}var tO=Object.defineProperty,nO=(e,t,n)=>((e,t,n)=>t in e?tO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class rO extends mA{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,nO(this,"context","echo"),nO(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=(0,tA.U5)(t,this.context)}}var iO=Object.defineProperty,sO=Object.getOwnPropertySymbols,oO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,cO=(e,t,n)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lO=(e,t)=>{for(var n in t||(t={}))oO.call(t,n)&&cO(e,n,t[n]);if(sO)for(var n of sO(t))aO.call(t,n)&&cO(e,n,t[n]);return e},uO=(e,t,n)=>cO(e,"symbol"!=typeof t?t+"":t,n);class hO extends yA{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,uO(this,"context","event-client"),uO(this,"storagePrefix",PA),uO(this,"storageVersion",.1),uO(this,"events",new Map),uO(this,"shouldPersist",!1),uO(this,"init",async()=>{if(!_m())try{const e={eventId:Tm(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:ym(this.core.relayer.protocol,this.core.relayer.version,WA)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),uO(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=Tm(),o=this.core.projectId||"",a=Date.now(),c=lO({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c}),uO(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?lO(lO({},r),this.setMethods(r.eventId)):void 0}),uO(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),uO(this,"setEventListeners",()=>{this.core.heartbeat.on($x.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,Fp.fromMiliseconds)(Date.now())-(0,Fp.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),uO(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),uO(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),uO(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),uO(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),uO(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,lO(lO({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),uO(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(Ur){this.logger.warn(Ur)}}),uO(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(WA).concat(t),{method:"POST",body:JSON.stringify(e)})}),uO(this,"getAppDomain",()=>mm().url),this.logger=(0,tA.U5)(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var dO=Object.defineProperty,fO=Object.getOwnPropertySymbols,pO=Object.prototype.hasOwnProperty,gO=Object.prototype.propertyIsEnumerable,mO=(e,t,n)=>t in e?dO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yO=(e,t)=>{for(var n in t||(t={}))pO.call(t,n)&&mO(e,n,t[n]);if(fO)for(var n of fO(t))gO.call(t,n)&&mO(e,n,t[n]);return e},wO=(e,t,n)=>mO(e,"symbol"!=typeof t?t+"":t,n);class bO extends sA{constructor(e){var t;super(e),wO(this,"protocol","wc"),wO(this,"version",2),wO(this,"name",IA),wO(this,"relayUrl"),wO(this,"projectId"),wO(this,"customStoragePrefix"),wO(this,"events",new Lp.EventEmitter),wO(this,"logger"),wO(this,"heartbeat"),wO(this,"relayer"),wO(this,"crypto"),wO(this,"storage"),wO(this,"history"),wO(this,"expirer"),wO(this,"pairing"),wO(this,"verify"),wO(this,"echoClient"),wO(this,"linkModeSupportedApps"),wO(this,"eventClient"),wO(this,"initialized",!1),wO(this,"logChunkController"),wO(this,"on",(e,t)=>this.events.on(e,t)),wO(this,"once",(e,t)=>this.events.once(e,t)),wO(this,"off",(e,t)=>this.events.off(e,t)),wO(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),wO(this,"dispatchEnvelope",e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:KA.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})});const n=this.getGlobalCore(null===e||void 0===e?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(rA){console.warn("Failed to copy global core",rA)}this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||_A,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=(0,tA.iP)({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:OA,name:IA}),{logger:i,chunkLoggerController:s}=(0,tA.D5)({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,tA.U5)(i,this.name),this.heartbeat=new $x.VH,this.crypto=new LI(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new QP(this,this.logger),this.expirer=new ZP(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new eA.A(yO(yO({},NA),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new kP({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new WP(this,this.logger),this.verify=new eO(this,this.logger,this.storage),this.echoClient=new rO(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new hO(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new bO(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return(0,tA.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(JA,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(JA)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(uT){throw this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),uT),this.logger.error(uT.message),uT}}getGlobalCore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(this.isGlobalCoreDisabled())return;const t="_walletConnectCore_".concat(e),n="".concat(t,"_count");return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn("WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ".concat(globalThis[n]," times.")),globalThis[t]}catch(Ub){return void console.warn("Failed to get global WalletConnect core",Ub)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n="_walletConnectCore_".concat((null==(t=e.opts)?void 0:t.customStoragePrefix)||"");globalThis[n]=e}catch(bA){console.warn("Failed to set global WalletConnect core",bA)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://unidex-a92343a5cde1.herokuapp.com/api/",REACT_APP_RECEIVE_ADDRESS:"0x435c6e931b3ae74f448374f7e74cda97f4ef62fc"}.DISABLE_GLOBAL_CORE}catch(e){return!0}}}const vO=bO,EO="client",xO="".concat("wc","@").concat(2,":").concat(EO,":"),AO=EO,SO="error",kO="WALLETCONNECT_DEEPLINK_CHOICE",IO="Proposal expired",PO=Fp.SEVEN_DAYS,OO={wc_sessionPropose:{req:{ttl:Fp.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Fp.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Fp.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Fp.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Fp.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Fp.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Fp.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Fp.FIVE_MINUTES,prompt:!1,tag:1119}}},NO={min:Fp.FIVE_MINUTES,max:Fp.SEVEN_DAYS},CO="IDLE",RO="ACTIVE",TO={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},_O=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],BO="".concat("wc","@",1.5,":").concat("auth",":"),jO="".concat(BO,":PUB_KEY");var UO=Object.defineProperty,LO=Object.defineProperties,DO=Object.getOwnPropertyDescriptors,MO=Object.getOwnPropertySymbols,FO=Object.prototype.hasOwnProperty,zO=Object.prototype.propertyIsEnumerable,HO=(e,t,n)=>t in e?UO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qO=(e,t)=>{for(var n in t||(t={}))FO.call(t,n)&&HO(e,n,t[n]);if(MO)for(var n of MO(t))zO.call(t,n)&&HO(e,n,t[n]);return e},VO=(e,t)=>LO(e,DO(t)),WO=(e,t,n)=>HO(e,"symbol"!=typeof t?t+"":t,n);class KO extends EA{constructor(e){var t;super(e),t=this,WO(this,"name","engine"),WO(this,"events",new(Dp())),WO(this,"initialized",!1),WO(this,"requestQueue",{state:CO,queue:[]}),WO(this,"sessionRequestQueue",{state:CO,queue:[]}),WO(this,"emittedSessionRequests",new jm({limit:500})),WO(this,"requestQueueDelay",Fp.ONE_SECOND),WO(this,"expectedPairingMethodMap",new Map),WO(this,"recentlyDeletedMap",new Map),WO(this,"recentlyDeletedLimit",200),WO(this,"relayMessageCache",[]),WO(this,"pendingSessions",new Map),WO(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(OO)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Fp.toMiliseconds)(this.requestQueueDelay)))}),WO(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=VO(qO({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const c=xx(e),l=xx(t),u={},h=Object.keys(c).concat(Object.keys(l));for(const d of h)u[d]={chains:Nm(null==(n=c[d])?void 0:n.chains,null==(r=l[d])?void 0:r.chains),methods:Nm(null==(i=c[d])?void 0:i.methods,null==(s=l[d])?void 0:s.methods),events:Nm(null==(o=c[d])?void 0:o.events,null==(a=l[d])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(wA){throw this.client.logger.error("connect() -> pairing.get(".concat(l,") failed")),wA}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){const{message:e}=Ix("NO_MATCHING_KEY","connect() pairing topic: ".concat(l));throw new Error(e)}const h=await this.client.core.crypto.generateKeyPair(),d=OO.wc_sessionPropose.req.ttl||Fp.FIVE_MINUTES,f=Im(d),p=VO(qO(qO({requiredNamespaces:r,optionalNamespaces:i,relays:null!==a&&void 0!==a?a:[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,SA.payloadId)()}),g=Om("session_connect",p.id),{reject:m,resolve:y,done:w}=xm(d,IO),b=e=>{let{id:t}=e;t===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:IO,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",b),t?m(t):n&&y(n)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:c,approval:w}}),WO(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(uT){throw this.client.logger.error("pair() failed"),uT}}),WO(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null===e||void 0===e?void 0:e.id)?void 0:t.toString(),trace:[_S]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(GP){throw i.setError(MS),GP}try{await this.isValidProposalId(null===e||void 0===e?void 0:e.id)}catch(GP){throw this.client.logger.error("approve() -> proposal.get(".concat(null===e||void 0===e?void 0:e.id,") failed")),i.setError(qS),GP}try{await this.isValidApprove(e)}catch(GP){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(HS),GP}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:d,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=h;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:d});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:_S,properties:{topic:d,trace:[_S,BS]}}));const y=await this.client.core.crypto.generateKeyPair(),w=f.publicKey,b=await this.client.core.crypto.generateSharedKey(y,w),v=qO(qO(qO({relay:{protocol:null!==o&&void 0!==o?o:"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:Im(PO)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),E=KA.relay;m.addTrace(jS);try{await this.client.core.relayer.subscribe(b,{transportType:E,internal:{skipSubscribe:!0}})}catch(GP){throw m.setError(zS),GP}m.addTrace(US);const x=VO(qO({},v),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:d,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:y,transportType:KA.relay});await this.client.session.set(b,x),m.addTrace(DS);try{await this.sendApproveSession({sessionTopic:b,proposal:h,pairingProposalResponse:{relay:{protocol:null!==o&&void 0!==o?o:"irn"},responderPublicKey:y},sessionSettleRequest:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),m.addTrace(LS)}catch(GP){throw this.client.logger.error(GP),this.client.session.delete(b,Px("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),GP}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:d,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:d}),await this.setExpiry(b,Im(PO)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),WO(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error("reject() -> proposal.get(".concat(t,") failed")),i}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:OO.wc_sessionPropose.reject}),await this.deleteProposal(t)}),WO(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(sA){throw this.client.logger.error("update() -> isValidUpdate() failed"),sA}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=xm(),o=(0,SA.payloadId)(),a=(0,SA.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(Om("session_update",o),e=>{let{error:t}=e;t?s(t):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:r}}),WO(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(rA){throw this.client.logger.error("extend() -> isValidExtend() failed"),rA}const{topic:t}=e,n=(0,SA.payloadId)(),{done:r,resolve:i,reject:s}=xm();return this.events.once(Om("session_extend",n),e=>{let{error:t}=e;t?s(t):i()}),await this.setExpiry(t,Im(PO)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),WO(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(uA){throw this.client.logger.error("request() -> isValidRequest() failed"),uA}const{chainId:t,request:n,topic:r,expiry:i=OO.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);(null===s||void 0===s?void 0:s.transportType)===KA.relay&&await this.confirmOnlineStateOrThrow();const o=(0,SA.payloadId)(),a=(0,SA.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=xm(i,"Request expired. Please try again.");this.events.once(Om("session_request",o),e=>{let{error:t,result:n}=e;t?u(t):l(n)});const h="wc_sessionRequest",d=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(d)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:{request:VO(qO({},n),{expiryTimestamp:Im(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:d}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:VO(qO({},n),{expiryTimestamp:Im(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(dm()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,kO);await Cm({id:o,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),WO(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n,i=this.client.session.get(t);i.transportType===KA.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,SA.isJsonRpcResult)(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0,appLink:s}):(0,SA.isJsonRpcError)(n)&&await this.sendError({id:r,topic:t,error:n.error,appLink:s}),this.cleanupAfterResponse(e)}),WO(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,SA.payloadId)(),n=(0,SA.getBigIntRpcId)().toString(),{done:r,resolve:i,reject:s}=xm();this.events.once(Om("session_ping",e),e=>{let{error:t}=e;t?s(t):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),WO(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=(0,SA.getBigIntRpcId)().toString(),s=(0,SA.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),WO(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:Px("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=Ix("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),WO(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!bm(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=bx(r),c=n[t];(!bm(Jg(t,c),a)||!bm(c.methods,i)||!bm(c.events,o))&&(s=!1)}),s)}(t,e)))),WO(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),WO(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?KA.link_mode:KA.relay;i===KA.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:h,nbf:d,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const w=await this.client.core.crypto.generateKeyPair(),b=LE(w);if(await Promise.all([this.client.auth.authKeys.set(jO,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:m})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info("sending request to new pairing topic: ".concat(m)),f.length>0){const{namespace:e}=Gg(s[0]);let t=Xw(e,"request",f);ib(g)&&(t=eb(t,g.pop())),g.push(t)}const v=p&&p>OO.wc_sessionAuthenticate.req.ttl?p:OO.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:null!==u&&void 0!==u?u:"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:h,nbf:d,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Im(v)},x={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Im(OO.wc_sessionPropose.req.ttl),id:(0,SA.payloadId)()},{done:A,resolve:S,reject:k}=xm(v,"Request expired"),I=(0,SA.payloadId)(),P=Om("session_connect",x.id),O=Om("session_request",I),N=async e=>{let{error:t,session:n}=e;this.events.off(O,C),t?k(t):n&&S({session:n})},C=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(I,{message:"fulfilled",code:0}),e.error){const t=Px("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(P,N),k(e.error.message))}await this.deleteProposal(x.id),this.events.off(P,N);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await Kw({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),k(Px("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=ib(e.resources),r=[Vw(e.iss)],i=Ww(e.iss);if(n){const e=nb(n),t=rb(n);c.push(...e),r.push(...t)}for(const t of r)l.push("".concat(t,":").concat(i))}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let h;c.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:Im(PO),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:Ax([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,h),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),h=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:KA.link_mode})),S({auths:o,session:h})};let R;this.events.once(P,N),this.events.once(O,C);try{if(r){const e=(0,SA.formatJsonRpcRequest)("wc_sessionAuthenticate",E,I);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:BE});R=lx(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:I}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:x,expiry:OO.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(dk){throw this.events.off(P,N),this.events.off(O,C),dk}return await this.setProposal(x.id,x),await this.setAuthRequest(I,{request:VO(qO({},E),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:null!==R&&void 0!==R?R:y,response:A}}),WO(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[VS]}});try{this.isInitialized()}catch(uA){throw r.setError(ZS),uA}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(tk),new Error("Could not find pending auth request with id ".concat(t));const s=i.transportType||KA.relay;s===KA.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=LE(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const p of n){if(!await Kw({cacao:p,projectId:this.client.core.projectId})){r.setError(XS);const e=Px("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace(KS);const{p:e}=p,n=ib(e.resources),i=[Vw(e.iss)],s=Ww(e.iss);if(n){const e=nb(n),t=rb(n);u.push(...e),i.push(...t)}for(const t of i)h.push("".concat(t,":").concat(s))}const d=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace(WS),(null===u||void 0===u?void 0:u.length)>0){f={topic:d,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:Im(PO),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:Ax([...new Set(u)],[...new Set(h)]),transportType:s},r.addTrace(QS);try{await this.client.core.relayer.subscribe(d,{transportType:s})}catch(uA){throw r.setError($S),uA}r.addTrace(JS),await this.client.session.set(d,f),r.addTrace(GS),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(YS);try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(uA){throw r.setError(ek),uA}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}}),WO(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error("Could not find pending auth request with id ".concat(t));r.transportType===KA.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=LE(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:OO.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),WO(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return Gw(t,n)}),WO(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(Ub){this.client.logger.error(Ub)}},50)}),WO(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info("Cleaning up ".concat(n.length," duplicate pairing(s)")),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(uT){this.client.logger.error(uT)}}),WO(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Px("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(kO).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,Px("USER_DISCONNECTED"))}),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=CO),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),WO(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null===n||void 0===n||n.setError(FS)}catch(n){}await Promise.all([this.client.proposal.delete(e,Px("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),WO(this,"deletePendingSessionRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(t.sessionRequestQueue.state=CO,t.client.events.emit("session_request_expire",{id:e}))}),WO(this,"deletePendingAuthRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])}),WO(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),WO(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Im(OO.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),WO(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=KA.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),WO(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||Im(OO.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),WO(this,"sendRequest",async e=>{const{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c,appLink:l,tvf:u,publishOpts:h={}}=e,d=(0,SA.formatJsonRpcRequest)(r,i,a);let f;const p=!!l;try{const e=p?BE:_E;f=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(y){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(t," failed")),y}let g;if(_O.includes(r)){const e=DE(JSON.stringify(d)),t=DE(f);g=await this.client.core.verify.register({id:t,decryptedId:e})}const m=qO(qO({},OO[r].req),h);if(m.attestation=g,s&&(m.ttl=s),o&&(m.id=o),this.client.core.history.set(t,d),p){const e=lx(l,t,f);await n.g.Linking.openURL(e,this.client.name)}else m.tvf=VO(qO({},u),{correlationId:d.id}),c?(m.internal=VO(qO({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,f,m)):this.client.core.relayer.publish(t,f,m).catch(e=>this.client.logger.error(e));return d.id}),WO(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=(0,SA.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:_E}),s=DE(JSON.stringify(r)),o=DE(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:VO(qO({},n),{publishMethod:"wc_proposeSession",attestation:a})})}),WO(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:s}=e,o=(0,SA.formatJsonRpcResult)(r.id,n),a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:_E}),c=(0,SA.formatJsonRpcRequest)("wc_sessionSettle",i,null===s||void 0===s?void 0:s.id),l=await this.client.core.crypto.encode(t,c,{encoding:_E});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:VO(qO({},s),{publishMethod:"wc_approveSession"})})}),WO(this,"sendResult",async e=>{const{id:t,topic:r,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,c=(0,SA.formatJsonRpcResult)(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?BE:_E;l=await this.client.core.crypto.encode(r,c,VO(qO({},o||{}),{encoding:e}))}catch(lA){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(r," failed")),lA}let h,d;try{h=await this.client.core.history.get(r,t);const e=h.request;try{d=this.getTVFParams(t,e.params,i)}catch(f){this.client.logger.warn("sendResult() -> getTVFParams() failed: ".concat(null===f||void 0===f?void 0:f.message))}}catch(lA){throw this.client.logger.error("sendResult() -> history.get(".concat(r,", ").concat(t,") failed")),lA}if(u){const e=lx(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,n=OO[e].res;n.tvf=VO(qO({},d),{correlationId:t}),s?(n.internal=VO(qO({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,l,n)):this.client.core.relayer.publish(r,l,n).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(c)}),WO(this,"sendError",async e=>{const{id:t,topic:r,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=e,c=(0,SA.formatJsonRpcError)(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?BE:_E;l=await this.client.core.crypto.encode(r,c,VO(qO({},s||{}),{encoding:e}))}catch(hA){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(r," failed")),hA}let h;try{h=await this.client.core.history.get(r,t)}catch(hA){throw this.client.logger.error("sendError() -> history.get(".concat(r,", ").concat(t,") failed")),hA}if(u){const e=lx(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,t=o||OO[e].res;this.client.core.relayer.publish(r,l,t)}await this.client.core.history.resolve(c)}),WO(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;Pm(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{Pm(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),WO(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),WO(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),WO(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==RO){for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=RO;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(uT){this.client.logger.warn(uT)}}this.requestQueue.state=CO}else this.client.logger.info("Request queue already active, skipping...")}),WO(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info("Unsupported request method ".concat(o))}}),WO(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info("Unsupported response method ".concat(i))}}),WO(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=Ix("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw new Error(n)}),WO(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),WO(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==e&&void 0!==e&&e.setError(TS)),this.isValidConnect(qO({},n.params));const a=s.expiryTimestamp||Im(OO.wc_sessionPropose.req.ttl),c=qO({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:DE(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});null!==e&&void 0!==e&&e.addTrace(IS),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(a){await this.sendError({id:o,topic:t,error:a,rpcOpts:OO.wc_sessionPropose.autoReject}),this.client.logger.error(a)}}),WO(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if((0,SA.isJsonRpcResult)(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,SA.isJsonRpcError)(t)){await this.deleteProposal(r);const e=Om("session_connect",r);if(0===this.events.listenerCount(e))throw new Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(e,{error:t.error})}}),WO(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error("Pending session not found for topic ".concat(e));const h=this.client.proposal.get(u.proposalId),d=VO(qO(qO(qO({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:KA.relay});await this.client.session.set(d.topic,d),await this.setExpiry(d.topic,d.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:d.peer.metadata}),this.client.events.emit("session_connect",{session:d}),this.events.emit(Om("session_connect",u.proposalId),{session:d}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(d),await this.sendResult({id:t.id,topic:e,result:!0})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),WO(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;(0,SA.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(Om("session_approve",n),{})):(0,SA.isJsonRpcError)(t)&&(await this.client.session.delete(e,Px("USER_DISCONNECTED")),this.events.emit(Om("session_approve",n),{error:t.error}))}),WO(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t="".concat(e,"_session_update"),i=Jx.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn("Discarding out of sync request - ".concat(r)),void this.sendError({id:r,topic:e,error:Px("INVALID_UPDATE_REQUEST")});this.isValidUpdate(qO({topic:e},n));try{Jx.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(rA){throw Jx.delete(t),rA}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(i){await this.sendError({id:r,topic:e,error:i}),this.client.logger.error(i)}}),WO(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),WO(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=Om("session_update",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("session_update",n),{}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("session_update",n),{error:t.error})}),WO(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Im(PO)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(bA){await this.sendError({id:n,topic:e,error:bA}),this.client.logger.error(bA)}}),WO(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=Om("session_extend",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("session_extend",n),{}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("session_extend",n),{error:t.error})}),WO(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(bA){await this.sendError({id:n,topic:e,error:bA}),this.client.logger.error(bA)}}),WO(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=Om("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners 2176"));(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("session_ping",n),{}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("session_ping",n),{error:t.error})},500)}),WO(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(FA,async()=>{t(await this.deleteSession({topic:e,id:n}))})}),this.sendResult({id:n,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:Px("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(bA){this.client.logger.error(bA)}}),WO(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(qO({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:DE(JSON.stringify((0,SA.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===KA.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(hA){await this.sendError({id:l,topic:i,error:hA}),this.client.logger.error(hA)}}),WO(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=Om("session_request",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("session_request",n),{result:t.result}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("session_request",n),{error:t.error})}),WO(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t="".concat(e,"_session_event_").concat(r.event.name),i=Jx.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info("Discarding out of sync request - ".concat(n));this.isValidEmit(qO({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),Jx.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),WO(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,SA.isJsonRpcResult)(t)?this.events.emit(Om("session_request",n),{result:t.result}):(0,SA.isJsonRpcError)(t)&&this.events.emit(Om("session_request",n),{error:t.error})}),WO(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:DE(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===KA.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(a){this.client.logger.error(a);const e=r.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(r.params.requester.metadata,o),s={type:1,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:r.id,topic:n,error:a,encodeOpts:s,rpcOpts:OO.wc_sessionAuthenticate.autoReject,appLink:i})}}),WO(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),WO(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=CO,this.processSessionRequestQueue()},(0,Fp.toMiliseconds)(this.requestQueueDelay))}),WO(this,"cleanupPendingSentRequestsForTopic",e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter(e=>e.topic===t&&"wc_sessionRequest"===e.request.method).forEach(e=>{const t=Om("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error("emitting ".concat(t," without any listeners"));this.events.emit(Om("session_request",e.request.id),{error:n})})}),WO(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===RO)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(uT){this.client.logger.error(uT)}else this.client.logger.info("session request queue is empty.")}),WO(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},"Skipping emitting `session_request` event for duplicate request. id: ".concat(e.id)):(this.sessionRequestQueue.state=RO,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),WO(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,SA.formatJsonRpcRequest)("wc_sessionPropose",VO(qO({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),WO(this,"isValidConnect",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(Cx(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&Ox(e)&&e.length&&e.forEach(e=>{n=Mx(e)}),n}(o,!0)){const{message:e}=Ix("MISSING_OR_INVALID","connect() relays: ".concat(o));throw new Error(e)}if(!Cx(n)&&0!==Nx(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(!Cx(r)&&0!==Nx(r)&&this.validateNamespaces(r,"optionalNamespaces"),Cx(i)||this.validateSessionProps(i,"sessionProperties"),!Cx(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(s),", required/optional namespaces: ").concat(JSON.stringify(e)))}}),WO(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&Nx(e)){const i=Lx(e,t);i&&(r=i);const s=jx(e,t,n);s&&(r=s)}else r=Ix("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}(e,"connect()",t);if(n)throw new Error(n.message)}),WO(this,"isValidApprove",async e=>{if(!Fx(e))throw new Error(Ix("MISSING_OR_INVALID","approve() params: ".concat(e)).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=Dx(n,"approve()");if(a)throw new Error(a.message);const c=Vx(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!Rx(r,!0)){const{message:e}=Ix("MISSING_OR_INVALID","approve() relayProtocol: ".concat(r));throw new Error(e)}if(Cx(i)||this.validateSessionProps(i,"sessionProperties"),!Cx(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(s),", approved namespaces: ").concat(Array.from(e).join(", ")))}}),WO(this,"isValidReject",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","reject() params: ".concat(e));throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!Tx(e.code,!1)||!e.message||!Rx(e.message,!1))}(n)){const{message:e}=Ix("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(n)));throw new Error(e)}}),WO(this,"isValidSessionSettleRequest",e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!Mx(t)){const{message:e}=Ix("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return Rx(null===e||void 0===e?void 0:e.publicKey,!1)||(n=Ix("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=Dx(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Pm(i)){const{message:e}=Ix("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),WO(this,"isValidUpdate",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","update() params: ".concat(e));throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=Dx(n,"update()");if(i)throw new Error(i.message);const s=Vx(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),WO(this,"isValidExtend",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","extend() params: ".concat(e));throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),WO(this,"isValidRequest",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","request() params: ".concat(e));throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!zx(s,r)){const{message:e}=Ix("MISSING_OR_INVALID","request() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(Cx(e)||!Rx(e.method,!1))}(n)){const{message:e}=Ix("MISSING_OR_INVALID","request() ".concat(JSON.stringify(n)));throw new Error(e)}if(!Hx(s,r,n.method)){const{message:e}=Ix("MISSING_OR_INVALID","request() method: ".concat(n.method));throw new Error(e)}if(i&&!function(e,t){return Tx(e,!1)&&e<=t.max&&e>=t.min}(i,NO)){const{message:e}=Ix("MISSING_OR_INVALID","request() expiry: ".concat(i,". Expiry must be a number (in seconds) between ").concat(NO.min," and ").concat(NO.max));throw new Error(e)}}),WO(this,"isValidRespond",async e=>{var t;if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","respond() params: ".concat(e));throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(i){throw null!=(t=null===e||void 0===e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),i}if(!function(e){return!(Cx(e)||Cx(e.result)&&Cx(e.error)||!Tx(e.id,!1)||!Rx(e.jsonrpc,!1))}(r)){const{message:e}=Ix("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(r)));throw new Error(e)}}),WO(this,"isValidPing",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),WO(this,"isValidEmit",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","emit() params: ".concat(e));throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!zx(i,r)){const{message:e}=Ix("MISSING_OR_INVALID","emit() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(Cx(e)||!Rx(e.name,!1))}(n)){const{message:e}=Ix("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}if(!qx(i,r,n.name)){const{message:e}=Ix("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}}),WO(this,"isValidDisconnect",async e=>{if(!Fx(e)){const{message:t}=Ix("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),WO(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!Rx(n,!1))throw new Error("uri is required parameter");if(!Rx(r,!1))throw new Error("domain is required parameter");if(!Rx(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>Gg(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Gg(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),WO(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||pS,validation:"UNKNOWN",origin:i.url||""}};try{if(s===KA.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.warn(a)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(o))),o}),WO(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=Ix("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(n," for key ").concat(Object.keys(e)[r]));throw new Error(i)}})}),WO(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),WO(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),WO(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=Ix("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw new Error(n)}}),WO(this,"isLinkModeEnabled",(e,t)=>{var r,i,s,o,a,c,l,u,h;return!(!e||t!==KA.link_mode)&&(!0===(null==(i=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)&&void 0!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&""!==(null==(u=null===e||void 0===e?void 0:e.redirect)?void 0:u.universal)&&!0===(null==(h=null===e||void 0===e?void 0:e.redirect)?void 0:h.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")}),WO(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=null===e||void 0===e?void 0:e.redirect)?void 0:n.universal:void 0}),WO(this,"handleLinkModeMessage",e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=Rm(t,"topic")||"",r=decodeURIComponent(Rm(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:KA.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})}),WO(this,"registerLinkModeListeners",async()=>{var e;if(_m()||hm()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==n.g?void 0:n.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),WO(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(a){this.client.logger.warn("Error getting TVF params",a)}return o}),WO(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=(null===e||void 0===e?void 0:e.data)||(null==(t=null===e||void 0===e?void 0:e[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch(n){}return!1}),WO(this,"extractTxHashesFromResult",(t,n)=>{var r;try{if(!n)return[];const i=t.method,s=TO[i];if("sui_signTransaction"===i)return[Nw(n.transactionBytes)];if("near_signTransaction"===i)return[Cw(n)];if("near_signTransactions"===i)return n.map(e=>Cw(e));if("xrpl_signTransactionFor"===i||"xrpl_signTransaction"===i)return[null==(r=n.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===i)return[Xx({transaction:t.params.transactionPayload,signature:n.signature})];if("algo_signTxn"===i)return Ox(n)?n.map(e=>Rw(e)):[Rw(n)];if("cosmos_signDirect"===i)return[_w(n)];if("wallet_sendCalls"===i)return function(t){var n,r;const i=[];try{if("string"==typeof t)return i.push(t),i;if("object"!=typeof t)return i;null!=t&&t.id&&i.push(t.id);const e=null==(r=null==(n=null===t||void 0===t?void 0:t.capabilities)?void 0:n.caip345)?void 0:r.transactionHashes;e&&i.push(...e)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return i}(n);if("string"==typeof n)return[n];const o=n[s.key];if(Ox(o))return"solana_signAllTransactions"===i?o.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return Dg.A.encode(s)}(e)):o;if("string"==typeof o)return[o]}catch(bA){this.client.logger.warn("Error extracting tx hashes from result",bA)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const t of i)try{await this.onProviderMessageEvent({topic:r,message:t,publishedAt:Date.now()})}catch(e){this.client.logger.warn("Error processing pending message event for topic: ".concat(r,", message: ").concat(t))}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:e}=Ix("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(BA,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(jO)?this.client.auth.authKeys.get(jO):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===KA.link_mode?BE:_E});(0,SA.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:DE(n)})):(0,SA.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(Ur){this.client.logger.error(Ur)}}registerExpirerEvents(){this.client.core.expirer.on(hS,async e=>{const{topic:t,id:n}=km(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,Ix("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,Ix("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(tS,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(rS,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Rx(e,!1)){const{message:t}=Ix("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Ix("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(Pm(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Ix("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}async isValidSessionTopic(e){if(!Rx(e,!1)){const{message:t}=Ix("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=Ix("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw new Error(t)}if(Pm(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=Ix("EXPIRED","session topic: ".concat(e));throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=Ix("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(Rx(e,!1)){const{message:t}=Ix("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw new Error(t)}{const{message:t}=Ix("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=Ix("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=Ix("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw new Error(t)}if(Pm(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=Ix("EXPIRED","proposal id: ".concat(e));throw new Error(t)}}}class GO extends HP{constructor(e,t){super(e,t,"proposal",xO),this.core=e,this.logger=t}}class QO extends HP{constructor(e,t){super(e,t,"session",xO),this.core=e,this.logger=t}}class JO extends HP{constructor(e,t){super(e,t,"request",xO,e=>e.id),this.core=e,this.logger=t}}class YO extends HP{constructor(e,t){super(e,t,"authKeys",BO,()=>jO),this.core=e,this.logger=t}}class ZO extends HP{constructor(e,t){super(e,t,"pairingTopics",BO),this.core=e,this.logger=t}}class XO extends HP{constructor(e,t){super(e,t,"requests",BO,e=>e.id),this.core=e,this.logger=t}}var $O=Object.defineProperty,eN=(e,t,n)=>((e,t,n)=>t in e?$O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class tN{constructor(e,t){this.core=e,this.logger=t,eN(this,"authKeys"),eN(this,"pairingTopics"),eN(this,"requests"),this.authKeys=new YO(this.core,this.logger),this.pairingTopics=new ZO(this.core,this.logger),this.requests=new XO(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var nN=Object.defineProperty,rN=(e,t,n)=>((e,t,n)=>t in e?nN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class iN extends vA{constructor(e){super(e),rN(this,"protocol","wc"),rN(this,"version",2),rN(this,"name",AO),rN(this,"metadata"),rN(this,"core"),rN(this,"logger"),rN(this,"events",new Lp.EventEmitter),rN(this,"engine"),rN(this,"session"),rN(this,"proposal"),rN(this,"pendingRequest"),rN(this,"auth"),rN(this,"signConfig"),rN(this,"on",(e,t)=>this.events.on(e,t)),rN(this,"once",(e,t)=>this.events.once(e,t)),rN(this,"off",(e,t)=>this.events.off(e,t)),rN(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),rN(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),rN(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"update",async e=>{try{return await this.engine.update(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"request",async e=>{try{return await this.engine.request(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"find",e=>{try{return this.engine.find(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(uT){throw this.logger.error(uT.message),uT}}),rN(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(bA){throw this.logger.error(bA.message),bA}}),rN(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}}),rN(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}}),this.name=(null===e||void 0===e?void 0:e.name)||AO,this.metadata=gm(null===e||void 0===e?void 0:e.metadata),this.signConfig=null===e||void 0===e?void 0:e.signConfig;const t=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:(0,tA.h6)((0,tA.iP)({level:(null===e||void 0===e?void 0:e.logger)||SO}));this.core=(null===e||void 0===e?void 0:e.core)||new vO(e),this.logger=(0,tA.U5)(t,this.name),this.session=new QO(this.core,this.logger),this.proposal=new GO(this.core,this.logger),this.pendingRequest=new JO(this.core,this.logger),this.engine=new KO(this),this.auth=new tN(this.core,this.logger)}static async init(e){const t=new iN(e);return await t.initialize(),t}get context(){return(0,tA.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var sN=n(6526);const oN="error",aN="".concat("wc","@2:").concat("universal_provider",":"),cN="https://rpc.walletconnect.org/v1/",lN="generic",uN="".concat(cN,"bundler"),hN="call_status",dN="default_chain_changed";function fN(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function pN(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function gN(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const mN="[object RegExp]",yN="[object String]",wN="[object Number]",bN="[object Boolean]",vN="[object Arguments]",EN="[object Symbol]",xN="[object Date]",AN="[object Map]",SN="[object Set]",kN="[object Array]",IN="[object ArrayBuffer]",PN="[object Object]",ON="[object DataView]",NN="[object Uint8Array]",CN="[object Uint8ClampedArray]",RN="[object Uint16Array]",TN="[object Uint32Array]",_N="[object Int8Array]",BN="[object Int16Array]",jN="[object Int32Array]",UN="[object Float32Array]",LN="[object Float64Array]";function DN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const s=null===i||void 0===i?void 0:i(e,t,n,r);if(null!=s)return s;if(fN(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=MN(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,MN(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(MN(s,void 0,n,r,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(DN(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=MN(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),FN(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),FN(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),FN(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,FN(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(gN(e)){case vN:case kN:case IN:case ON:case bN:case xN:case UN:case LN:case _N:case BN:case jN:case AN:case wN:case PN:case mN:case SN:case yN:case EN:case NN:case CN:case RN:case TN:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),FN(t,e,n,r,i),t}return e}function FN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...pN(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=MN(t[a],a,n,r,i))}}function zN(e,t){return function(e,t){return MN(e,void 0,e,new Map,t)}(e,(n,r,i,s)=>{const o=null===t||void 0===t?void 0:t(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case wN:case yN:case bN:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return FN(t,e),t}case vN:{const t={};return FN(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}function HN(e){return zN(e)}function qN(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===gN(e)}function VN(e){return"object"==typeof e&&null!==e}function WN(){}function KN(e){return DN(e)}function GN(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];return!(null==n||null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function QN(e,t,n,r){if(fN(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(fN(e))return e;if(Array.isArray(e)||DN(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++){var i;t[e]=null!==(i=t[e])&&void 0!==i?i:void 0}}const o=[...Object.keys(t),...pN(t)];for(let a=0;a<o.length;a++){const i=o[a];let c=t[i],l=e[i];if(qN(c)&&(c=(0,s.A)({},c)),qN(l)&&(l=(0,s.A)({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=HN(c)),Array.isArray(c))if("object"==typeof l&&null!=l){const e=[],t=Reflect.ownKeys(l);for(let n=0;n<t.length;n++){const r=t[n];e[r]=l[r]}l=e}else l=[];const u=n(l,c,i,e,t,r);null!=u?e[i]=u:Array.isArray(c)||VN(l)&&VN(c)?e[i]=QN(l,c,n,r):null==l&&GN(c)?e[i]=QN({},c,n,r):null==l&&KN(c)?e[i]=HN(c):(void 0===l||void 0!==c)&&(e[i]=c)}return e}function JN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.slice(0,-1),s=n[n.length-1];let o=e;for(let a=0;a<i.length;a++)o=QN(o,i[a],s,new Map);return o}(e,...n,WN)}var YN=Object.defineProperty,ZN=Object.defineProperties,XN=Object.getOwnPropertyDescriptors,$N=Object.getOwnPropertySymbols,eC=Object.prototype.hasOwnProperty,tC=Object.prototype.propertyIsEnumerable,nC=(e,t,n)=>t in e?YN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rC=(e,t)=>{for(var n in t||(t={}))eC.call(t,n)&&nC(e,n,t[n]);if($N)for(var n of $N(t))tC.call(t,n)&&nC(e,n,t[n]);return e},iC=(e,t)=>ZN(e,XN(t));function sC(e,t,n){var r;const i=Gg(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||"".concat(cN,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(n)}function oC(e){return e.map(e=>"".concat(e.split(":")[0],":").concat(e.split(":")[1]))}function aC(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;var r,i;return(null==(r=null===n||void 0===n?void 0:n.chains)?void 0:r.length)&&(null==(i=null===n||void 0===n?void 0:n.chains)?void 0:i.length)>0}))}function cC(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JN(aC(lC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),aC(lC(e)))}function lC(e){var t,n,r,i,s;const o={};if(!Nx(e))return o;for(const[a,c]of Object.entries(e)){const e=vx(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],h=c.rpcMap||{},d=Ex(a);o[d]=iC(rC(rC({},o[d]),c),{chains:Nm(e,null==(t=o[d])?void 0:t.chains),methods:Nm(l,null==(n=o[d])?void 0:n.methods),events:Nm(u,null==(r=o[d])?void 0:r.events)}),(Nx(h)||Nx((null==(i=o[d])?void 0:i.rpcMap)||{}))&&(o[d].rpcMap=rC(rC({},h),null==(s=o[d])?void 0:s.rpcMap))}return o}function uC(e){return e.includes(":")?e.split(":")[2]:e}function hC(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=vx(n)?[n]:r.chains?r.chains:oC(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function dC(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const fC={},pC=e=>fC[e],gC=(e,t)=>{fC[e]=t};var mC=Object.defineProperty,yC=Object.getOwnPropertySymbols,wC=Object.prototype.hasOwnProperty,bC=Object.prototype.propertyIsEnumerable,vC=(e,t,n)=>t in e?mC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))wC.call(t,n)&&vC(e,n,t[n]);if(yC)for(var n of yC(t))bC.call(t,n)&&vC(e,n,t[n]);return e};const xC="eip155",AC=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],SC=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,kC=e=>e&&e.startsWith("0x")?e:"0x".concat(BigInt(e).toString(16)),IC=e=>Object.keys(e).filter(e=>AC.includes(e)).reduce((t,n)=>(t[n]=PC(e[n]),t),{}),PC=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch(t){return!1}}(e)?JSON.parse(e):e;var OC=Object.defineProperty,NC=(e,t,n)=>((e,t,n)=>t in e?OC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let CC;class RC{constructor(e){NC(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return CC||(CC=new RC(e)),CC}}var TC=Object.defineProperty,_C=Object.defineProperties,BC=Object.getOwnPropertyDescriptors,jC=Object.getOwnPropertySymbols,UC=Object.prototype.hasOwnProperty,LC=Object.prototype.propertyIsEnumerable,DC=(e,t,n)=>t in e?TC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;async function MC(e,t){const n=Gg(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(e=>async function(e,t,n){return await n(parseInt(e)).request((0,SA.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}(n.reference,e,t))),s=i.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);i.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));const o=!s.length||s.some(e=>!e),a=s.every(e=>"0x1"===(null===e||void 0===e?void 0:e.status)),c=s.every(e=>"0x0"===(null===e||void 0===e?void 0:e.status)),l=s.some(e=>"0x0"===(null===e||void 0===e?void 0:e.status));let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}async function FC(e){let{sendCalls:t,storage:n}=e;const r=await n.getItem(hN);await n.setItem(hN,((e,t)=>_C(e,BC(t)))(((e,t)=>{for(var n in t||(t={}))UC.call(t,n)&&DC(e,n,t[n]);if(jC)for(var n of jC(t))LC.call(t,n)&&DC(e,n,t[n]);return e})({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:Im(86400)}}))}async function zC(e){let{resultId:t,storage:n}=e;const r=await n.getItem(hN),i=null===r||void 0===r?void 0:r[t];if(i&&!Pm(i.expiry))return i;await async function(e){let{resultId:t,storage:n}=e;const r=await n.getItem(hN);if(r){delete r[t],await n.setItem(hN,r);for(const e in r)Pm(r[e].expiry)&&delete r[e];await n.setItem(hN,r)}}({resultId:t,storage:n})}var HC=Object.defineProperty,qC=Object.defineProperties,VC=Object.getOwnPropertyDescriptors,WC=Object.getOwnPropertySymbols,KC=Object.prototype.hasOwnProperty,GC=Object.prototype.propertyIsEnumerable,QC=(e,t,n)=>t in e?HC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JC=(e,t)=>{for(var n in t||(t={}))KC.call(t,n)&&QC(e,n,t[n]);if(WC)for(var n of WC(t))GC.call(t,n)&&QC(e,n,t[n]);return e},YC=(e,t)=>qC(e,VC(t)),ZC=(e,t,n)=>QC(e,"symbol"!=typeof t?t+"":t,n);class XC{constructor(e){ZC(this,"name","eip155"),ZC(this,"client"),ZC(this,"chainId"),ZC(this,"namespace"),ZC(this,"httpProviders"),ZC(this,"events"),ZC(this,"storage"),this.namespace=e.namespace,this.events=pC("events"),this.client=pC("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=RC.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(dN,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||sC("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new AA.F(new sN.V(n,pC("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const r=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=YC(JC({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:"0x".concat(r);const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain("".concat(i));else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error("Failed to switch to chain 'eip155:".concat(i,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain("".concat(i))}return null}isChainApproved(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}async getCapabilities(e){var t,n,r,i,s;const o=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0],a=(null==(i=null==(r=e.request)?void 0:r.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=null===c||void 0===c?void 0:c.sessionProperties)?void 0:s.capabilities)||{},u="".concat(o).concat(a.join(",")),h=null===l||void 0===l?void 0:l[u];if(h)return h;let d;try{d=((e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!Nx(i)&&!Nx(r))return;const o=IC(r);for(const a of n){const e=SC(a);if(!e)continue;s[kC(e)]=o;const n=null===i||void 0===i?void 0:i["".concat(xC,":").concat(e)];if(n){const r=null===n||void 0===n?void 0:n["".concat(xC,":").concat(e,":").concat(t)];s[kC(e)]=EC(EC({},s[kC(e)]),IC(r||n))}}for(const[a,c]of Object.entries(s))0===Object.keys(c).length&&delete s[a];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(p){console.warn("Failed to extract capabilities from session",p)}if(d)return d;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:YC(JC({},c.sessionProperties||{}),{capabilities:YC(JC({},l||{}),{[u]:f})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return f}async getCallStatus(e){var t,n,r;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,t)}}const o=null==(n=i.sessionProperties)?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(sA){console.warn("Failed to fetch call status from custom bundler",sA,o)}const a=await zC({resultId:null==(r=e.request.params)?void 0:r[0],storage:this.storage});if(a)try{return await MC(a,this.getHttpProvider.bind(this))}catch(sA){console.warn("Failed to fetch call status from stored send calls",sA,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,SA.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error("Failed to fetch user operation receipt - ".concat(i.status));return await i.json()}getBundlerUrl(e,t){return"".concat(uN,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}async sendCalls(e){var t,n,r;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=null===i||void 0===i?void 0:i.id,a=(null===i||void 0===i?void 0:i.capabilities)||{},c=null==(n=null===a||void 0===a?void 0:a.caip345)?void 0:n.caip2,l=null==(r=null===a||void 0===a?void 0:a.caip345)?void 0:r.transactionHashes;return!o||!c||!(null!=l&&l.length)||await FC({sendCalls:{request:s,result:i},storage:this.storage}),i}}var $C=Object.defineProperty,eR=(e,t,n)=>((e,t,n)=>t in e?$C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class tR{constructor(e){eR(this,"name",lN),eR(this,"client"),eR(this,"httpProviders"),eR(this,"events"),eR(this,"namespace"),eR(this,"chainId"),this.namespace=e.namespace,this.events=pC("events"),this.client=pC("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const n=this.chainId;this.chainId=e,this.events.emit(dN,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Gg(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,r;const i=Gg(e),s=null==(r=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:r["".concat(i.namespace,":").concat(i.reference)];n[i.reference]=this.createHttpProvider(e,s)}),n}getHttpProvider(e){const t=Gg(e).reference,n=this.httpProviders[t];if(typeof n>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return n}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||sC(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new AA.F(new sN.A(n,pC("disableProviderPing")))}}var nR=Object.defineProperty,rR=Object.defineProperties,iR=Object.getOwnPropertyDescriptors,sR=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,cR=(e,t,n)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lR=(e,t)=>{for(var n in t||(t={}))oR.call(t,n)&&cR(e,n,t[n]);if(sR)for(var n of sR(t))aR.call(t,n)&&cR(e,n,t[n]);return e},uR=(e,t)=>rR(e,iR(t)),hR=(e,t,n)=>cR(e,"symbol"!=typeof t?t+"":t,n);class dR{constructor(e){hR(this,"client"),hR(this,"namespaces"),hR(this,"optionalNamespaces"),hR(this,"sessionProperties"),hR(this,"scopedProperties"),hR(this,"events",new(Dp())),hR(this,"rpcProviders",{}),hR(this,"session"),hR(this,"providerOpts"),hR(this,"logger"),hR(this,"uri"),hR(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:(0,tA.h6)((0,tA.iP)({level:(null===e||void 0===e?void 0:e.logger)||oN})),this.disableProviderPing=(null===e||void 0===e?void 0:e.disableProviderPing)||!1}static async init(e){const t=new dR(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:lR({},e),chainId:"".concat(r,":").concat(i),topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then(e=>t(null,(0,SA.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:Px("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=hC(this.session.namespaces);this.namespaces=cC(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=hC(r.namespaces);return this.namespaces=cC(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(bA){if(!/Please call connect/.test(bA.message))throw bA}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!Ox(t))return;for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info("Inactive pairings cleared: ".concat(t.length))}catch(t){this.logger.warn("Failed to cleanup pending pairings",t)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await iN.init({core:this.providerOpts.core,logger:this.providerOpts.logger||oN,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(bA){throw this.logger.error("Failed to get session",bA),new Error("The provided session: ".concat(null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic," doesn't exist in the Sign client"))}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(e=>Ex(e)))];gC("client",this.client),gC("events",this.events),gC("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!n.length)return[];const r=[];return n.forEach(e=>{const n=t.namespaces[e].accounts;r.push(...n)}),r}(e,this.session);if(0===(null===t||void 0===t?void 0:t.length))return;const n=oC(t),r=cC(this.namespaces,this.optionalNamespaces),i=uR(lR({},r[e]),{accounts:t,chains:n});if("eip155"===e)this.rpcProviders[e]=new XC({namespace:i});else this.rpcProviders[e]=new tR({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&Ox(e)&&this.events.emit("accountsChanged",e.map(uC))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=Ex(e),i=dC(e)!==dC(t)?"".concat(r,":").concat(dC(t)):e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",e=>{let{topic:t,params:n}=e;var r,i;if(t!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:s}=n,o=null==(i=this.client)?void 0:i.session.get(t);this.session=uR(lR({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",uR(lR({},Px("USER_DISCONNECTED")),{data:e.topic})))}),this.on(dN,e=>{this.onChainChanged(uR(lR({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[lN]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:n={},sessionProperties:r,scopedProperties:i}=e;this.optionalNamespaces=cC(t,n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=(null===e||void 0===e?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(e=>Ex(e)).includes(t))throw new Error("Namespace '".concat(t,"' is not configured. Please call connect() first with namespace config."));if(t&&n)return[t,n];const r=Ex(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let{currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}=e;if(!this.namespaces)return;const[i,s]=this.validateChain(t);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange(e){let{namespace:t,currentCaipChainId:n,previousCaipChainId:r}=e;var i,s;try{if(r===n)return;const e=null==(s=null==(i=this.session)?void 0:i.namespaces[t])?void 0:s.accounts;if(!e)return;const o=e.filter(e=>e.includes("".concat(n,":"))).map(uC);if(!Ox(o))return;this.events.emit("accountsChanged",o)}catch(Ur){this.logger.warn("Failed to emit accountsChanged on chain change",Ur)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const n=this.namespaces[e]?e:"".concat(e,":").concat(t),r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem("".concat(aN,"/").concat(e).concat(r),t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem("".concat(aN,"/").concat(e).concat(n))}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem("".concat(aN,"/").concat(e).concat(n))}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(aN)&&await this.client.core.storage.removeItem(e)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}}const fR=dR,pR="".concat("wc","@2:").concat("ethereum_provider",":"),gR=["eth_sendTransaction","personal_sign"],mR=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],yR=["chainChanged","accountsChanged"],wR=["chainChanged","accountsChanged","message","disconnect","connect"];var bR=Object.defineProperty,vR=Object.defineProperties,ER=Object.getOwnPropertyDescriptors,xR=Object.getOwnPropertySymbols,AR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,kR=(e,t,n)=>t in e?bR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IR=(e,t)=>{for(var n in t||(t={}))AR.call(t,n)&&kR(e,n,t[n]);if(xR)for(var n of xR(t))SR.call(t,n)&&kR(e,n,t[n]);return e},PR=(e,t)=>vR(e,ER(t)),OR=(e,t,n)=>kR(e,"symbol"!=typeof t?t+"":t,n);function NR(e){return Number(e[0].split(":")[1])}function CR(e){return"0x".concat(e.toString(16))}class RR{constructor(){OR(this,"events",new Lp.EventEmitter),OR(this,"namespace","eip155"),OR(this,"accounts",[]),OR(this,"signer"),OR(this,"chainId",1),OR(this,"modal"),OR(this,"rpc"),OR(this,"STORAGE_KEY",pR),OR(this,"on",(e,t)=>(this.events.on(e,t),this)),OR(this,"once",(e,t)=>(this.events.once(e,t),this)),OR(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),OR(this,"off",(e,t)=>(this.events.off(e,t),this)),OR(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new RR;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:r}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!Ox(t))throw new Error("Invalid chains");const c={chains:t,methods:r||gR,events:s||yR,rpcMap:IR({},t.length?{[NR(t)]:a[NR(t)]}:{})},l=null===s||void 0===s?void 0:s.filter(e=>!yR.includes(e)),u=null===r||void 0===r?void 0:r.filter(e=>!gR.includes(e));if(!n&&!o&&!i&&(null==l||!l.length)&&(null==u||!u.length))return{required:t.length?c:void 0};const h=(null===l||void 0===l?void 0:l.length)&&(null===u||void 0===u?void 0:u.length)||!n,d={chains:[...new Set(h?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:mR))],events:[...new Set(c.events.concat(null!=o&&o.length?o:wR))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?d:void 0}}(this.rpc);try{const t=await new Promise(async(t,i)=>{var s,o;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(o=this.modal)||o.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}));const a=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(PR(IR({namespaces:IR({},n&&{[this.namespace]:n})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:null===e||void 0===e?void 0:e.pairingTopic,scopedProperties:a})).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))})});if(!t)return;const i=Qg(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:CR(this.chainId)})}catch(rA){throw this.signer.logger.error(rA),rA}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:null===e||void 0===e?void 0:e.chains});try{const n=await new Promise(async(n,r)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(PR(IR({},e),{chains:this.rpc.chains}),t).then(e=>{n(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),r(new Error(e.message))})}),r=n.session;if(r){const e=Qg(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:CR(this.chainId)})}return n}catch(bA){throw this.signer.logger.error(bA),bA}finally{null==(n=this.modal)||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",CR(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",PR(IR({},Px("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}formatChainId(e){return"".concat(this.namespace,":").concat(e)}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",CR(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:"".concat(t,":").concat(n),address:r}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=null===e||void 0===e?void 0:e.chains)?t:[],i=null!=(n=null===e||void 0===e?void 0:e.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?(null===e||void 0===e?void 0:e.methods)||gR:[],a=r.length?(null===e||void 0===e?void 0:e.events)||yR:[],c=(null===e||void 0===e?void 0:e.optionalMethods)||[],l=(null===e||void 0===e?void 0:e.optionalEvents)||[],u=(null===e||void 0===e?void 0:e.rpcMap)||this.buildRpcMap(s,e.projectId),h=(null===e||void 0===e?void 0:e.qrModalOptions)||void 0;return{chains:null===r||void 0===r?void 0:r.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(e=>{n[e]=this.getRpcUrl(e,t)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?NR(this.rpc.chains):NR(this.rpc.optionalChains),this.signer=await fR.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const t=await(async()=>{const{createAppKit:e}=await n.e(5488).then(n.bind(n,5488));return e})(),{convertWCMToAppKitOptions:r}=await Promise.resolve().then(function(){return VR}),i=r(PR(IR({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!i.networks.length)throw new Error("No networks found for WalletConnect\xb7");e=t(PR(IR({},i),{universalProvider:this.signer,manualWCControl:!0}))}catch(Ur){throw console.warn(Ur),new Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(Ur){throw this.signer.logger.error(Ur),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&Ox(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)})),n&&Ox(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null===n||void 0===n?void 0:n.map(e=>this.formatChainId(e)),n.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)}))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||"".concat("https://rpc.walletconnect.org/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId")),t=this.session.namespaces["".concat(this.namespace,":").concat(e)]?this.session.namespaces["".concat(this.namespace,":").concat(e)]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:null===t||void 0===t?void 0:t.accounts),this.setAccounts(null===t||void 0===t?void 0:t.accounts)}catch(Ub){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(Ub),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var TR=Object.defineProperty,_R=Object.defineProperties,BR=Object.getOwnPropertyDescriptors,jR=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,LR=Object.prototype.propertyIsEnumerable,DR=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MR=(e,t)=>{for(var n in t||(t={}))UR.call(t,n)&&DR(e,n,t[n]);if(jR)for(var n of jR(t))LR.call(t,n)&&DR(e,n,t[n]);return e},FR=(e,t)=>_R(e,BR(t));function zR(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const HR=e=>{const[t,n]=e.split(":");return qR({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function qR(e){return MR({formatters:void 0,fees:void 0,serializers:void 0},e)}var VR=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,n,r,i,s,o,a;const c=null==(t=e.chains)?void 0:t.map(HR).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");const l=c.find(t=>{var n;return t.id===(null==(n=e.defaultChain)?void 0:n.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:zR(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:FR(MR({},e.metadata),{name:(null==(n=e.metadata)?void 0:n.name)||"WalletConnect",description:(null==(r=e.metadata)?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(a=e.desktopWallets)&&a.length){const t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],n=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],r=t.filter(e=>!n.includes(e.id));r.length&&(u.customWallets=r)}return u},defineChain:qR});const WR=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,s);return s},KR=e=>e;const GR=e=>{const n=(e=>e?WR(e):WR)(e),r=e=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KR;const r=t.useSyncExternalStore(e.subscribe,t.useCallback(()=>n(e.getState()),[e,n]),t.useCallback(()=>n(e.getInitialState()),[e,n]));return t.useDebugValue(r),r}(n,e);return Object.assign(r,n),r},QR=e=>e?GR(e):GR,JR="0x55d398326f99059fF775485246999027B3197955",YR=["function balanceOf(address) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],ZR=QR((e,t)=>({provider:null,signer:null,address:null,wcProvider:null,isConnected:!1,bnbBalance:"0",usdtBalance:"0",connectWallet:async()=>{let n,r=null;if(console.log("Connection Start"),window.ethereum){console.log("window.ethereum"),n=new fp(window.ethereum);try{await window.ethereum.request({method:"eth_requestAccounts"})}catch(o){console.log(o)}window.ethereum.on("accountsChanged",async e=>{e.length,t().disconnectWallet()}),window.ethereum.on("chainChanged",async()=>{t().disconnectWallet()}),window.ethereum.on("disconnect",()=>{t().disconnectWallet()})}else console.log("Not window.ethereum, using WalletConnect"),r=await RR.init({projectId:"0afc422585c9b7c7ce9ef5418cb641fa",chains:[56],showQrModal:!0}),await r.enable(),n=new fp(r);const i=await n.getSigner(),s=await i.getAddress();e({provider:n,signer:i,wcProvider:r,address:s,isConnected:!0}),await t().fetchBalances(s)},disconnectWallet:async()=>{const{wcProvider:n}=t();try{n&&await n.disconnect()}catch(r){console.error("WalletConnect disconnect error:",r)}e({provider:null,signer:null,address:null,wcProvider:null,isConnected:!1,bnbBalance:"0",usdtBalance:"0"})},fetchBalances:async n=>{const{provider:r}=t();if(r&&n)try{console.log("Fetch Balance");const t=new ap("https://bsc-dataseed.binance.org/"),i=await t.getBalance(n),s=jp(i,18),o=new Ya(JR,YR,r),a=await o.decimals(),c=jp(await o.balanceOf(n),a);console.log("Balance : ",s),console.log("USDT Balance : ",c),e({bnbBalance:s,usdtBalance:c})}catch(i){console.error("Balance fetch error:",i)}},sendUSDT:async(e,n)=>{const{signer:r}=t();if(!r)throw new Error("Wallet not connected");const i=new Ya(JR,YR,r),s=Up(n,await i.decimals()),o=await i.transfer(e,s);return await o.wait(),o.hash},getTxStatus:async e=>{const{provider:n}=t();if(!n)return{status:"no_provider"};try{const t=await n.getTransactionReceipt(e);if(!t)return"pending";return 1===t.status?"success":"failed"}catch(r){return"error"}}})),XR=ZR;function $R(e){let{message:n,duration:r=2e3,onClose:i,isError:s}=e;return(0,t.useEffect)(()=>{if(!n)return;const e=setTimeout(()=>{i()},r);return()=>clearTimeout(e)},[n,r,i]),n?(0,wt.jsx)("div",{style:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:s?"red":"green",color:"white",borderRadius:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.2)",zIndex:9999},children:n}):null}const eT=QR((e,t)=>({incomeData:null,fetchIncomeData:async t=>{if(t)try{const n="https://unidex-a92343a5cde1.herokuapp.com/api/",r=await fetch(n+"getDashboardBalance/"+t),i=await r.json();if("No Data"!==i.data)return e({incomeData:i.data}),i.data}catch(uT){console.log("Error fetching dashboard data:",uT)}}})),tT=eT;function nT(){const e="https://unidex-a92343a5cde1.herokuapp.com/api/",[n,r]=(0,t.useState)(""),{address:i,fetchBalances:s,getTxStatus:o}=XR(),{fetchIncomeData:a,incomeData:c}=tT(),[l,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1),[y,w]=(0,t.useState)([]);(0,t.useEffect)(()=>{!async function(){try{let t=e+"getUser/"+i;const n=await fetch(t),s=await n.json();"No Data"!==s.data&&r(s.data[0].upCode)}catch(uT){console.log("Error")}}()},[i]),(0,t.useEffect)(()=>{a(i)},[a,i]),(0,t.useEffect)(()=>{!async function(){try{let n=e+"pending_activation/"+i;console.log(n);const r=await fetch(n),s=await r.json();if("No Data"!==s.data)for(const i of s.data)try{const n=await o(i.txn);if("success"===n){console.log(i.txn);const n=e+"booking",r={txn:i.txn,type:"success"},s={"Content-Type":"application/json"};try{const e=await fetch(n,{method:"POST",headers:s,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(t){console.log("Error!")}}else if("failed"===n){const n=e+"booking",r={txn:i.txn,type:"fail"},s={"Content-Type":"application/json"};try{const e=await fetch(n,{method:"POST",headers:s,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(t){console.log("Error!")}}}catch(uT){console.log("Error!")}}catch(uT){return void console.log("Error!")}}()},[i,o]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"homeTab pt-2 px-6",children:(0,wt.jsx)("div",{className:"pt-6",children:(0,wt.jsxs)("p",{className:"p-3 border border-dashed border-g300 rounded-xl w-full flex justify-center items-center gap-3 text-g300 font-medium",children:[(0,wt.jsx)("span",{className:"flex justify-center items-center p-1 text-n900 bg-g300 rounded-full",children:(0,wt.jsx)("i",{className:"ph ph-sliders-horizontal"})}),"Sponsor :",String(n).slice(0,6),"......",String(n).slice(-6),(0,wt.jsx)("i",{className:"ph ph-copy"})]})})}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-5 p-4",children:[(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].shareInc]}):"..."}),(0,wt.jsx)("p",{className:"font-medium text-n70",children:"Sharing Bonus"})]})})]}),(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].commInc]}):"..."}),(0,wt.jsx)("p",{className:"font-normal text-n70",children:"Community Bonus"})]})})]}),(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].spnInc]}):"..."}),(0,wt.jsx)("p",{className:"font-medium text-n70",children:"Sponsor Bonus"})]})})]}),(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].leaderInc]}):"..."}),(0,wt.jsx)("p",{className:"font-normal text-n70",children:"Leadership Bonus"})]})})]}),(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].achInc]}):"..."}),(0,wt.jsx)("p",{className:"font-normal text-n70",children:"Achieve Bonus"})]})})]}),(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,wt.jsx)("div",{className:"p-2 bg-g300 rounded-md",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("div",{className:"flex justify-start items-center text-g300 text-xs",children:(0,wt.jsx)("div",{className:"w-12",children:(0,wt.jsx)("img",{src:"assets/images/trend-graph.png",alt:""})})})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-6 pt-3",children:(0,wt.jsxs)("div",{className:"",children:[(0,wt.jsx)("p",{className:"font-semibold uppercase",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].partnerInc]}):"..."}),(0,wt.jsx)("p",{className:"font-normal text-n70",children:"Partnership Bonus"})]})})]})]}),(0,wt.jsx)("div",{className:"px-6 pt-8",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),u("Share Link Copied!"),d(!1)}catch(t){console.error("Failed to copy: ",t)}})("https://unidex.world/#/sign?s=".concat(i)),children:(0,wt.jsxs)("div",{className:"w-full bg-g300 p-5 rounded-xl relative bg-opacity-20 overflow-hidden",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsx)("img",{src:"assets/images/invite_bg.png",alt:"",className:"absolute top-0 right-0 bottom-0 h-full"}),(0,wt.jsx)("div",{className:"max-w-[300px]",children:(0,wt.jsxs)("p",{className:"text-xl font-semibold",children:["Invite a friends and get"," ",(0,wt.jsx)("span",{className:"text-g300",children:"higher "}),"income opportunities"]})}),(0,wt.jsx)("div",{className:"",children:(0,wt.jsx)("img",{src:"/refer.png",alt:"",width:150})})]}),(0,wt.jsxs)("div",{className:"text-n70 pt-1 text-xs",children:["https://unidex.world/sign?s=",String(i).slice(0,10),".............",(0,wt.jsx)("i",{className:"ph ph-copy",style:{fontSize:"20px",cursor:"pointer"}})]})]})}),(0,wt.jsx)("div",{className:"px-6 pt-8",children:(0,wt.jsxs)("div",{className:"flex flex-col gap-2 pt-5",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("div",{className:"text-g300 flex justify-center items-center size-10 rounded-full text-xl bg-white bg-opacity-5",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("p",{className:"font-semibold",children:"Subscription"})]}),(0,wt.jsx)("div",{className:"flex flex-col justify-end items-end",children:(0,wt.jsx)("p",{className:"font-semibold",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].totalInv]}):"..."})})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("div",{className:"text-g300 flex justify-center items-center size-10 rounded-full text-xl bg-white bg-opacity-5",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("p",{className:"font-semibold",children:"Earned Bonus"})]}),(0,wt.jsx)("div",{className:"flex flex-col justify-end items-end",children:(0,wt.jsx)("p",{className:"font-semibold",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].totInc]}):"..."})})]}),g?(0,wt.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsx)("p",{className:"font-semibold text-center text-g300",children:"Withdrawal History"}),(0,wt.jsx)("p",{className:"text-red-400",onClick:()=>m(!g),children:"Hide"})]}),y.length>0?(0,wt.jsx)(wt.Fragment,{children:y.map((e,t)=>(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsxs)("p",{className:"text-sm text-n70",children:["#",t+1]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-start ",children:[(0,wt.jsxs)("p",{className:"font-semibold",children:[e.dates," "]}),(0,wt.jsxs)("p",{className:"text-n70 text-xs",children:["Ch. -",e.ADMIN_CH," "]})]})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-end items-end",children:[(0,wt.jsxs)("p",{className:"font-semibold",children:["$ ",e.AMOUNT]}),(0,wt.jsxs)("p",{className:"text-yellow",children:["Txn. ",String(e.TXN).slice(0,12),"\u2026",(0,wt.jsx)("i",{className:"ph ph-copy"})]})]})]},e.WITHDRA_SL))}):(0,wt.jsx)("p",{className:"text-center",children:"No Record Found!"})]}):(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("div",{className:"text-g300 flex justify-center items-center size-10 rounded-full text-xl bg-white bg-opacity-5",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("p",{className:"font-semibold",children:"Withdrawal"})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-end items-end",children:[(0,wt.jsx)("p",{className:"font-semibold",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].totWith]}):"..."}),(0,wt.jsx)("p",{className:"text-g300",onClick:()=>{m(!g),async function(){try{let t=e+"getIncomeStatement/"+i+"/Withdrawal";const n=await fetch(t),r=await n.json();w(r.data)}catch(uT){return void console.log("Error!")}}()},children:"History"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("div",{className:"text-g300 flex justify-center items-center size-10 rounded-full text-xl bg-white bg-opacity-5",children:(0,wt.jsx)("img",{src:"assets/images/check.png",alt:""})}),(0,wt.jsx)("p",{className:"font-semibold",children:"Balance"}),f?(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("img",{src:"assets/images/wait.gif",alt:"Loading",width:40})}):(0,wt.jsx)("button",{className:"block bg-withdraw font-semibold text-center py-1 rounded-lg openAgreeModal w-full",onClick:()=>async function(){if(!i)return;p(!0);const t=(await a(i))[0].balance;if(parseFloat(t)>0){const r=10*t/100,o=t-r;console.log(r,o);const c=e+"withdrawUsdt",l={to:i,amount:o},h={"Content-Type":"application/json"};try{const r=await fetch(c,{method:"POST",headers:h,body:JSON.stringify(l)});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const o=await r.json();if(console.log(o.msg),"success"===o.msg){const r=o.txHash,s=e+"withdrawal",a={publicKey:i,amount:t,txn:r},c={"Content-Type":"application/json"};try{const e=await fetch(s,{method:"POST",headers:c,body:JSON.stringify(a)});if(!e.ok)throw p(!1),u("Withdrawal Failed!"),d(!0),new Error("HTTP error! status: ".concat(e.status));await e.json()}catch(n){console.log("Others Error!"),p(!1)}}a(i),s(i),p(!1),u("Withdrawal Success"),d(!1)}catch(n){console.log(n),p(!1),u("Withdrawal Failed!"),d(!0)}}else p(!1),u("Low Balance"),d(!0)}(),children:"Withdraw"})]}),(0,wt.jsx)("div",{className:"flex flex-col justify-end items-end",children:(0,wt.jsx)("p",{className:"font-semibold",children:c?(0,wt.jsxs)(wt.Fragment,{children:["$",c[0].balance]}):"..."})})]})]})}),(0,wt.jsx)($R,{message:l,onClose:()=>u(""),isError:h})]})}function rT(){const e="https://unidex-a92343a5cde1.herokuapp.com/api/",[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[o,a]=(0,t.useState)(0),[c,l]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),{address:d,usdtBalance:f,bnbBalance:p,sendUSDT:g,fetchBalances:m}=XR();async function y(){try{let t=e+"getMyPackages/"+d;const n=await fetch(t),r=await n.json();h(r.data)}catch(uT){return void console.log("Error!")}}return(0,t.useEffect)(()=>{y()},[y]),(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("ul",{className:"flex flex-wrap gap-3 pt-4 pb-3",children:[(0,wt.jsxs)("li",{className:"".concat(1===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(1),l("You have selected $1"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"1"})]}),(0,wt.jsxs)("li",{className:"".concat(10===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(10),l("You have selected $10"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"10"})]}),(0,wt.jsxs)("li",{className:"".concat(25===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(25),l("You have selected $25"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"25"})]}),(0,wt.jsxs)("li",{className:"".concat(50===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(50),l("You have selected $50"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"50"})]}),(0,wt.jsxs)("li",{className:"".concat(100===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(100),l("You have selected $100"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"100"})]}),(0,wt.jsxs)("li",{className:"".concat(250===o?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{a(250),l("You have selected $250"),r(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"250"})]}),(0,wt.jsxs)("li",{className:"w-50",children:[" ",i?(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("img",{src:"assets/images/wait.gif",alt:"Loading",width:55})}):(0,wt.jsx)("button",{className:"block bg-g300 font-semibold text-center py-3 rounded-lg openAgreeModal w-full",onClick:()=>async function(){if(s(!0),!d)return l("Please Connect Wallet"),r(!0),void s(!1);if(parseInt(o)<=0)return l("Select Subscription Amount"),r(!0),void s(!1);if(parseFloat(o)>parseFloat(f))return l("You have not enough balance"),r(!0),void s(!1);if(parseFloat(p)<=0)return l("BNB Required for GAS Fee"),r(!0),void s(!1);var t="";try{t=await g("0x435c6e931b3ae74f448374f7e74cda97f4ef62fc",o.toString())}catch(u){return console.error(u),l("Transaction Error"),r(!0),void s(!1)}const n=e+"topup",i={publicKey:d,amt:o,txn:t,mode:"user"},c={"Content-Type":"application/json"};try{const e=await fetch(n,{method:"POST",headers:c,body:JSON.stringify(i)});if(!e.ok)throw s(!1),new Error("HTTP error! status: ".concat(e.status));"OK"===(await e.json()).data[0].uid?(s(!1),m(d),y(),a(0),l("Subcription Successful"),r(!1)):(l("Sponsor Not Exists"),r(!0),s(!1),console.log("Sponsor Not Exists"))}catch(h){console.log("Others Error!"),s(!1)}}(),children:"Subcribe"})]})]}),(0,wt.jsx)("hr",{}),(0,wt.jsxs)("div",{className:"px-6 pt-8",children:[(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("p",{className:"text-xl font-semibold",children:"My Subscriptions"})}),(0,wt.jsx)("div",{className:"flex flex-col gap-2 pt-5",children:u?(0,wt.jsx)(wt.Fragment,{children:u.map((e,t)=>(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsxs)("p",{className:"text-sm text-n70",children:["#",t+1]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-start ",children:[(0,wt.jsxs)("p",{className:"font-semibold",children:[" ",e.DATES]}),(0,wt.jsx)("p",{className:"".concat("Pending"===e.status?"text-yellow":"Success"===e.status?"text-g300":"text-red-400"," text-sm"),children:e.status})]})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-end items-end",children:[(0,wt.jsxs)("p",{className:"font-semibold",children:["$ ",e.AMOUNT]}),(0,wt.jsxs)("p",{className:"".concat("Pending"===e.status?"text-yellow":"Success"===e.status?"text-g300":"text-red-400"," text-sm"),children:["Txn. ",String(e.txn).slice(0,12),"\u2026",(0,wt.jsx)("i",{className:"ph ph-copy"})]})]})]},e.Activation_sl))}):(0,wt.jsxs)(wt.Fragment,{children:[" ",(0,wt.jsx)("p",{className:"text-center",children:"No Subscription Found"}),(0,wt.jsxs)("div",{className:"flex justify-center items-center",children:[(0,wt.jsx)("img",{src:"assets/no-data.png",alt:"",width:220})," "]})]})})]}),(0,wt.jsx)($R,{message:c,onClose:()=>l(""),isError:n})]})}function iT(){const[e,n]=(0,t.useState)([]),{address:r}=XR();return(0,t.useEffect)(()=>{!async function(){try{let e="https://unidex-a92343a5cde1.herokuapp.com/api/getIncomeStatement/"+r+"/All";const t=await fetch(e),i=await t.json();console.log("Data",i.data),n(i.data)}catch(uT){return void console.log("Error!")}}()},[r]),(0,wt.jsxs)("div",{className:"px-6 pt-8",children:[(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("p",{className:"text-xl font-semibold",children:"Income Statement"})}),(0,wt.jsx)("div",{className:"flex flex-col gap-2 pt-5",children:e.length>0?(0,wt.jsx)(wt.Fragment,{children:e.map((e,t)=>(0,wt.jsxs)("div",{className:" bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("p",{className:"text-sm text-n70",children:t+1}),(0,wt.jsx)("p",{className:"font-semibold",children:e.DATES})]}),(0,wt.jsx)("div",{className:"flex flex-col justify-end items-end",children:(0,wt.jsxs)("p",{className:"font-semibold",children:["$",e.CREDIT]})})]}),(0,wt.jsxs)("p",{className:"text-g300 text-sm",children:[e.FOLIO,"-",e.DETAILS]})]},e.Member_sl))}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("p",{className:"text-center",children:"No Data Found"}),(0,wt.jsxs)("div",{className:"flex justify-center items-center",children:[(0,wt.jsx)("img",{src:"assets/no-data.png",alt:"",width:220})," "]})]})})]})}function sT(){const[e,n]=(0,t.useState)([]),{address:r}=XR();return(0,t.useEffect)(()=>{!async function(){try{let e="https://unidex-a92343a5cde1.herokuapp.com/api/getDownline/"+r;const t=await fetch(e),i=await t.json();n(i.data)}catch(uT){return void console.log("Error!")}}()},[r]),(0,wt.jsxs)("div",{className:"px-6 pt-8",children:[(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("p",{className:"text-xl font-semibold",children:"Community"})}),(0,wt.jsx)("div",{className:"flex flex-col gap-2 pt-5",children:e.length>0?(0,wt.jsx)(wt.Fragment,{children:e.map((e,t)=>(0,wt.jsxs)("div",{className:" bg-white bg-opacity-5 p-4 rounded-xl",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsx)("div",{className:"flex justify-start items-center gap-2",children:(0,wt.jsxs)("p",{className:"font-semibold",children:["Level ",e.lvl]})}),(0,wt.jsx)("div",{className:"flex flex-col justify-end items-end",children:(0,wt.jsxs)("p",{className:"font-semibold",children:["$",e.busi]})})]},e.lvl),(0,wt.jsxs)("p",{className:"text-g300 text-sm",children:["Total ",e.team," : Active : ",e.team]})]}))}):""})]})}function oT(){const e=ue(),n="https://unidex-a92343a5cde1.herokuapp.com/api/",[r,i]=(0,t.useState)(0),[s,o]=(0,t.useState)(""),{fetchIncomeData:a}=tT(),{address:c,isConnected:l,signer:u,bnbBalance:h,usdtBalance:d,fetchBalances:f,getTxStatus:p,disconnectWallet:g}=XR();return(0,t.useEffect)(()=>{!async function(){l||e("/")}()},[l,e]),(0,t.useEffect)(()=>{!async function(){try{let t=n+"pending_activation/"+c;console.log(t);const r=await fetch(t),i=await r.json();if("No Data"!==i.data)for(const s of i.data)try{const t=await p(s.txn);if("success"===t){console.log(s.txn);const t=n+"booking",r={txn:s.txn,type:"success"},i={"Content-Type":"application/json"};try{const e=await fetch(t,{method:"POST",headers:i,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(e){console.log("Error!")}}else if("failed"===t){const t=n+"booking",r={txn:s.txn,type:"fail"},i={"Content-Type":"application/json"};try{const e=await fetch(t,{method:"POST",headers:i,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(e){console.log("Error!")}}}catch(uT){console.log("Error!")}}catch(uT){return void console.log("Error!")}}()},[c,p]),(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"container bg-n900 relative overflow-hidden flex justify-start items-start text-white pb-36 h-full",children:[(0,wt.jsx)("div",{className:"w-[582px] h-[582px] rounded-full bg-g300/10 absolute -top-48 -left-20 blur-[575px]"}),(0,wt.jsxs)("div",{className:"relative z-20 w-full",children:[(0,wt.jsxs)("div",{className:"bg-white bg-opacity-5 py-4 px-6 rounded-b-3xl",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsx)("div",{className:"flex justify-start items-center gap-2",children:(0,wt.jsx)("img",{src:"/logo.png",alt:"Logo",width:80})}),(0,wt.jsx)("div",{className:"flex justify-start items-center gap-2",children:(0,wt.jsxs)("span",{className:"text-n70 text-sm",children:[String(c).slice(0,10),"......",String(c).slice(-10)]})})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{className:"py-4",children:[(0,wt.jsx)("p",{className:"text-n70 text-sm",children:"Your available balance"}),(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,wt.jsx)("img",{src:"/assets/images/tet.png",alt:""}),(0,wt.jsxs)("p",{className:"text-[32px] font-bold text-white relative",children:[d,(0,wt.jsx)("span",{className:"text-sm font-normal text-g300 absolute top-1 -right-14",children:"(USDT)"})]})]}),(0,wt.jsxs)("p",{className:"text-sm text-n70",children:[(0,wt.jsx)("span",{className:"text-g300"}),h," (BNB)"]})]}),(0,wt.jsxs)("div",{className:"items-center",children:[(0,wt.jsx)("button",{className:"block bg-g300 font-semibold text-center py-3 px-3 rounded-lg openAgreeModal w-full",onClick:g,children:"Disconnect"}),(0,wt.jsx)("i",{className:"ph ph-arrows-counter-clockwise",style:{fontSize:"28px",cursor:"pointer"},onClick:()=>{f(c),o("Balance Refreshed")}})]})]})]}),0===r?(0,wt.jsx)(nT,{}):1===r?(0,wt.jsx)(rT,{}):2===r?(0,wt.jsx)(iT,{}):3===r?(0,wt.jsx)(sT,{}):"",(0,wt.jsx)("div",{className:"fixed left-0 right-0 bottom-0",children:(0,wt.jsxs)("div",{className:"container relative bg-white bg-opacity-5 py-5 flex justify-around items-center after:absolute after:bg-n700 after:inset-0",children:[(0,wt.jsx)("div",{className:"absolute left-[41%] bottom-[72px] z-40",onClick:()=>a(c),children:(0,wt.jsxs)("div",{className:"bg-g300 text-2xl p-3.5 rounded-full flex justify-center items-center relative",children:[(0,wt.jsx)("i",{className:"ph ph-arrows-counter-clockwise"}),(0,wt.jsx)("div",{className:"absolute -bottom-2 -left-5 -right-5 -z-10",children:(0,wt.jsx)("img",{src:"assets/images/reload-bg.png",alt:""})})]})}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 relative z-20",onClick:()=>i(0),children:[(0,wt.jsx)("i",{className:"ph ph-house text-2xl ".concat(0===r?"text-g300":"")}),(0,wt.jsx)("p",{className:"text-xs font-semibold",children:"Home"})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 z-20",onClick:()=>i(1),children:[(0,wt.jsx)("i",{className:"ph ph-globe text-2xl ".concat(1===r?"text-g300":"")}),(0,wt.jsx)("p",{className:"text-xs font-semibold",children:"Subscription"})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 z-20",onClick:()=>i(2),children:[(0,wt.jsx)("i",{className:"ph ph-align-bottom text-2xl ".concat(2===r?"text-g300":"")}),(0,wt.jsx)("p",{className:"text-xs font-semibold",children:"Income"})]}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 z-20",onClick:()=>i(3),children:[(0,wt.jsx)("i",{className:"ph ph-user text-2xl ".concat(3===r?"text-g300":"")}),(0,wt.jsx)("p",{className:"text-xs font-semibold",children:"Community"})]})]})})]})]}),(0,wt.jsx)($R,{message:s,onClose:()=>o(""),isError:!1})]})}function aT(){const e=ue(),n=navigator.userAgent.toLowerCase();n.includes("trust")?console.log("Opened inside Trust Wallet"):n.includes("metamask")?console.log("Opened inside MetaMask browser"):n.includes("coinbase")?console.log("Opened inside Coinbase Wallet browser"):console.log("Probably a normal browser (Chrome, Safari, etc.)");const r="https://unidex-a92343a5cde1.herokuapp.com/api/",i=ae(),s=new URLSearchParams(i.search).get("s"),[o,a]=(0,t.useState)(""),[c,l]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)(0),{connectWallet:m,address:y,isConnected:w,usdtBalance:b,bnbBalance:v,sendUSDT:E,fetchBalances:x}=XR(),[A,S]=(0,t.useState)("");return(0,t.useEffect)(()=>{a(s)},[s]),(0,t.useEffect)(()=>{!async function(){if(w)try{let t=r+"getUser/"+y;const n=await fetch(t);"No Data"!==(await n.json()).data?e("/wallet"):(l(!0),console.log("Not a user"))}catch(uT){return void l(!0)}else l(!1)}()},[y,w,e]),(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"container bg-n900 h-dvh relative overflow-hidden flex justify-start items-start text-white min-h-dvh",children:[(0,wt.jsx)("div",{className:"w-[582px] h-[582px] rounded-full bg-g300 absolute -top-32 -left-20 blur-[575px]"}),(0,wt.jsxs)("div",{className:"px-6 py-8 relative z-20",children:[(0,wt.jsxs)("div",{className:"flex justify-start items-center gap-20",children:[(0,wt.jsx)(ut,{to:"/",className:"flex justify-center items-center p-2 rounded-full bg-g300 text-n900",children:(0,wt.jsx)("i",{className:"ph-bold ph-caret-left"})}),w?(0,wt.jsxs)("span",{className:"text-n70 text-sm",children:[String(y).slice(0,10),"......",String(y).slice(-10)]}):(0,wt.jsx)("button",{className:"block bg-g300 font-semibold text-center py-3 rounded-lg openAgreeModal w-full",onClick:m,children:"Connect Wallet"})]}),(0,wt.jsxs)("div",{className:"flex justify-center items-center flex-col gap-3 text- pt-8",children:[(0,wt.jsx)("h1",{className:"text-2xl font-semibold",children:"Registation / Signin"}),(0,wt.jsx)("p",{className:"text-n70 text-sm text-center"})]}),(0,wt.jsx)("div",{className:"border border-white border-opacity-5 border-dashed w-full mt-8"}),c?(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("div",{className:"mt-6 p-4 bg-white bg-opacity-5 rounded-xl flex flex-col justify-center items-center text-center",children:[(0,wt.jsx)("p",{className:"text-n70 text-sm pt-3",children:"Sponsor"}),(0,wt.jsx)("ul",{className:"flex justify-center items-center gap-3 flex-wrap pt-4",children:(0,wt.jsx)("li",{className:"bg-white bg-opacity-5 py-2 px-4 rounded-md",children:(0,wt.jsxs)("span",{className:"font-normal",children:[String(o).slice(0,10),"......",String(o).slice(-10)]})})}),"USDT ",b," | BNB ",v," ",(0,wt.jsx)("i",{className:"ph ph-arrows-counter-clockwise",style:{fontSize:"24px",cursor:"pointer"},onClick:()=>{x(y)}})]}),(0,wt.jsxs)("ul",{className:"flex flex-wrap gap-3 pt-4",children:[(0,wt.jsxs)("li",{className:"".concat(1===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(1),S("You have selected $1"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"1"})]}),(0,wt.jsxs)("li",{className:"".concat(10===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(10),S("You have selected $10"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"10"})]}),(0,wt.jsxs)("li",{className:"".concat(25===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(25),S("You have selected $25"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"25"})]}),(0,wt.jsxs)("li",{className:"".concat(50===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(50),S("You have selected $50"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"50"})]}),(0,wt.jsxs)("li",{className:"".concat(100===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(100),S("You have selected $100"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"100"})]}),(0,wt.jsxs)("li",{className:"".concat(250===p?"bg-g300 bg-opacity-4":"bg-white bg-opacity-5"," py-2 px-4 rounded-md"),onClick:()=>{g(250),S("You have selected $250"),h(!1)},children:[(0,wt.jsx)("span",{className:"text-n70",children:"$"}),(0,wt.jsx)("span",{className:"font-medium",children:"250"})]})]}),(0,wt.jsx)("div",{className:"w-full pt-20 flex justify-center items-center",children:d?(0,wt.jsx)("div",{className:"text-center",children:(0,wt.jsx)("img",{src:"assets/images/wait.gif",alt:"Loading",width:55})}):(0,wt.jsx)("button",{className:"block bg-g300 font-semibold text-center py-3 rounded-lg openAgreeModal w-full",onClick:()=>async function(){if(f(!0),!y)return S("Please Connect Wallet"),h(!0),void f(!1);if(!o)return S("Please come back here by a refer link"),h(!0),void f(!1);try{let e=r+"getUser/"+o;const t=await fetch(e);if("No Data"===(await t.json()).data)return S("Invalid Refer Address"),h(!0),void f(!1)}catch(uT){return S("Invalid Refer Address"),h(!0),void f(!1)}if(parseInt(p)<=0)return S("Select Subscription Amount"),h(!0),void f(!1);if(parseFloat(p)>parseFloat(b))return S("You have not enough balance"),h(!0),void f(!1);if(parseFloat(v)<=0)return S("BNB Required for GAS Fee"),h(!0),void f(!1);var t="";try{t=await E("0x435c6e931b3ae74f448374f7e74cda97f4ef62fc",p.toString())}catch(a){return console.error(a),S("Transaction Error"),h(!0),void f(!1)}const n=r+"signup",i={spn:o,public:y,amt:p,txn:t},s={"Content-Type":"application/json"};try{const t=await fetch(n,{method:"POST",headers:s,body:JSON.stringify(i)});if(!t.ok)throw f(!1),new Error("HTTP error! status: ".concat(t.status));"Sponsor Not Exists"!==(await t.json()).data[0].uid?(f(!1),x(y),e("/wallet")):(S("Sponsor Not Exists"),h(!0),f(!1),console.log("Sponsor Not Exists"))}catch(c){console.log("Others Error!"),f(!1)}}(),children:"Create Account"})})]}):(0,wt.jsx)("img",{src:"/connect.png",alt:"Connect",onClick:m})]})]}),(0,wt.jsx)($R,{message:A,onClose:()=>S(""),isError:u})]})}const cT=function(){return(0,wt.jsx)(ct,{children:(0,wt.jsxs)(Ne,{children:[(0,wt.jsx)(Pe,{path:"/",element:(0,wt.jsx)(bt,{})}),(0,wt.jsx)(Pe,{path:"/wallet",element:(0,wt.jsx)(oT,{})}),(0,wt.jsx)(Pe,{path:"/sign",element:(0,wt.jsx)(aT,{})})]})})},lT=e=>{e&&e instanceof Function&&n.e(6453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};r.createRoot(document.getElementById("root")).render((0,wt.jsx)(t.StrictMode,{children:(0,wt.jsx)(cT,{})})),lT()})()})();
//# sourceMappingURL=main.f4a92320.js.map